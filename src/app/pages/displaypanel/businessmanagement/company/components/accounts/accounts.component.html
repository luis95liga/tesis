<mat-toolbar class="text-white bg-primary">
  <span>Cuentas Bancarias</span>
  <span class="fill-remaining-space"></span>
  <button mat-icon-button [mat-dialog-close]="true" >
    <i class="fa-solid fa-xmark"></i>
  </button>
</mat-toolbar>
<mat-dialog-content>
  <div class="d-flex">
    <div class="p-2 flex-grow-1">
      <div class="row">
        <div class="col-10">
          <form  [formGroup]="acountform">
            <div class="row" *ngIf="new">
              <div class="col">
                <div class="form-group">
                  <label class="col-form-label col-form-label-sm mt-4">Nombre del Banco</label>
                  <input type="text" class="form-control form-control-sm" [ngClass]="{'is-invalid': isvalid('bank_name'), 'is-valid': acountform.get('bank_name').valid }" formControlName="bank_name" placeholder="Nombre del Banco">
                  <small class="form-text text-danger" *ngIf="isvalid('bank_name') || false">
                    {{ errorMessage('bank_name') }}
                  </small>
                </div>
              </div>
              <div class="col">
                <div class="form-group">
                  <label class="col-form-label col-form-label-sm mt-4">Numero de Cuenta</label>
                  <input type="text" class="form-control form-control-sm" [ngClass]="{'is-invalid': isvalid('account_number'), 'is-valid': acountform.get('account_number').valid }" formControlName="account_number" placeholder="20222222222">
                  <small class="form-text text-danger"*ngIf="isvalid('account_number') || false">
                    {{ errorMessage('account_number') }}
                  </small>
                </div>
              </div>
              <div class="col">
                <br>
                <br>
                <br>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="flexCheckChecked" checked="false" formControlName="default">
                  <label class="form-check-label" for="flexCheckChecked">
                    Defecto
                  </label>
                  <small class="form-text text-danger"*ngIf="isvalid('default') || false">
                    {{ errorMessage('default') }}
                  </small>
                </div>
              </div>
            </div>
          </form>
        </div>
        <div class="col-2">
        </div>
      </div>
    </div>
    <div class="p-2">
      <button type="button" (click)="New(new)" class="btn btn-outline-success">
        <i class="fa-solid" [ngClass]="{'fa-plus': !new, 'fa-check': new }"></i>
      </button>
      <samp style="margin: 5px;" *ngIf="new"></samp>
      <button type="button" *ngIf="new" (click)="cancel(new)" class="btn btn-outline-danger">
        <i class="fa-solid fa-x"></i>
      </button>
    </div>
  </div>
  <div>
    <table mat-table [dataSource]="dataSource" class="table table-striped table-hover">
      <ng-container matColumnDef="idbank_account">
        <th scope="col" *matHeaderCellDef>Id</th>
        <td scope="row" *matCellDef="let element">{{ element.idbank_account }}</td>
      </ng-container>
      <ng-container matColumnDef="bank_name">
        <th scope="col" *matHeaderCellDef>Nombre de Banco<th>
        <td scope="row" *matCellDef="let element">{{ element.bank_name }}</td>
      </ng-container>
      <ng-container matColumnDef="account_number">
        <th scope="col" *matHeaderCellDef>Numero de Cuenta<th>
        <td scope="row" *matCellDef="let element">{{ element.account_number }}</td>
      </ng-container>
      <ng-container matColumnDef="default">
        <th scope="col" *matHeaderCellDef>Defecto</th>
        <td scope="row" *matCellDef="let element"><input class="form-check-input" type="checkbox" disabled [checked]="element.default"></td>
      </ng-container>
      <ng-container matColumnDef="actions">
        <th scope="col" *matHeaderCellDef>Actiones</th>
        <td scope="row" *matCellDef="let element">
          <div class="">
            <button (click)="Edit(element.idbank_account)" class="spacer btn btn-outline-warning">
              <i class="fa-solid fa-file-pen"></i>
            </button>
            <button (click)="delete(element.idbank_account)" class="spacer btn btn-outline-danger">
              <i class="fa-solid fa-trash-can"></i>
            </button>
          </div>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>

</mat-dialog-content>
