"use strict";(self.webpackChunkapptrasrouter=self.webpackChunkapptrasrouter||[]).push([[910],{4910:($,b,r)=>{r.r(b),r.d(b,{ProvinceModule:()=>m});var f=r(6895),C=r(4738),v=r(9299),o=r(4006),s=r(671),e=r(4650),S=r(7121),_=r(7185),g=r(7974),E=r(5829);const x=["scheduledOrdersPaginator"];function P(i,t){if(1&i&&(e.\u0275\u0275elementStart(0,"small",49),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.errorMessage("name")," ")}}function O(i,t){if(1&i&&(e.\u0275\u0275elementStart(0,"option",50),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const n=t.$implicit;e.\u0275\u0275property("value",n.idcountry),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2("",n.name," ( ",n.initials," )")}}function w(i,t){if(1&i&&(e.\u0275\u0275elementStart(0,"small",49),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.errorMessage("idcountry")," ")}}function T(i,t){1&i&&(e.\u0275\u0275elementStart(0,"th",51),e.\u0275\u0275text(1,"Id"),e.\u0275\u0275elementEnd())}function D(i,t){if(1&i&&(e.\u0275\u0275elementStart(0,"td",52),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const n=t.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.idprovince)}}function k(i,t){1&i&&(e.\u0275\u0275elementStart(0,"th",51),e.\u0275\u0275text(1,"Nombre"),e.\u0275\u0275elementEnd())}function I(i,t){if(1&i&&(e.\u0275\u0275elementStart(0,"td",52),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const n=t.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.name)}}function M(i,t){1&i&&(e.\u0275\u0275elementStart(0,"th",51),e.\u0275\u0275text(1,"Nombre"),e.\u0275\u0275elementEnd())}function F(i,t){if(1&i&&(e.\u0275\u0275elementStart(0,"td",52),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const n=t.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.country)}}function z(i,t){1&i&&(e.\u0275\u0275elementStart(0,"th",51),e.\u0275\u0275text(1,"Actiones"),e.\u0275\u0275elementEnd())}function N(i,t){if(1&i){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"td",52)(1,"div",53)(2,"button",54),e.\u0275\u0275listener("click",function(){const u=e.\u0275\u0275restoreView(n).$implicit,h=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(h.edit(u.idprovince))}),e.\u0275\u0275element(3,"i",55),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",56),e.\u0275\u0275listener("click",function(){const u=e.\u0275\u0275restoreView(n).$implicit,h=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(h.delete(u.idprovince))}),e.\u0275\u0275element(5,"i",57),e.\u0275\u0275elementEnd()()()}}function j(i,t){1&i&&e.\u0275\u0275element(0,"tr",58)}function R(i,t){1&i&&e.\u0275\u0275element(0,"tr",59)}const L=function(){return["/displaypanel"]},V=function(){return["/displaypanel/business"]},y=function(i,t){return{"is-invalid":i,"is-valid":t}};var l=(()=>{return(i=l||(l={})).EDIT="edit",i.NEW="new",l;var i})();class d{set paginator(t){t&&(this.dataSource.paginator=t)}constructor(t,n,a){this.placeSvc=t,this.fb=n,this.toastr=a,this.actionTODO="",this.isedit=0,this.message="",this.displayedColumns=["idprovince","name","country","actions"],this.dataSource=new s.by,this.length=0,this.pageSize=10,this.pageSizeOptions=[],this.numRegex=/^-?\d*[.,]?\d{0,2}$/,this.m=[],this.ed=!1,this.cl=!1,this.provinces=[],this.country=[]}ngOnInit(){this.cl=!0,this.actionTODO=l.NEW,this.list(),this.provinceForm()}list(){this.placeSvc.GetProvince().subscribe(t=>{this.dataSource.data=t,this.length=t.length,this.pageSizeOptions=[5,10,20,t.length]},t=>console.error(t)),this.placeSvc.GetCountry().subscribe(t=>{this.country=t},t=>console.error(t))}provinceForm(){this.provinceform=this.fb.group({name:[{value:"",disabled:!0},[o.kI.required,o.kI.minLength(4)]],idcountry:[{value:"",disabled:!0},[o.kI.required]]})}fromdisable(t){t?(this.provinceform.controls.name.enable(),this.provinceform.controls.idcountry.enable()):(this.provinceform.controls.name.disable(),this.provinceform.controls.idcountry.disable())}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}save(){const t=this.provinceform.value;0==this.isedit?this.actionTODO===l.NEW&&this.placeSvc.PostProvince(t).subscribe(n=>{this.m=n,this.toastr.success(this.m.message,"Creado",{timeOut:3e3}),this.list(),this.provinceform.reset(),this.isedit=0,this.cl=!1,this.ed=!1,this.fromdisable(this.ed)}):this.actionTODO===l.EDIT&&this.placeSvc.PutProvince(t,this.isedit).subscribe(n=>{this.m=n,this.toastr.warning(this.m.message,"actulizado",{timeOut:3e3}),this.list(),this.provinceform.reset(),this.isedit=0,this.actionTODO=l.NEW,this.cl=!1,this.ed=!1,this.fromdisable(this.ed)})}new(){this.actionTODO=l.NEW,this.provinceform.reset(),this.isedit=0,this.ed=!0,this.fromdisable(this.ed),this.cl=!0}edit(t){this.ed=!0,this.fromdisable(this.ed),this.cl=!0,this.actionTODO=l.EDIT,this.isedit=t,this.isedit&&this.placeSvc.GetIdProvince(t).subscribe(n=>{this.provinceform.patchValue({name:n.name,idcountry:n.idcountry}),this.provinceform.updateValueAndValidity()})}cancel(){this.ed=!1,this.fromdisable(this.ed),this.cl=!1,this.provinceform.reset(),this.isedit=0,this.actionTODO=l.NEW}delete(t){window.confirm("Desea eliminar este Registro")&&this.placeSvc.DeleteProvince(t).subscribe(n=>{this.toastr.error("Registro Eliminado","Eliminado",{timeOut:3e3}),this.list()})}isvalid(t){return this.provinceform.get(t).invalid&&(this.provinceform.get(t).dirty||this.provinceform.get(t).touched)}errorMessage(t){const{errors:n}=this.provinceform.get(t);let a=n?.minlength?.requiredLength;return n?{required:"el campo es requerido",minlength:`el valor ingresado es menor a ${a} carateres`}[Object.keys(n).find(Boolean)||""]:""}}d.\u0275fac=function(t){return new(t||d)(e.\u0275\u0275directiveInject(S.k),e.\u0275\u0275directiveInject(o.qu),e.\u0275\u0275directiveInject(_._W))},d.\u0275cmp=e.\u0275\u0275defineComponent({type:d,selectors:[["app-province"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(x,5),2&t){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(n.paginator=a.first)}},decls:72,vars:24,consts:[[1,"container-fluid"],[1,"mt-4"],["aria-label","breadcrumb",1,"breadcrumb",2,"--bs-breadcrumb-divider","url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E\")"],[1,"breadcrumb-item"],[1,"text-info-emphasis",3,"routerLink"],[1,"fa-solid","fa-house"],[3,"routerLink"],[1,"breadcrumb-item","active"],[1,"form-group","d-flex","justify-content-between"],[1,"fw-bold"],["type","button",1,"btn","btn-lg","btn-primary","btn-sm",3,"click"],[1,"fa-solid","fa-plus"],[1,"mt-1"],[1,"card"],[1,"card-body",3,"formGroup"],[1,"row"],[1,"col-sm-6"],[1,"form-group","row"],[1,"col-sm-2","col-form-label","fw-bold"],[1,"col-sm-10"],["type","text","placeholder","nombre","formControlName","name","required","",1,"form-control","form-control-sm",3,"ngClass"],["class","form-text text-danger",4,"ngIf"],[1,"col-sm-5"],["formControlName","idcountry","required","",1,"form-select","form-select-sm",3,"ngClass"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-1"],["type","button",1,"spacer","btn","btn-outline-success","btn-sm",3,"disabled","click"],[1,"fa-solid","fa-floppy-disk"],["type","button",1,"spacer","btn","btn-outline-danger","btn-sm",3,"disabled","click"],[1,"fa-solid","fa-trash"],[1,"card-body"],[1,"d-flex","justify-content-between"],[1,"mb-1","row","text-black"],[1,"spacer1"],[1,"col-sm-4","col-form-label","fw-bold"],[1,"col-sm-8"],["type","text","placeholder","Buscar",1,"form-control","form-control-sm",3,"keyup"],["mat-table","",1,"table","table-striped","table-hover",3,"dataSource"],["matColumnDef","idprovince"],["scope","col",4,"matHeaderCellDef"],["scope","row",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","country"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],["scheduledOrdersPaginator",""],[1,"form-text","text-danger"],[3,"value"],["scope","col"],["scope","row"],[1,""],[1,"spacer","btn","btn-outline-warning",3,"click"],[1,"fa-solid","fa-file-pen"],[1,"spacer","btn","btn-outline-danger",3,"click"],[1,"fa-solid","fa-trash-can"],["mat-header-row",""],["mat-row",""]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"div",1),e.\u0275\u0275elementStart(2,"ol",2)(3,"li",3)(4,"a",4),e.\u0275\u0275element(5,"i",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"li",3)(7,"a",6),e.\u0275\u0275text(8,"Empresa"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"li",7),e.\u0275\u0275text(10,"Provincia"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div",8)(12,"h4",9),e.\u0275\u0275text(13,"Provincia"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"button",10),e.\u0275\u0275listener("click",function(){return n.new()}),e.\u0275\u0275element(15,"i",11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(16,"div",12),e.\u0275\u0275elementStart(17,"div",13)(18,"form",14)(19,"div",15)(20,"div",16)(21,"div",17)(22,"label",18),e.\u0275\u0275text(23,"Provincia:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"div",19),e.\u0275\u0275element(25,"input",20),e.\u0275\u0275template(26,P,2,1,"small",21),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(27,"div",22)(28,"div",17)(29,"label",18),e.\u0275\u0275text(30,"Pa\xeds:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"div",19)(32,"select",23)(33,"option",24),e.\u0275\u0275text(34,"seleccione uno"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(35,O,2,3,"option",25),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(36,w,2,1,"small",21),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(37,"div",26)(38,"button",27),e.\u0275\u0275listener("click",function(){return n.save()}),e.\u0275\u0275element(39,"i",28),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"button",29),e.\u0275\u0275listener("click",function(){return n.cancel()}),e.\u0275\u0275element(41,"i",30),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275element(42,"div",12),e.\u0275\u0275elementStart(43,"div",13)(44,"div",31)(45,"div",32),e.\u0275\u0275element(46,"div",33)(47,"div",34),e.\u0275\u0275elementStart(48,"div",17)(49,"label",35),e.\u0275\u0275text(50,"Buscar:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(51,"div",36)(52,"input",37),e.\u0275\u0275listener("keyup",function(p){return n.applyFilter(p)}),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(53,"table",38),e.\u0275\u0275elementContainerStart(54,39),e.\u0275\u0275template(55,T,2,0,"th",40),e.\u0275\u0275template(56,D,2,1,"td",41),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(57,42),e.\u0275\u0275template(58,k,2,0,"th",40),e.\u0275\u0275element(59,"th"),e.\u0275\u0275template(60,I,2,1,"td",41),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(61,43),e.\u0275\u0275template(62,M,2,0,"th",40),e.\u0275\u0275element(63,"th"),e.\u0275\u0275template(64,F,2,1,"td",41),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(65,44),e.\u0275\u0275template(66,z,2,0,"th",40),e.\u0275\u0275template(67,N,6,0,"td",41),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275template(68,j,1,0,"tr",45),e.\u0275\u0275template(69,R,1,0,"tr",46),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(70,"mat-paginator",47,48),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275advance(4),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(16,L)),e.\u0275\u0275advance(3),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(17,V)),e.\u0275\u0275advance(11),e.\u0275\u0275property("formGroup",n.provinceform),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(18,y,n.isvalid("name"),n.provinceform.get("name").valid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isvalid("name")||!1),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(21,y,n.isvalid("idcountry"),n.provinceform.get("idcountry").valid)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",n.country),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isvalid("idcountry")||!1),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!n.provinceform.valid),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!n.ed),e.\u0275\u0275advance(13),e.\u0275\u0275property("dataSource",n.dataSource),e.\u0275\u0275advance(15),e.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),e.\u0275\u0275advance(1),e.\u0275\u0275property("matRowDefColumns",n.displayedColumns),e.\u0275\u0275advance(1),e.\u0275\u0275property("length",n.length)("pageSize",5)("pageSizeOptions",n.pageSizeOptions))},dependencies:[f.mk,f.sg,f.O5,v.rH,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.XQ,s.Gk,g.NW,E.oO,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.Q7,o.sg,o.u],styles:[".spacer[_ngcontent-%COMP%]{border:none}.spacer2[_ngcontent-%COMP%]{margin:10px}.spacer1[_ngcontent-%COMP%]{flex:1 1 auto;margin-left:40%}table[_ngcontent-%COMP%]{width:100%}.spacer1[_ngcontent-%COMP%]{flex:1 1 auto}"]});const W=[{path:"",component:d}];class c{}c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=e.\u0275\u0275defineNgModule({type:c}),c.\u0275inj=e.\u0275\u0275defineInjector({imports:[v.Bz.forChild(W),v.Bz]});class m{}m.\u0275fac=function(t){return new(t||m)},m.\u0275mod=e.\u0275\u0275defineNgModule({type:m}),m.\u0275inj=e.\u0275\u0275defineInjector({imports:[f.ez,c,C.q,o.UX,g.TU]})}}]);