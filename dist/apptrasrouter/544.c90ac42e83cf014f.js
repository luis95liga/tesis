"use strict";(self.webpackChunkapptrasrouter=self.webpackChunkapptrasrouter||[]).push([[544],{2990:(A,_,a)=>{a.r(_),a.d(_,{VehicleUseModule:()=>m});var h=a(6895),f=a(9299),l=a(4006),s=a(671),e=a(4650),b=a(2965),C=a(7185),y=a(7974),x=a(5829);const S=["scheduledOrdersPaginator"];function E(i,t){if(1&i&&(e.\u0275\u0275elementStart(0,"small",49),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.errorMessage("vehicle_use")," ")}}function V(i,t){if(1&i&&(e.\u0275\u0275elementStart(0,"small",49),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.errorMessage("category")," ")}}function U(i,t){if(1&i&&(e.\u0275\u0275elementStart(0,"small",50),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.errorMessage("apply_in")," ")}}function w(i,t){1&i&&(e.\u0275\u0275elementStart(0,"th",51),e.\u0275\u0275text(1,"Id"),e.\u0275\u0275elementEnd())}function O(i,t){if(1&i&&(e.\u0275\u0275elementStart(0,"td",52),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const n=t.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.idvehicle_use)}}function D(i,t){1&i&&(e.\u0275\u0275elementStart(0,"th",51),e.\u0275\u0275text(1,"Uso del Vehiculo"),e.\u0275\u0275elementEnd())}function T(i,t){if(1&i&&(e.\u0275\u0275elementStart(0,"td",52),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const n=t.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.vehicle_use)}}function I(i,t){1&i&&(e.\u0275\u0275elementStart(0,"th",51),e.\u0275\u0275text(1,"Categoria"),e.\u0275\u0275elementEnd())}function k(i,t){if(1&i&&(e.\u0275\u0275elementStart(0,"td",52),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const n=t.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.category)}}function M(i,t){1&i&&(e.\u0275\u0275elementStart(0,"th",51),e.\u0275\u0275text(1,"Aplicar en"),e.\u0275\u0275elementEnd())}function z(i,t){if(1&i&&(e.\u0275\u0275elementStart(0,"td",52),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const n=t.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.apply_in)}}function F(i,t){1&i&&(e.\u0275\u0275elementStart(0,"th",51),e.\u0275\u0275text(1,"Actiones"),e.\u0275\u0275elementEnd())}function N(i,t){if(1&i){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"td",52)(1,"div",53)(2,"button",54),e.\u0275\u0275listener("click",function(){const p=e.\u0275\u0275restoreView(n).$implicit,g=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(g.edit(p))}),e.\u0275\u0275element(3,"i",55),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",56),e.\u0275\u0275listener("click",function(){const p=e.\u0275\u0275restoreView(n).$implicit,g=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(g.delete(p.idvehicle_use))}),e.\u0275\u0275element(5,"i",57),e.\u0275\u0275elementEnd()()()}}function j(i,t){1&i&&e.\u0275\u0275element(0,"tr",58)}function L(i,t){1&i&&e.\u0275\u0275element(0,"tr",59)}const R=function(){return["/displaypanel"]},P=function(){return["/displaypanel/vehicle/"]},v=function(i,t){return{"is-invalid":i,"is-valid":t}};var r=(()=>{return(i=r||(r={})).EDIT="edit",i.NEW="new",r;var i})();class d{set paginator(t){t&&(this.dataSource.paginator=t)}constructor(t,n,o){this.catalogurSvc=t,this.fb=n,this.toastr=o,this.actionTODO="",this.isedit=0,this.message="",this.displayedColumns=["idvehicle_use","vehicle_use","category","apply_in","actions"],this.dataSource=new s.by,this.length=0,this.pageSize=10,this.pageSizeOptions=[],this.ed=!1,this.vehicleuses=[],this.vehicleuse=[]}ngOnInit(){this.actionTODO=r.NEW,this.list(),this.vehicleUseForm()}list(){this.ed=!1,this.catalogurSvc.GetVehicleUse().subscribe(t=>{this.dataSource.data=t,this.length=t.length,this.pageSizeOptions=[5,10,20,t.length]},t=>console.error(t))}vehicleUseForm(){this.vehicleuseform=this.fb.group({vehicle_use:[{value:"",disabled:!0},[l.kI.required,l.kI.minLength(4)]],category:[{value:"",disabled:!0},[l.kI.required,l.kI.minLength(4)]],apply_in:[{value:"",disabled:!0},[l.kI.required,l.kI.minLength(4)]]})}fromdisable(t){t?(this.vehicleuseform.controls.vehicle_use.enable(),this.vehicleuseform.controls.category.enable(),this.vehicleuseform.controls.apply_in.enable()):(this.vehicleuseform.controls.vehicle_use.disable(),this.vehicleuseform.controls.category.disable(),this.vehicleuseform.controls.apply_in.disable())}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}save(){const t=this.vehicleuseform.value;0==this.isedit?this.actionTODO===r.NEW&&(console.log("new",t),this.catalogurSvc.PostVehicleUse(t).subscribe(n=>{this.m=n,this.toastr.success(this.m.message,"Creado",{timeOut:3e3}),this.list(),this.vehicleuseform.reset(),this.isedit=0,this.ed=!1,this.fromdisable(this.ed)})):this.actionTODO===r.EDIT&&(console.log("update",t),this.catalogurSvc.PutVehicleUse(t,this.isedit).subscribe(n=>{this.m=n,this.toastr.warning(this.m.message,"Actualizado",{timeOut:3e3}),this.list(),this.vehicleuseform.reset(),this.isedit=0,this.actionTODO=r.NEW,this.ed=!1,this.fromdisable(this.ed)}))}New(){this.vehicleuseform.reset(),this.isedit=0,this.ed=!0,this.fromdisable(this.ed)}edit(t){this.ed=!0,this.fromdisable(this.ed),this.actionTODO=r.EDIT,this.isedit=t.idvehicle_use,this.vehicleuseform.patchValue({vehicle_use:t.vehicle_use,category:t.category,apply_in:t.apply_in}),this.vehicleuseform.updateValueAndValidity()}cancel(){this.vehicleuseform.reset(),this.isedit=0,this.actionTODO=r.NEW,this.ed=!1,this.fromdisable(this.ed)}delete(t){window.confirm("Desea eliminar este Este Registro")&&this.catalogurSvc.DeleteVehicleUse(t).subscribe(n=>{this.toastr.error("Registro Eliminado","Eliminado",{timeOut:3e3}),this.list()})}isvalid(t){return this.vehicleuseform.get(t).invalid&&(this.vehicleuseform.get(t).dirty||this.vehicleuseform.get(t).touched)}errorMessage(t){const{errors:n}=this.vehicleuseform.get(t);let o=n?.minlength?.requiredLength;return n?{required:"el campo es requerido",minlength:`el valor ingesado es menor a ${o} carateres`}[Object.keys(n).find(Boolean)||""]:""}}d.\u0275fac=function(t){return new(t||d)(e.\u0275\u0275directiveInject(b.k),e.\u0275\u0275directiveInject(l.qu),e.\u0275\u0275directiveInject(C._W))},d.\u0275cmp=e.\u0275\u0275defineComponent({type:d,selectors:[["app-vehicle-use"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(S,5),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.paginator=o.first)}},decls:80,vars:28,consts:[[1,"container-fluid"],[1,"mt-4"],["aria-label","breadcrumb",1,"breadcrumb",2,"--bs-breadcrumb-divider","url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E\")"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"fa-solid","fa-house"],[1,"breadcrumb-item","active"],[1,"form-group","d-flex","justify-content-between"],[1,"fw-bold"],["type","button",1,"btn","btn-lg","btn-primary","btn-sm",3,"click"],[1,"fa-solid","fa-plus"],[1,"mt-1"],[1,"card"],[1,"card-body",3,"formGroup"],[1,"row"],[1,"col-sm-4"],[1,"form-group","row"],[1,"col-sm-5","col-form-label","fw-bold"],[1,"col-sm-7"],["type","text","placeholder","Uso del Veh\xedculo","formControlName","vehicle_use",1,"form-control",3,"ngClass"],["class","form-text text-danger",4,"ngIf"],[1,"col-sm-3"],[1,"col-sm-4","col-form-label","fw-bold"],[1,"col-sm-8"],["type","text","placeholder","Categor\xeda","formControlName","category",1,"form-control",3,"ngClass"],["type","text","placeholder","Aplicar en","formControlName","apply_in",1,"form-control",3,"ngClass"],["class","form-text text-danger","class","text-danger",4,"ngIf"],[1,"col-sm-1"],["type","button",1,"spacer","btn","btn-outline-success","btn-sm",3,"disabled","click"],[1,"fa-solid","fa-floppy-disk"],["type","button",1,"spacer","btn","btn-outline-danger","btn-sm",3,"disabled","click"],[1,"fa-solid","fa-trash"],[1,"card-body"],[1,"d-flex","justify-content-between"],[1,"mb-1","row","text-black"],[1,"spacer1"],["type","text","placeholder","Buscar",1,"form-control","form-control-sm",3,"keyup"],["mat-table","",1,"table","table-striped","table-hover",3,"dataSource"],["matColumnDef","idvehicle_use"],["scope","col",4,"matHeaderCellDef"],["scope","row",4,"matCellDef"],["matColumnDef","vehicle_use"],["matColumnDef","category"],["matColumnDef","apply_in"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],["scheduledOrdersPaginator",""],[1,"form-text","text-danger"],[1,"text-danger"],["scope","col"],["scope","row"],[1,""],[1,"spacer","btn","btn-outline-warning",3,"click"],[1,"fa-solid","fa-file-pen"],[1,"spacer","btn","btn-outline-danger",3,"click"],[1,"fa-solid","fa-trash-can"],["mat-header-row",""],["mat-row",""]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"div",1),e.\u0275\u0275elementStart(2,"ol",2)(3,"li",3)(4,"a",4),e.\u0275\u0275element(5,"i",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"li",3)(7,"a",4),e.\u0275\u0275text(8,"Veh\xedculos"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"li",6),e.\u0275\u0275text(10,"Uso de Veh\xedculo"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div",7)(12,"h4",8),e.\u0275\u0275text(13,"Uso del Veh\xedculo"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"button",9),e.\u0275\u0275listener("click",function(){return n.New()}),e.\u0275\u0275element(15,"i",10),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(16,"div",11),e.\u0275\u0275elementStart(17,"div",12)(18,"form",13)(19,"div",14)(20,"div",15)(21,"div",16)(22,"label",17),e.\u0275\u0275text(23,"Uso del Veh\xedculo:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"div",18),e.\u0275\u0275element(25,"input",19),e.\u0275\u0275template(26,E,2,1,"small",20),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(27,"div",21)(28,"div",16)(29,"label",22),e.\u0275\u0275text(30,"Categor\xeda:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"div",23),e.\u0275\u0275element(32,"input",24),e.\u0275\u0275template(33,V,2,1,"small",20),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(34,"div",15)(35,"div",16)(36,"label",22),e.\u0275\u0275text(37,"Aplicar en:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"div",23),e.\u0275\u0275element(39,"input",25),e.\u0275\u0275template(40,U,2,1,"small",26),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(41,"div",27)(42,"button",28),e.\u0275\u0275listener("click",function(){return n.save()}),e.\u0275\u0275element(43,"i",29),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"button",30),e.\u0275\u0275listener("click",function(){return n.cancel()}),e.\u0275\u0275element(45,"i",31),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275element(46,"div",11),e.\u0275\u0275elementStart(47,"div",12)(48,"div",32)(49,"div",33),e.\u0275\u0275element(50,"div",34)(51,"div",35),e.\u0275\u0275elementStart(52,"div",16)(53,"label",22),e.\u0275\u0275text(54,"Buscar:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(55,"div",23)(56,"input",36),e.\u0275\u0275listener("keyup",function(u){return n.applyFilter(u)}),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(57,"table",37),e.\u0275\u0275elementContainerStart(58,38),e.\u0275\u0275template(59,w,2,0,"th",39),e.\u0275\u0275template(60,O,2,1,"td",40),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(61,41),e.\u0275\u0275template(62,D,2,0,"th",39),e.\u0275\u0275element(63,"th"),e.\u0275\u0275template(64,T,2,1,"td",40),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(65,42),e.\u0275\u0275template(66,I,2,0,"th",39),e.\u0275\u0275element(67,"th"),e.\u0275\u0275template(68,k,2,1,"td",40),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(69,43),e.\u0275\u0275template(70,M,2,0,"th",39),e.\u0275\u0275element(71,"th"),e.\u0275\u0275template(72,z,2,1,"td",40),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(73,44),e.\u0275\u0275template(74,F,2,0,"th",39),e.\u0275\u0275template(75,N,6,0,"td",40),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275template(76,j,1,0,"tr",45),e.\u0275\u0275template(77,L,1,0,"tr",46),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(78,"mat-paginator",47,48),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275advance(4),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(17,R)),e.\u0275\u0275advance(3),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(18,P)),e.\u0275\u0275advance(11),e.\u0275\u0275property("formGroup",n.vehicleuseform),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(19,v,n.isvalid("vehicle_use"),n.vehicleuseform.get("vehicle_use").valid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isvalid("vehicle_use")||!1),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(22,v,n.isvalid("category"),n.vehicleuseform.get("category").valid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isvalid("category")||!1),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(25,v,n.isvalid("apply_in"),n.vehicleuseform.get("apply_in").valid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isvalid("apply_in")||!1),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!n.vehicleuseform.valid),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!n.ed),e.\u0275\u0275advance(13),e.\u0275\u0275property("dataSource",n.dataSource),e.\u0275\u0275advance(19),e.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),e.\u0275\u0275advance(1),e.\u0275\u0275property("matRowDefColumns",n.displayedColumns),e.\u0275\u0275advance(1),e.\u0275\u0275property("length",n.length)("pageSize",5)("pageSizeOptions",n.pageSizeOptions))},dependencies:[h.mk,h.O5,f.rH,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.XQ,s.Gk,y.NW,x.oO,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u],styles:[".spacer[_ngcontent-%COMP%]{border:none}.spacer2[_ngcontent-%COMP%]{margin:10px}.spacer1[_ngcontent-%COMP%]{flex:1 1 auto;margin-left:40%}table[_ngcontent-%COMP%]{width:100%}.spacer1[_ngcontent-%COMP%]{flex:1 1 auto}"]});const W=[{path:"",component:d}];class c{}c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=e.\u0275\u0275defineNgModule({type:c}),c.\u0275inj=e.\u0275\u0275defineInjector({imports:[f.Bz.forChild(W),f.Bz]});var $=a(4738);class m{}m.\u0275fac=function(t){return new(t||m)},m.\u0275mod=e.\u0275\u0275defineNgModule({type:m}),m.\u0275inj=e.\u0275\u0275defineInjector({imports:[h.ez,c,$.q,l.UX]})}}]);