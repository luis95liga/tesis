"use strict";(self.webpackChunkapptrasrouter=self.webpackChunkapptrasrouter||[]).push([[43],{43:(fe,b,o)=>{o.r(b),o.d(b,{ClientsModule:()=>h});var _=o(6895),x=o(9299),m=o(671),e=o(4650),y=o(3683),S=o(4859),c=o(5938);class v{}v.\u0275fac=function(n){return new(n||v)},v.\u0275cmp=e.\u0275\u0275defineComponent({type:v,selectors:[["app-view"]],decls:6,vars:1,consts:[[1,"text-white","bg-primary"],[1,"fill-remaining-space"],["mat-icon-button","",3,"mat-dialog-close"],[1,"fa-solid","fa-xmark"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"mat-toolbar",0)(1,"span"),e.\u0275\u0275text(2,"Cliente"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"span",1),e.\u0275\u0275elementStart(4,"button",2),e.\u0275\u0275element(5,"i",3),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275advance(4),e.\u0275\u0275property("mat-dialog-close",!0))},dependencies:[y.Ye,S.RK,c.ZT]});var l=o(4006),F=o(3077),E=o(8216),T=o(5006),I=o(7185),w=o(5829);function k(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"small",45),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.errorMessage("identificationcard")," ")}}function O(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"small",45),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.errorMessage("names")," ")}}function M(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"small",45),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.errorMessage("lastnames")," ")}}function D(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"small",45),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.errorMessage("entry_date")," ")}}function N(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"small",45),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.errorMessage("birth_date")," ")}}function V(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"small",45),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.message," ")}}function L(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"option",46),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=n.$implicit;e.\u0275\u0275property("value",t.iddestinations),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2("",t.destinations," ( ",t.province," )")}}function j(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"small",45),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.errorMessage("iddestinations")," ")}}function z(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"small",45),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.errorMessage("address")," ")}}function R(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"small",45),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.errorMessage("email")," ")}}function q(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"small",45),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.errorMessage("phone")," ")}}function $(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"small",45),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.errorMessage("cell")," ")}}function A(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"small",45),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.errorMessage("observations")," ")}}const s=function(a,n){return{"is-invalid":a,"is-valid":n}};var f=(()=>{return(a=f||(f={})).EDIT="edit",a.NEW="new",f;var a})();class C{constructor(n,t,i,r,d,p,pe){this.fb=n,this.companySvc=t,this.clientSvc=i,this.placeSvc=r,this.toastr=d,this.data=p,this.dialogo=pe,this.date=!1,this.destinations=[],this.periodpayment=[],this.position=[],this.idcompany=0,this.isValidEmail=/\S+@\S+\.\S+/,this.s=!1,this.m=[],this.text="",this.actionTODO="",this.id=""}ngOnInit(){this.ClientForm(),this.List(),this.data.client.idclient?(this.actionTODO=f.EDIT,this.text="Editar",this.id=this.data.client.idclient,this.clientSvc.GetIdClient(this.id).subscribe(n=>{this.clientform.patchValue({identificationcard:n.identificationcard,names:n.names,lastnames:n.lastnames,birth_date:n.birth_date,address:n.address,email:n.email,phone:n.phone,cell:n.cell,observations:n.observations,entry_date:n.entry_date,iddestinations:n.iddestinations,idcompany:n.idcompany}),this.clientform.updateValueAndValidity()},n=>console.error(n))):(this.actionTODO=f.NEW,this.text="Nuevo")}ClientForm(){this.clientform=this.fb.group({identificationcard:["",[l.kI.required,l.kI.minLength(10)]],names:["",[l.kI.required,l.kI.minLength(4)]],lastnames:["",[l.kI.required,l.kI.minLength(4)]],birth_date:["",[l.kI.required,l.kI.minLength(4)]],address:["",[l.kI.required,l.kI.minLength(4)]],email:["",[l.kI.required,l.kI.minLength(6),l.kI.pattern(this.isValidEmail)]],phone:["",[l.kI.required,l.kI.minLength(8)]],cell:["",[l.kI.required,l.kI.minLength(8)]],observations:["",[l.kI.required,l.kI.minLength(4)]],entry_date:["",[l.kI.required,l.kI.minLength(4)]],iddestinations:[,[l.kI.required]],idcompany:[this.idcompany]})}List(){this.placeSvc.GetDestinations().subscribe(t=>{this.destinations=t},t=>console.error(t));const n=JSON.parse(localStorage.getItem("user")||"{}");this.idcompany=n.Idcompany,this.clientform.updateValueAndValidity()}save(){this.actionTODO===f.NEW?(this.clientform.patchValue({idcompany:this.idcompany}),this.clientform.updateValueAndValidity(),this.clientSvc.PostClient(this.clientform.value).subscribe(t=>{this.m=t,this.s=!0,this.toastr.success(this.m.message,"Creado",{timeOut:3e3}),this.dialogo.close(!0)},t=>console.error(t))):(this.clientform.patchValue({idcompany:this.idcompany}),this.clientform.updateValueAndValidity(),this.clientSvc.PutClient(this.clientform.value,this.id).subscribe(t=>{this.m=t,this.s=!0,this.toastr.warning(this.m.message,"Actualizado",{timeOut:3e3}),this.dialogo.close(!0)},t=>console.error(t)))}isvalid(n){return this.clientform.get(n).invalid&&(this.clientform.get(n).dirty||this.clientform.get(n).touched)}errorMessage(n){const{errors:t}=this.clientform.get(n);let i=t?.minlength?.requiredLength;return t?{required:"el campo es requerido",pattern:"Correo electronico no es corecto",minlength:`el valor ingresado es menor a ${i} carateres`}[Object.keys(t).find(Boolean)||""]:""}onAgeCalculator(n){if(this.clientform.value.birth_date){const t=new Date(this.clientform.value.birth_date),i=Math.abs(Date.now()-t.getTime());Math.floor(i/864e5/365)<18?(this.message="No es mayor de edad",this.date=!0):this.date=!1}}}C.\u0275fac=function(n){return new(n||C)(e.\u0275\u0275directiveInject(l.qu),e.\u0275\u0275directiveInject(F.J),e.\u0275\u0275directiveInject(E.y),e.\u0275\u0275directiveInject(T.E),e.\u0275\u0275directiveInject(I._W),e.\u0275\u0275directiveInject(c.WI),e.\u0275\u0275directiveInject(c.so))},C.\u0275cmp=e.\u0275\u0275defineComponent({type:C,selectors:[["app-form"]],decls:96,vars:61,consts:[[1,"text-white","bg-primary"],[1,"fill-remaining-space"],["mat-icon-button","",3,"mat-dialog-close"],[1,"fa-solid","fa-xmark"],[1,"mat-typography"],[3,"formGroup"],[1,"row"],[1,"col-sm-8"],[1,"col-sm-4","text-center"],["src","./../../../../../../assets/noimage.png","width","80px","height","80px","srcset",""],[1,"d-grid","gap-2"],["type","file","name","photo","required","",1,"btn","btn-dark","btn-sm"],[1,"form-group","row"],["for","staticEmail",1,"col-sm-3","col-form-label","fw-bold"],[1,"col-sm-9"],["type","text","maxlength","10","placeholder","1000000000","formControlName","identificationcard","required","",1,"form-control","form-select-sm",3,"ngClass"],["class","form-text text-danger",4,"ngIf"],["type","text","placeholder","Nombres","formControlName","names","required","",1,"form-control","form-select-sm",3,"ngClass"],["type","text","formControlName","lastnames","required","","placeholder","Apellidos",1,"form-control","form-select-sm",3,"ngClass"],[1,"col-sm-4"],[1,"card","border-primary"],[1,"card-body"],[1,"form-group"],[1,"form-label","fw-bold"],["type","date","formControlName","entry_date","required","","placeholder","01/02/2020",1,"form-control","form-select-sm",3,"ngClass"],[1,"mt-1"],[1,"col-sm-6"],[1,"col-sm-5","col-form-label","fw-bold"],[1,"col-sm-7"],["type","date","formControlName","birth_date","required","","placeholder","01/01/2022",1,"form-control","form-select-sm",3,"ngClass","change"],[1,"col-sm-3","col-form-label","fw-bold"],["required","","formControlName","iddestinations","placeholder","Localizaci\xf3n",1,"form-select","form-select-sm",3,"ngClass"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-2","col-form-label","fw-bold"],[1,"col-sm-10"],["formControlName","address","required","","rows","2","placeholder","direcci\xf3n",1,"form-control","form-select-sm",3,"ngClass"],[1,"form-group","row","mt-1"],["type","email","formControlName","email","required","","placeholder","example@example.com",1,"form-control","form-select-sm",3,"ngClass"],["type","tel","formControlName","phone","required","","placeholder","022531837",1,"form-control","form-select-sm",3,"ngClass"],["for","staticEmail",1,"col-sm-5","col-form-label","fw-bold"],["type","tel","formControlName","cell","required","","placeholder","0912345678",1,"form-control","form-select-sm",3,"ngClass"],["formControlName","observations","required","","rows","2","placeholder","Observaciones",1,"form-control","form-select-sm",3,"ngClass"],["align","end"],[1,"btn","btn-success",3,"disabled","click"],[1,"form-text","text-danger"],[3,"value"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"mat-toolbar",0)(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"span",1),e.\u0275\u0275elementStart(4,"button",2),e.\u0275\u0275element(5,"i",3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"mat-dialog-content",4)(7,"form",5)(8,"div",6)(9,"div",7)(10,"div",6)(11,"div",8),e.\u0275\u0275element(12,"img",9),e.\u0275\u0275elementStart(13,"div",10),e.\u0275\u0275element(14,"input",11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"div",7)(16,"div",12)(17,"label",13),e.\u0275\u0275text(18,"Cedula:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",14),e.\u0275\u0275element(20,"input",15),e.\u0275\u0275template(21,k,2,1,"small",16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(22,"div",12)(23,"label",13),e.\u0275\u0275text(24,"Nombres:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",14),e.\u0275\u0275element(26,"input",17),e.\u0275\u0275template(27,O,2,1,"small",16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(28,"div",12)(29,"label",13),e.\u0275\u0275text(30,"Apellidos:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"div",14),e.\u0275\u0275element(32,"input",18),e.\u0275\u0275template(33,M,2,1,"small",16),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(34,"div",19)(35,"div",20)(36,"div",21)(37,"div",22)(38,"label",23),e.\u0275\u0275text(39,"Fecha de Ingreso"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(40,"input",24),e.\u0275\u0275template(41,D,2,1,"small",16),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275element(42,"div",25),e.\u0275\u0275elementStart(43,"div",6)(44,"div",26)(45,"div",12)(46,"label",27),e.\u0275\u0275text(47,"Fecha de Nacimiento:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"div",28)(49,"input",29),e.\u0275\u0275listener("change",function(r){return t.onAgeCalculator(r)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(50,N,2,1,"small",16),e.\u0275\u0275template(51,V,2,1,"small",16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(52,"div",12)(53,"label",30),e.\u0275\u0275text(54,"Localizaci\xf3n:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(55,"div",14)(56,"select",31)(57,"option",32),e.\u0275\u0275text(58,"seleccione uno"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(59,L,2,3,"option",33),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(60,j,2,1,"small",16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(61,"div",12)(62,"label",34),e.\u0275\u0275text(63,"Direcci\xf3n:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(64,"div",35),e.\u0275\u0275element(65,"textarea",36),e.\u0275\u0275template(66,z,2,1,"small",16),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(67,"div",26)(68,"div",37)(69,"label",27),e.\u0275\u0275text(70,"Correo Electr\xf3nico:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(71,"div",28),e.\u0275\u0275element(72,"input",38),e.\u0275\u0275template(73,R,2,1,"small",16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(74,"div",12)(75,"label",27),e.\u0275\u0275text(76,"Tel\xe9fono del Trabajo:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(77,"div",28),e.\u0275\u0275element(78,"input",39),e.\u0275\u0275template(79,q,2,1,"small",16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(80,"div",12)(81,"label",40),e.\u0275\u0275text(82,"Tel\xe9fono Movil:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(83,"div",28),e.\u0275\u0275element(84,"input",41),e.\u0275\u0275template(85,$,2,1,"small",16),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275element(86,"div",25),e.\u0275\u0275elementStart(87,"div",12)(88,"label",34),e.\u0275\u0275text(89,"Observaciones:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(90,"div",35),e.\u0275\u0275element(91,"textarea",42),e.\u0275\u0275template(92,A,2,1,"small",16),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(93,"mat-dialog-actions",43)(94,"button",44),e.\u0275\u0275listener("click",function(){return t.save()}),e.\u0275\u0275text(95,"Guardar"),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",t.text," Cliente"),e.\u0275\u0275advance(2),e.\u0275\u0275property("mat-dialog-close",!0),e.\u0275\u0275advance(3),e.\u0275\u0275property("formGroup",t.clientform),e.\u0275\u0275advance(13),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(28,s,t.isvalid("identificationcard"),t.clientform.get("identificationcard").valid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isvalid("identificationcard")||!1),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(31,s,t.isvalid("names"),t.clientform.get("names").valid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isvalid("names")||!1),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(34,s,t.isvalid("lastnames"),t.clientform.get("lastnames").valid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isvalid("lastnames")||!1),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(37,s,t.isvalid("entry_date"),t.clientform.get("entry_date").valid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isvalid("entry_date")||!1),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(40,s,t.isvalid("birth_date"),t.clientform.get("birth_date").valid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isvalid("birth_date")||!1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.date),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(43,s,t.isvalid("iddestinations"),t.clientform.get("iddestinations").valid)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.destinations),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isvalid("iddestinations")||!1),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(46,s,t.isvalid("address"),t.clientform.get("address").valid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isvalid("address")||!1),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(49,s,t.isvalid("email"),t.clientform.get("email").valid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isvalid("email")||!1),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(52,s,t.isvalid("phone"),t.clientform.get("phone").valid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isvalid("phone")||!1),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(55,s,t.isvalid("cell"),t.clientform.get("cell").valid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isvalid("cell")||!1),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(58,s,t.isvalid("observations"),t.clientform.get("observations").valid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isvalid("observations")||!1),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!t.clientform.valid))},dependencies:[_.mk,_.sg,_.O5,y.Ye,S.RK,c.ZT,c.xY,c.H8,w.oO,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.Q7,l.nD,l.sg,l.u],styles:["label[_ngcontent-%COMP%]{color:#000}"]});var P=o(7974);const G=["scheduledOrdersPaginator"];function W(a,n){1&a&&(e.\u0275\u0275elementStart(0,"th",34),e.\u0275\u0275text(1,"Id"),e.\u0275\u0275elementEnd())}function B(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"td",35),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=n.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.idclient)}}function J(a,n){1&a&&(e.\u0275\u0275elementStart(0,"th",34),e.\u0275\u0275text(1,"Cedula"),e.\u0275\u0275elementEnd())}function Q(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"td",35),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=n.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.identificationcard)}}function H(a,n){1&a&&(e.\u0275\u0275elementStart(0,"th",34),e.\u0275\u0275text(1,"Nombres"),e.\u0275\u0275elementEnd())}function Y(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"td",35),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=n.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.names)}}function K(a,n){1&a&&(e.\u0275\u0275elementStart(0,"th",34),e.\u0275\u0275text(1,"Fechas de Creaci\xf3n"),e.\u0275\u0275elementEnd())}function Z(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"td",35),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=n.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.entry_date)}}function X(a,n){1&a&&(e.\u0275\u0275elementStart(0,"th",34),e.\u0275\u0275text(1,"Telefono"),e.\u0275\u0275elementEnd())}function U(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"td",35),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=n.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.cell)}}function ee(a,n){1&a&&(e.\u0275\u0275elementStart(0,"th",34),e.\u0275\u0275text(1,"Telefono del Trabajo"),e.\u0275\u0275elementEnd())}function te(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"td",35),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=n.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.phone)}}function ne(a,n){1&a&&(e.\u0275\u0275elementStart(0,"th",34),e.\u0275\u0275text(1,"Localizacion"),e.\u0275\u0275elementEnd())}function ae(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"td",35),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=n.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.destinations)}}function le(a,n){1&a&&(e.\u0275\u0275elementStart(0,"th",34),e.\u0275\u0275text(1,"Actiones"),e.\u0275\u0275elementEnd())}function ie(a,n){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"td",35)(1,"div",36)(2,"button",37),e.\u0275\u0275listener("click",function(){const d=e.\u0275\u0275restoreView(t).$implicit,p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.onOpenModalForm(d))}),e.\u0275\u0275element(3,"i",38),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",39),e.\u0275\u0275listener("click",function(){const d=e.\u0275\u0275restoreView(t).$implicit,p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.onOpenModalView(d))}),e.\u0275\u0275element(5,"i",40),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"button",41),e.\u0275\u0275listener("click",function(){const d=e.\u0275\u0275restoreView(t).$implicit,p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.delete(d.idclient))}),e.\u0275\u0275element(7,"i",42),e.\u0275\u0275elementEnd()()()}}function oe(a,n){1&a&&e.\u0275\u0275element(0,"tr",43)}function re(a,n){1&a&&e.\u0275\u0275element(0,"tr",44)}const se=function(){return["/displaypanel"]},me=function(){return["/displaypanel/client"]};class g{set paginator(n){n&&(this.dataSource.paginator=n)}constructor(n,t,i){this.dialog=n,this.clientSvc=t,this.toastr=i,this.displayedColumns=["idclient","identificationcard","names","entry_date","cell","phone","destinations","actions"],this.dataSource=new m.by,this.length=0,this.pageSize=10,this.pageSizeOptions=[],this.employee=[]}ngOnInit(){this.list()}list(){this.clientSvc.GetClient().subscribe(n=>{this.dataSource.data=n,this.length=n.length,this.pageSizeOptions=[5,10,20,n.length]},n=>console.error(n))}applyFilter(n){this.dataSource.filter=n.target.value.trim().toLowerCase()}delete(n){window.confirm("Desea eliminar este Registro")&&this.clientSvc.DeleteClient(n).subscribe(t=>{this.toastr.error("Registro Eliminado","Eliminado",{timeOut:3e3}),this.list()})}onOpenModalForm(n={}){this.dialog.open(C,{width:"100%",hasBackdrop:!0,data:{title:"Cliente",client:n}}).afterClosed().subscribe(i=>{this.list(),this.clientSvc.GetClient().subscribe(r=>{this.dataSource.data=r},r=>console.error(r))})}onOpenModalView(n){this.dialog.open(v,{height:"550px",width:"2500px",hasBackdrop:!1,data:{title:"client",client:n}}).afterClosed().subscribe(i=>{})}}g.\u0275fac=function(n){return new(n||g)(e.\u0275\u0275directiveInject(c.uw),e.\u0275\u0275directiveInject(E.y),e.\u0275\u0275directiveInject(I._W))},g.\u0275cmp=e.\u0275\u0275defineComponent({type:g,selectors:[["app-clients"]],viewQuery:function(n,t){if(1&n&&e.\u0275\u0275viewQuery(G,5),2&n){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(t.paginator=i.first)}},decls:58,vars:10,consts:[[1,"container-fluid"],[1,"mt-4"],["aria-label","breadcrume"],["aria-label","breadcrumb",1,"breadcrumb",2,"--bs-breadcrumb-divider","url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E\")"],[1,"breadcrumb-item"],[1,"text-info-emphasis",3,"routerLink"],[1,"fa-solid","fa-house"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"card"],[1,"card-body"],[1,"d-flex","justify-content-between"],[2,"margin-left","10px"],[1,"mb-1","row","text-black"],["type","button",1,"btn","btn-sm","btn","btn-outline-success",3,"click"],[1,"spacer1"],[1,"form-outline"],["type","search","id","form1","placeholder","Search","aria-label","Search",1,"form-control",3,"keyup"],[1,"mt-2"],["mat-table","",1,"table","table-striped","table-hover",3,"dataSource"],["matColumnDef","idclient"],["scope","col",4,"matHeaderCellDef"],["scope","row",4,"matCellDef"],["matColumnDef","identificationcard"],["matColumnDef","names"],["matColumnDef","entry_date"],["matColumnDef","cell"],["matColumnDef","phone"],["matColumnDef","destinations"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],["scheduledOrdersPaginator",""],["scope","col"],["scope","row"],[1,""],[1,"spacer","btn","btn-outline-warning",3,"click"],[1,"fa-solid","fa-file-pen"],[1,"spacer","btn","btn-outline-primary",3,"click"],[1,"fa-solid","fa-eye"],[1,"spacer","btn","btn-outline-danger",3,"click"],[1,"fa-solid","fa-trash-can"],["mat-header-row",""],["mat-row",""]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"div",1),e.\u0275\u0275elementStart(2,"nav",2)(3,"ol",3)(4,"li",4)(5,"a",5),e.\u0275\u0275element(6,"i",6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"li",4)(8,"a",7),e.\u0275\u0275text(9,"Cliente"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"li",8),e.\u0275\u0275text(11,"Clientes"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(12,"div",9)(13,"div",10)(14,"div",11),e.\u0275\u0275element(15,"samp",12),e.\u0275\u0275elementStart(16,"div",13)(17,"button",14),e.\u0275\u0275listener("click",function(){return t.onOpenModalForm()}),e.\u0275\u0275text(18,"Nuevo Cliente"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(19,"div",15),e.\u0275\u0275elementStart(20,"div",16)(21,"input",17),e.\u0275\u0275listener("keyup",function(r){return t.applyFilter(r)}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275element(22,"div",18),e.\u0275\u0275elementStart(23,"table",19),e.\u0275\u0275elementContainerStart(24,20),e.\u0275\u0275template(25,W,2,0,"th",21),e.\u0275\u0275template(26,B,2,1,"td",22),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(27,23),e.\u0275\u0275template(28,J,2,0,"th",21),e.\u0275\u0275element(29,"th"),e.\u0275\u0275template(30,Q,2,1,"td",22),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(31,24),e.\u0275\u0275template(32,H,2,0,"th",21),e.\u0275\u0275element(33,"th"),e.\u0275\u0275template(34,Y,2,1,"td",22),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(35,25),e.\u0275\u0275template(36,K,2,0,"th",21),e.\u0275\u0275element(37,"th"),e.\u0275\u0275template(38,Z,2,1,"td",22),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(39,26),e.\u0275\u0275template(40,X,2,0,"th",21),e.\u0275\u0275element(41,"th"),e.\u0275\u0275template(42,U,2,1,"td",22),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(43,27),e.\u0275\u0275template(44,ee,2,0,"th",21),e.\u0275\u0275element(45,"th"),e.\u0275\u0275template(46,te,2,1,"td",22),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(47,28),e.\u0275\u0275template(48,ne,2,0,"th",21),e.\u0275\u0275element(49,"th"),e.\u0275\u0275template(50,ae,2,1,"td",22),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(51,29),e.\u0275\u0275template(52,le,2,0,"th",21),e.\u0275\u0275template(53,ie,8,0,"td",22),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275template(54,oe,1,0,"tr",30),e.\u0275\u0275template(55,re,1,0,"tr",31),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(56,"mat-paginator",32,33),e.\u0275\u0275elementEnd()()()),2&n&&(e.\u0275\u0275advance(5),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(8,se)),e.\u0275\u0275advance(3),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(9,me)),e.\u0275\u0275advance(15),e.\u0275\u0275property("dataSource",t.dataSource),e.\u0275\u0275advance(31),e.\u0275\u0275property("matHeaderRowDef",t.displayedColumns),e.\u0275\u0275advance(1),e.\u0275\u0275property("matRowDefColumns",t.displayedColumns),e.\u0275\u0275advance(1),e.\u0275\u0275property("length",t.length)("pageSize",t.pageSize)("pageSizeOptions",t.pageSizeOptions))},dependencies:[x.rH,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.XQ,m.Gk,P.NW],styles:[".spacer[_ngcontent-%COMP%]{border:none}.spacer2[_ngcontent-%COMP%]{margin:10px}.spacer1[_ngcontent-%COMP%]{flex:1 1 auto;margin-left:40%}table[_ngcontent-%COMP%]{width:100%}"]});const de=[{path:"",component:g}];class u{}u.\u0275fac=function(n){return new(n||u)},u.\u0275mod=e.\u0275\u0275defineNgModule({type:u}),u.\u0275inj=e.\u0275\u0275defineInjector({imports:[x.Bz.forChild(de),x.Bz]});var ce=o(4738);class h{}h.\u0275fac=function(n){return new(n||h)},h.\u0275mod=e.\u0275\u0275defineNgModule({type:h}),h.\u0275inj=e.\u0275\u0275defineInjector({imports:[_.ez,u,ce.q,l.UX]})}}]);