"use strict";(self.webpackChunkapptrasrouter=self.webpackChunkapptrasrouter||[]).push([[6],{7006:(W,v,r)=>{r.r(v),r.d(v,{ManufacturerModule:()=>c});var p=r(6895),h=r(9299),o=r(4006),s=r(671),e=r(4650),y=r(2965),_=r(7185),b=r(7974),S=r(5829);const M=["scheduledOrdersPaginator"];function x(a,t){if(1&a&&(e.\u0275\u0275elementStart(0,"small",44),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.errorMessage("name")," ")}}function E(a,t){if(1&a&&(e.\u0275\u0275elementStart(0,"small",44),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.errorMessage("model_types")," ")}}function w(a,t){1&a&&(e.\u0275\u0275elementStart(0,"th",45),e.\u0275\u0275text(1,"Id"),e.\u0275\u0275elementEnd())}function O(a,t){if(1&a&&(e.\u0275\u0275elementStart(0,"td",46),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const n=t.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.idmanufacturer)}}function T(a,t){1&a&&(e.\u0275\u0275elementStart(0,"th",45),e.\u0275\u0275text(1,"Nombre"),e.\u0275\u0275elementEnd())}function D(a,t){if(1&a&&(e.\u0275\u0275elementStart(0,"td",46),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const n=t.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.name)}}function k(a,t){1&a&&(e.\u0275\u0275elementStart(0,"th",45),e.\u0275\u0275text(1,"Tipo de Modelo"),e.\u0275\u0275elementEnd())}function I(a,t){if(1&a&&(e.\u0275\u0275elementStart(0,"td",46),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const n=t.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.model_types)}}function N(a,t){1&a&&(e.\u0275\u0275elementStart(0,"th",45),e.\u0275\u0275text(1,"Actiones"),e.\u0275\u0275elementEnd())}function z(a,t){if(1&a){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"td",46)(1,"div",47)(2,"button",48),e.\u0275\u0275listener("click",function(){const f=e.\u0275\u0275restoreView(n).$implicit,g=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(g.edit(f))}),e.\u0275\u0275element(3,"i",49),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",50),e.\u0275\u0275listener("click",function(){const f=e.\u0275\u0275restoreView(n).$implicit,g=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(g.delete(f.idmanufacturer))}),e.\u0275\u0275element(5,"i",51),e.\u0275\u0275elementEnd()()()}}function F(a,t){1&a&&e.\u0275\u0275element(0,"tr",52)}function j(a,t){1&a&&e.\u0275\u0275element(0,"tr",53)}const R=function(){return["/displaypanel"]},V=function(){return["/displaypanel/vehicle/"]},C=function(a,t){return{"is-invalid":a,"is-valid":t}};var l=(()=>{return(a=l||(l={})).EDIT="edit",a.NEW="new",l;var a})();class u{set paginator(t){t&&(this.dataSource.paginator=t)}constructor(t,n,i){this.catalogueSvc=t,this.fb=n,this.toastr=i,this.actionTODO="",this.isedit=0,this.message="",this.displayedColumns=["idmanufacturer","name","model_types","actions"],this.dataSource=new s.by,this.length=0,this.pageSize=10,this.pageSizeOptions=[],this.ed=!1,this.manufacturers=[],this.manufacturer=[]}ngOnInit(){this.actionTODO=l.NEW,this.list(),this.manufacturerForm()}list(){this.ed=!1,this.catalogueSvc.GetManufacturer().subscribe(t=>{this.dataSource.data=t,this.length=t.length,this.pageSizeOptions=[5,10,20,t.length]},t=>console.error(t))}manufacturerForm(){this.manufacturerform=this.fb.group({name:[{value:"",disabled:!0},[o.kI.required,o.kI.minLength(4)]],model_types:[{value:"",disabled:!0},[o.kI.required,o.kI.minLength(4)]]})}fromdisable(t){t?(this.manufacturerform.controls.name.enable(),this.manufacturerform.controls.model_types.enable()):(this.manufacturerform.controls.name.disable(),this.manufacturerform.controls.model_types.disable())}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}save(){const t=this.manufacturerform.value;0==this.isedit?this.actionTODO===l.NEW&&(console.log("new",t),this.catalogueSvc.PostManufacturer(t).subscribe(n=>{this.m=n,this.toastr.success(this.m.message,"Creado",{timeOut:3e3}),this.list(),this.manufacturerform.reset(),this.isedit=0,this.ed=!1,this.fromdisable(this.ed)})):this.actionTODO===l.EDIT&&(console.log("update",t),this.catalogueSvc.PutManufacturer(t,this.isedit).subscribe(n=>{this.m=n,this.toastr.warning(this.m.message,"Actualizado",{timeOut:3e3}),this.list(),this.manufacturerform.reset(),this.isedit=0,this.actionTODO=l.NEW,this.ed=!1,this.fromdisable(this.ed)}))}New(){this.actionTODO=l.NEW,this.manufacturerform.reset(),this.isedit=0,this.ed=!0,this.fromdisable(this.ed)}edit(t){this.ed=!0,this.fromdisable(this.ed),this.actionTODO=l.EDIT,this.isedit=t.idmanufacturer,this.manufacturerform.patchValue({name:t.name,model_types:t.model_types}),this.manufacturerform.updateValueAndValidity()}cancel(){this.manufacturerform.reset(),this.isedit=0,this.actionTODO=l.NEW,this.ed=!1,this.fromdisable(this.ed)}delete(t){window.confirm("Desea eliminar este Registro")&&this.catalogueSvc.DeleteManufacturer(t).subscribe(n=>{this.m=n,this.toastr.error("Registro Eliminado","Eliminado",{timeOut:3e3}),this.list()})}isvalid(t){return this.manufacturerform.get(t).invalid&&(this.manufacturerform.get(t).dirty||this.manufacturerform.get(t).touched)}errorMessage(t){const{errors:n}=this.manufacturerform.get(t);return n?{required:"el campo es requerido",minlength:"el valor ingesado es menor a 4 carateres"}[Object.keys(n).find(Boolean)||""]:""}}u.\u0275fac=function(t){return new(t||u)(e.\u0275\u0275directiveInject(y.k),e.\u0275\u0275directiveInject(o.qu),e.\u0275\u0275directiveInject(_._W))},u.\u0275cmp=e.\u0275\u0275defineComponent({type:u,selectors:[["app-manufacturer"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(M,5),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.paginator=i.first)}},decls:69,vars:23,consts:[[1,"container-fluid"],[1,"mt-4"],["aria-label","breadcrumb",1,"breadcrumb",2,"--bs-breadcrumb-divider","url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E\")"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"fa-solid","fa-house"],[1,"breadcrumb-item","active"],[1,"form-group","d-flex","justify-content-between"],[1,"fw-bold"],["type","button",1,"btn","btn-lg","btn-primary","btn-sm",3,"click"],[1,"fa-solid","fa-plus"],[1,"mt-1"],[1,"card"],[1,"card-body",3,"formGroup"],[1,"row"],[1,"col-sm-6"],[1,"form-group","row"],[1,"col-sm-4","col-form-label","fw-bold"],[1,"col-sm-8"],["type","text","placeholder","Nombre","formControlName","name",1,"form-control","form-control-sm",3,"ngClass"],["class","form-text text-danger",4,"ngIf"],[1,"col-sm-5"],["type","text","placeholder","Tipos de modelos","formControlName","model_types",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-sm-1"],["type","button",1,"spacer","btn","btn-outline-success","btn-sm",3,"disabled","click"],[1,"fa-solid","fa-floppy-disk"],["type","button",1,"spacer","btn","btn-outline-danger","btn-sm",3,"disabled","click"],[1,"fa-solid","fa-trash"],[1,"card-body"],[1,"d-flex","justify-content-between"],[1,"mb-1","row","text-black"],[1,"spacer1"],["type","text","placeholder","Buscar",1,"form-control","form-control-sm",3,"keyup"],["mat-table","",1,"table","table-hover",3,"dataSource"],["matColumnDef","idmanufacturer"],["scope","col",4,"matHeaderCellDef"],["scope","row",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","model_types"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],["scheduledOrdersPaginator",""],[1,"form-text","text-danger"],["scope","col"],["scope","row"],[1,""],[1,"spacer","btn","btn-outline-warning",3,"click"],[1,"fa-solid","fa-file-pen"],[1,"spacer","btn","btn-outline-danger",3,"click"],[1,"fa-solid","fa-trash-can"],["mat-header-row",""],["mat-row",""]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"div",1),e.\u0275\u0275elementStart(2,"ol",2)(3,"li",3)(4,"a",4),e.\u0275\u0275element(5,"i",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"li",3)(7,"a",4),e.\u0275\u0275text(8,"Veh\xedculos"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"li",6),e.\u0275\u0275text(10,"Fabricante"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div",7)(12,"h4",8),e.\u0275\u0275text(13,"Fabricante"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"button",9),e.\u0275\u0275listener("click",function(){return n.New()}),e.\u0275\u0275element(15,"i",10),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(16,"div",11),e.\u0275\u0275elementStart(17,"div",12)(18,"form",13)(19,"div",14)(20,"div",15)(21,"div",16)(22,"label",17),e.\u0275\u0275text(23,"Nombre:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"div",18),e.\u0275\u0275element(25,"input",19),e.\u0275\u0275template(26,x,2,1,"small",20),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(27,"div",21)(28,"div",16)(29,"label",17),e.\u0275\u0275text(30,"Tipo de Modelo:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"div",18),e.\u0275\u0275element(32,"input",22),e.\u0275\u0275template(33,E,2,1,"small",20),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(34,"div",23)(35,"button",24),e.\u0275\u0275listener("click",function(){return n.save()}),e.\u0275\u0275element(36,"i",25),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"button",26),e.\u0275\u0275listener("click",function(){return n.cancel()}),e.\u0275\u0275element(38,"i",27),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275element(39,"div",11),e.\u0275\u0275elementStart(40,"div",12)(41,"div",28)(42,"div",29),e.\u0275\u0275element(43,"div",30)(44,"div",31),e.\u0275\u0275elementStart(45,"div",16)(46,"label",17),e.\u0275\u0275text(47,"Buscar:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"div",18)(49,"input",32),e.\u0275\u0275listener("keyup",function(d){return n.applyFilter(d)}),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(50,"table",33),e.\u0275\u0275elementContainerStart(51,34),e.\u0275\u0275template(52,w,2,0,"th",35),e.\u0275\u0275template(53,O,2,1,"td",36),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(54,37),e.\u0275\u0275template(55,T,2,0,"th",35),e.\u0275\u0275element(56,"th"),e.\u0275\u0275template(57,D,2,1,"td",36),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(58,38),e.\u0275\u0275template(59,k,2,0,"th",35),e.\u0275\u0275element(60,"th"),e.\u0275\u0275template(61,I,2,1,"td",36),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(62,39),e.\u0275\u0275template(63,N,2,0,"th",35),e.\u0275\u0275template(64,z,6,0,"td",36),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275template(65,F,1,0,"tr",40),e.\u0275\u0275template(66,j,1,0,"tr",41),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(67,"mat-paginator",42,43),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275advance(4),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(15,R)),e.\u0275\u0275advance(3),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(16,V)),e.\u0275\u0275advance(11),e.\u0275\u0275property("formGroup",n.manufacturerform),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(17,C,n.isvalid("name"),n.manufacturerform.get("name").valid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isvalid("name")||!1),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(20,C,n.isvalid("model_types"),n.manufacturerform.get("model_types").valid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isvalid("model_types")||!1),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!n.manufacturerform.valid),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!n.ed),e.\u0275\u0275advance(13),e.\u0275\u0275property("dataSource",n.dataSource),e.\u0275\u0275advance(15),e.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),e.\u0275\u0275advance(1),e.\u0275\u0275property("matRowDefColumns",n.displayedColumns),e.\u0275\u0275advance(1),e.\u0275\u0275property("length",n.length)("pageSize",5)("pageSizeOptions",n.pageSizeOptions))},dependencies:[p.mk,p.O5,h.rH,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.XQ,s.Gk,b.NW,S.oO],styles:[".spacer[_ngcontent-%COMP%]{border:none}.spacer2[_ngcontent-%COMP%]{margin:10px}.spacer1[_ngcontent-%COMP%]{flex:1 1 auto;margin-left:40%}table[_ngcontent-%COMP%]{width:100%}.spacer1[_ngcontent-%COMP%]{flex:1 1 auto}"]});const P=[{path:"",component:u}];class m{}m.\u0275fac=function(t){return new(t||m)},m.\u0275mod=e.\u0275\u0275defineNgModule({type:m}),m.\u0275inj=e.\u0275\u0275defineInjector({imports:[h.Bz.forChild(P),h.Bz]});var L=r(4738);class c{}c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=e.\u0275\u0275defineNgModule({type:c}),c.\u0275inj=e.\u0275\u0275defineInjector({imports:[p.ez,m,o.UX,L.q,b.TU]})}}]);