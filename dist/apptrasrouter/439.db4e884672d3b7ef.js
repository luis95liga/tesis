"use strict";(self.webpackChunkapptrasrouter=self.webpackChunkapptrasrouter||[]).push([[439],{2439:(wn,re,p)=>{p.r(re),p.d(re,{TravelModule:()=>N});var C=p(6895),V=p(9299),i=p(4006),fe=p(8675),he=p(4004),g=p(5938),c=p(671),e=p(4650),me=p(8216),se=p(5006),de=p(7121),Y=p(3077),X=p(7185),A=p(7402),Z=p(9829),P=p(3683),q=p(4859),F=p(8255),z=p(7392),Q=p(5829),I=p(1948);function ve(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"option",48),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=n.$implicit;e.\u0275\u0275property("value",t.idclient),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2("(",t.identificationcard,") ",t.names,"")}}function ge(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"small",49),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.getErrorMessage("idclient")," ")}}function Ce(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"small",49),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.getErrorMessage("location")," ")}}function ye(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"small",49),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.getErrorMessage("destinations")," ")}}const be=function(o,n){return{"is-invalid":o,"is-valid":n}};function xe(o,n){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",31)(1,"div",32)(2,"div",33)(3,"div",34)(4,"label",35),e.\u0275\u0275text(5,"Cliente:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",36)(7,"select",37),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.select(a))}),e.\u0275\u0275elementStart(8,"option",38),e.\u0275\u0275text(9,"Selecione ..."),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,ve,2,3,"option",39),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,ge,2,1,"small",40),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(12,"div",33)(13,"div",34)(14,"label",35),e.\u0275\u0275text(15,"Nombre:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",36),e.\u0275\u0275element(17,"input",41),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(18,"div",32)(19,"div",33)(20,"div",34)(21,"label",35),e.\u0275\u0275text(22,"Salidad:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",36),e.\u0275\u0275element(24,"input",42),e.\u0275\u0275template(25,Ce,2,1,"small",40),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(26,"div",33)(27,"div",34)(28,"label",35),e.\u0275\u0275text(29,"Destino:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"div",36),e.\u0275\u0275element(31,"input",43),e.\u0275\u0275template(32,ye,2,1,"small",40),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(33,"div",32),e.\u0275\u0275element(34,"div",44),e.\u0275\u0275elementStart(35,"div",45)(36,"mat-radio-group",46)(37,"mat-radio-button",47),e.\u0275\u0275text(38,"Principal"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"mat-radio-button",47),e.\u0275\u0275text(40,"Secundario"),e.\u0275\u0275elementEnd()()()()()}if(2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(7),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(7,be,t.isvalid("idclient"),t.guiaform.get("idclient").valid)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.clients),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isvalid("idclient")||!1),e.\u0275\u0275advance(14),e.\u0275\u0275property("ngIf",t.isvalid("location")||!1),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",t.isvalid("destinations")||!1),e.\u0275\u0275advance(5),e.\u0275\u0275property("value",!0),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",!1)}}function Se(o,n){1&o&&e.\u0275\u0275element(0,"samp",50)}function Ee(o,n){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",51),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.cancel(a.new))}),e.\u0275\u0275element(1,"i",52),e.\u0275\u0275elementEnd()}}function _e(o,n){1&o&&(e.\u0275\u0275elementStart(0,"th",53),e.\u0275\u0275text(1,"N\xb0 Guia"),e.\u0275\u0275elementEnd())}function ke(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"td",54),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=n.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("0000",t.idGuide,"")}}function Fe(o,n){1&o&&(e.\u0275\u0275elementStart(0,"th",53),e.\u0275\u0275text(1,"Empresa"),e.\u0275\u0275elementEnd())}function Ie(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"td",54),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=n.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.company)}}function we(o,n){1&o&&(e.\u0275\u0275elementStart(0,"th",53),e.\u0275\u0275text(1,"Bodega"),e.\u0275\u0275elementEnd())}function Te(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"td",54),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=n.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.location)}}function Ne(o,n){1&o&&(e.\u0275\u0275elementStart(0,"th",53),e.\u0275\u0275text(1,"Cliente"),e.\u0275\u0275elementEnd())}function Ge(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"td",54),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=n.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.client)}}function De(o,n){1&o&&(e.\u0275\u0275elementStart(0,"th",53),e.\u0275\u0275text(1,"Destino"),e.\u0275\u0275elementEnd())}function Oe(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"td",54),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=n.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.destinations)}}function Ve(o,n){1&o&&(e.\u0275\u0275elementStart(0,"th",53),e.\u0275\u0275text(1,"Recorido"),e.\u0275\u0275elementEnd())}function Ae(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"td",54),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=n.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",t.km," Km")}}function Ke(o,n){1&o&&(e.\u0275\u0275elementStart(0,"th",53),e.\u0275\u0275text(1,"Tipo de Viaje"),e.\u0275\u0275elementEnd())}function Re(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"td",54),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=n.$implicit,l=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(l.travels(t.status))}}function Me(o,n){1&o&&e.\u0275\u0275element(0,"th",53)}function Le(o,n){1&o&&(e.\u0275\u0275elementStart(0,"td",54)(1,"div",31)(2,"button",55),e.\u0275\u0275element(3,"i",56),e.\u0275\u0275elementEnd()()())}function je(o,n){1&o&&(e.\u0275\u0275elementStart(0,"th",57),e.\u0275\u0275text(1,"\xa0"),e.\u0275\u0275elementEnd())}function Pe(o,n){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"td",58)(1,"button",59)(2,"mat-icon"),e.\u0275\u0275text(3,"more_vert"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"mat-menu",null,60)(6,"button",61),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.Edit(r.idGuide))}),e.\u0275\u0275element(7,"i",62)(8,"span",50),e.\u0275\u0275elementStart(9,"span"),e.\u0275\u0275text(10,"Editar"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"button",61),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.delete(r.idGuide))}),e.\u0275\u0275element(12,"i",63)(13,"span",50),e.\u0275\u0275elementStart(14,"span"),e.\u0275\u0275text(15,"Eliminar"),e.\u0275\u0275elementEnd()()()()}if(2&o){const t=e.\u0275\u0275reference(5);e.\u0275\u0275advance(1),e.\u0275\u0275property("matMenuTriggerFor",t)}}function qe(o,n){1&o&&e.\u0275\u0275element(0,"tr",64)}function ze(o,n){1&o&&e.\u0275\u0275element(0,"tr",65)}function Be(o,n){1&o&&(e.\u0275\u0275elementStart(0,"tr",66)(1,"td",67),e.\u0275\u0275text(2,"No hay Datos"),e.\u0275\u0275elementEnd()())}const Je=function(o,n){return{"fa-plus":o,"fa-check":n}};var y=(()=>{return(o=y||(y={})).EDIT="edit",o.NEW="new",y;var o})();class K{constructor(n,t,l,a,r,m,s,d,h){this.clientSvc=n,this.placesSvc=t,this.placeSvc=l,this.companySvc=a,this.fb=r,this.toastr=m,this.guideSvc=s,this.authSvc=d,this.data=h,this.actionTODO="",this.displayedColumns=["idGuide","company","location","client","destinations","km","status","actions","star"],this.dataSource=new c.by,this.new=!1,this.edit=!1,this.length=0,this.pageSize=10,this.pageSizeOptions=[],this.clients=[],this.t=!1}ngOnInit(){this.List(),this.GuiaForm(),this.CreateKm(1,1)}select(n){const t=n.target.value.toLowerCase();""!=t&&this.clientSvc.GetIdClient(t).subscribe(l=>{this.placesSvc.GetIdDestinations(l.iddestinations).subscribe(a=>{this.guiaform.patchValue({names:l.names+" "+l.lastnames,iddestinations:l.iddestinations,destinations:a.destinations}),this.guiaform.updateValueAndValidity()},a=>console.log(a))},l=>console.error(l))}List(){this.clientSvc.GetClient().subscribe(t=>{this.clients=t},t=>console.error(t));const n=this.authSvc.userValue;this.idCompany=n.idcompany,this.idguide=n.user.id,this.companySvc.GetIdCompany(n.idcompany).subscribe(t=>{this.placeSvc.GetIdLocation(t.idlocation).subscribe(l=>{this.guiaform.patchValue({idlocation:l.idlocation,location:l.location}),this.guiaform.updateValueAndValidity()},l=>console.error(l))},t=>console.error(t)),this.guideSvc.GetGuideDeactivateUser(this.idCompany,this.idguide,this.data.idvehicle).subscribe(t=>{t.length>0?(this.dataSource.data=t,this.length=t.length,this.pageSizeOptions=[5,10,20,t.length]):this.dataSource.data=[]},t=>{this.toastr.error("Sin Datos",t,{timeOut:3e3})})}GuiaForm(){this.guiaform=this.fb.group({idclient:[,[i.kI.required]],names:["",i.kI.required],idcompany:["",[]],idlocation:["",[i.kI.required]],location:["",[i.kI.required]],iddestinations:["",[i.kI.required]],destinations:["",i.kI.required],km:[""],hours:[""],status:[!1,[]],idvehicle:[,[]],iduser:["",[]]}),this.origen=this.fb.group({lat:[""],lng:[""]}),this.destino=this.fb.group({lat:[""],lng:[""]})}Edit(n){console.log(n),this.actionTODO=y.EDIT,this.edit=!this.edit,this.new=!this.new,this.guideSvc.GetIdGuide(n).subscribe(t=>{this.id=t.idguide,this.guiaform.patchValue({idclient:t.idclient,idcompany:t.idcompany,idlocation:t.idlocation,iddestinations:t.iddestinations,km:t.km,hours:t.hours,status:t.status,idvehicle:t.idvehicle,iduser:t.iduser}),this.guiaform.updateValueAndValidity()})}CreateKm(n,t){this.placeSvc.GetIdLocation(n).subscribe(l=>{this.origen.patchValue({lat:l.latitude,lng:l.longitude}),this.origen.updateValueAndValidity()}),this.placesSvc.GetIdDestinations(t).subscribe(l=>{this.destino.patchValue({lat:l.latitude,lng:l.longitude}),this.destino.updateValueAndValidity()})}getDistance(n,t){const l=new google.maps.DistanceMatrixService;return new Promise((a,r)=>{l.getDistanceMatrix({origins:[new google.maps.LatLng(n.lat,n.lng)],destinations:[new google.maps.LatLng(t.lat,t.lng)],travelMode:google.maps.TravelMode.DRIVING},function(m,s){"OK"===s?a(m):r(m)})})}New(n){if(n){if(this.actionTODO===y.NEW){if(!this.guiaform.valid)return this.toastr.warning("Sin Datos","No Hay Registro",{timeOut:3e3}),this.new;{const t=this.guiaform.value;this.CreateKm(t.idlocation,t.iddestinations),this.getDistance(this.origen.value,this.destino.value).then(l=>{const a=Math.round(l.rows[0].elements[0].distance.value/1e3),r=Math.round(l.rows[0].elements[0].duration.value/3600);this.guiaform.patchValue({idcompany:this.idCompany,iduser:this.idguide,idvehicle:this.data.idvehicle,km:a,hours:r,status:!1}),this.guiaform.updateValueAndValidity(),this.guideSvc.PostGuide(this.guiaform.value).subscribe(d=>(this.m=d,this.toastr.success(this.m.message,"Creado",{timeOut:3e3}),this.List(),this.guiaform.reset(),this.new))}).catch(l=>console.log(l))}}if(this.actionTODO===y.EDIT){const t=this.guiaform.value;this.CreateKm(t.idlocation,t.iddestinations),this.getDistance(this.origen.value,this.destino.value).then(l=>{const a=Math.round(l.rows[0].elements[0].distance.value/1e3),r=Math.round(l.rows[0].elements[0].duration.value/3600);this.guiaform.patchValue({idcompany:this.idCompany,iduser:this.idguide,idvehicle:this.data.idvehicle,status:!1,km:a,hours:r}),this.guiaform.updateValueAndValidity(),this.guideSvc.PutGuide(this.guiaform.value,this.id).subscribe(s=>(this.m=s,this.toastr.warning(this.m.message,"actulizado",{timeOut:3e3}),this.List(),this.guiaform.reset(),this.edit=!this.edit,this.actionTODO=y.NEW,this.new))}).catch(l=>console.log(l))}}return this.actionTODO=y.NEW,this.edit=!this.edit,this.new=!this.new,this.new}cancel(n){return this.actionTODO=y.NEW,this.new=!this.new,this.guiaform.reset(),this.new}isvalid(n){return this.guiaform.get(n).invalid&&(this.guiaform.get(n).dirty||this.guiaform.get(n).touched)}getErrorMessage(n){const{errors:t}=this.guiaform.get(n);let l=t?.minlength?.requiredLength;return t?{required:"el campo es requerido",minlength:`el valor ingresado es menor a ${l} carateres`}[Object.keys(t).find(Boolean)||""]:""}delete(n){window.confirm("Desea eliminar este Registro")&&this.guideSvc.DeleteGuide(n).subscribe(t=>{this.toastr.error("Registro Eliminado","Eliminado",{timeOut:3e3}),this.List()})}travels(n){return n?"Principal":"Secundario"}}K.\u0275fac=function(n){return new(n||K)(e.\u0275\u0275directiveInject(me.y),e.\u0275\u0275directiveInject(se.E),e.\u0275\u0275directiveInject(de.k),e.\u0275\u0275directiveInject(Y.J),e.\u0275\u0275directiveInject(i.qu),e.\u0275\u0275directiveInject(X._W),e.\u0275\u0275directiveInject(A.C),e.\u0275\u0275directiveInject(Z.e),e.\u0275\u0275directiveInject(g.WI))},K.\u0275cmp=e.\u0275\u0275defineComponent({type:K,selectors:[["app-guide"]],decls:54,vars:12,consts:[[1,"text-white","bg-primary"],[1,"fill-remaining-space"],["mat-icon-button","","mat-dialog-close",""],[1,"d-flex"],[1,"p-2","flex-grow-1"],[3,"formGroup"],["class","",4,"ngIf"],[1,"p-2"],["type","button",1,"btn","btn-outline-success","btn-sm",3,"click"],[1,"fa-solid",3,"ngClass"],["style","margin-left: 5px;",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm",3,"click",4,"ngIf"],["mat-table","",1,"table","table-striped","table-hover",3,"dataSource"],["matColumnDef","idGuide"],["scope","col",4,"matHeaderCellDef"],["scope","row",4,"matCellDef"],["matColumnDef","company"],["matColumnDef","location"],["matColumnDef","client"],["matColumnDef","destinations"],["matColumnDef","km"],["matColumnDef","status"],["matColumnDef","actions"],["matColumnDef","star","stickyEnd",""],["mat-header-cell","","aria-label","row actions",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["align","end"],["cdkFocusInitial","",1,"btn","btn-success",3,"mat-dialog-close"],[1,""],[1,"row"],[1,"col"],[1,"form-group","row"],[1,"col-sm-2","col-form-label","fw-bold"],[1,"col-sm-10"],["formControlName","idclient",1,"form-select","form-select-sm",3,"ngClass","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","form-text text-danger",4,"ngIf"],["type","text","readonly","","formControlName","names","placeholder","cliente",1,"form-control","form-control-sm"],["type","text","readonly","","formControlName","location","placeholder","Salidad",1,"form-control","form-control-sm"],["type","text","readonly","","formControlName","destinations","placeholder","Destino",1,"form-control","form-control-sm"],[1,"col-sm-8"],[1,"col-sm-4"],["formControlName","status"],[1,"example-margin",3,"value"],[3,"value"],[1,"form-text","text-danger"],[2,"margin-left","5px"],["type","button",1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"fa-solid","fa-x"],["scope","col"],["scope","row"],[1,"spacer","btn","btn-outline-success","btn-sm"],[1,"fa-solid","fa-box"],["mat-header-cell","","aria-label","row actions"],["mat-cell",""],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"spacer","fa-solid","fa-file-pen"],[1,"spacer","fa-solid","fa-trash-can"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","8",1,"mat-cell"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"mat-toolbar",0)(1,"span"),e.\u0275\u0275text(2,"Guias"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"span",1),e.\u0275\u0275elementStart(4,"button",2)(5,"mat-icon"),e.\u0275\u0275text(6,"close"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"mat-dialog-content")(8,"div",3)(9,"div",4)(10,"form",5),e.\u0275\u0275template(11,xe,41,10,"div",6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",7)(13,"button",8),e.\u0275\u0275listener("click",function(){return t.New(t.new)}),e.\u0275\u0275element(14,"i",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(15,Se,1,0,"samp",10),e.\u0275\u0275template(16,Ee,2,0,"button",11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"div")(18,"table",12),e.\u0275\u0275elementContainerStart(19,13),e.\u0275\u0275template(20,_e,2,0,"th",14),e.\u0275\u0275template(21,ke,2,1,"td",15),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(22,16),e.\u0275\u0275template(23,Fe,2,0,"th",14),e.\u0275\u0275element(24,"th"),e.\u0275\u0275template(25,Ie,2,1,"td",15),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(26,17),e.\u0275\u0275template(27,we,2,0,"th",14),e.\u0275\u0275element(28,"th"),e.\u0275\u0275template(29,Te,2,1,"td",15),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(30,18),e.\u0275\u0275template(31,Ne,2,0,"th",14),e.\u0275\u0275template(32,Ge,2,1,"td",15),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(33,19),e.\u0275\u0275template(34,De,2,0,"th",14),e.\u0275\u0275template(35,Oe,2,1,"td",15),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(36,20),e.\u0275\u0275template(37,Ve,2,0,"th",14),e.\u0275\u0275template(38,Ae,2,1,"td",15),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(39,21),e.\u0275\u0275template(40,Ke,2,0,"th",14),e.\u0275\u0275template(41,Re,2,1,"td",15),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(42,22),e.\u0275\u0275template(43,Me,1,0,"th",14),e.\u0275\u0275template(44,Le,4,0,"td",15),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(45,23),e.\u0275\u0275template(46,je,2,0,"th",24),e.\u0275\u0275template(47,Pe,16,1,"td",25),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275template(48,qe,1,0,"tr",26),e.\u0275\u0275template(49,ze,1,0,"tr",27),e.\u0275\u0275template(50,Be,3,0,"tr",28),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(51,"mat-dialog-actions",29)(52,"button",30),e.\u0275\u0275text(53,"Guardar Ruta"),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275advance(10),e.\u0275\u0275property("formGroup",t.guiaform),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.new),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(9,Je,!t.new,t.new)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.new),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.new),e.\u0275\u0275advance(2),e.\u0275\u0275property("dataSource",t.dataSource),e.\u0275\u0275advance(30),e.\u0275\u0275property("matHeaderRowDef",t.displayedColumns),e.\u0275\u0275advance(1),e.\u0275\u0275property("matRowDefColumns",t.displayedColumns),e.\u0275\u0275advance(3),e.\u0275\u0275property("mat-dialog-close",t.dataSource.data))},dependencies:[C.mk,C.sg,C.O5,P.Ye,q.RK,F.VK,F.OP,F.p6,z.Hw,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,c.Ee,g.ZT,g.xY,g.H8,Q.oO,I.VQ,I.U0,i._Y,i.YN,i.Kr,i.Fj,i.EJ,i.JJ,i.JL,i.sg,i.u],styles:["label[_ngcontent-%COMP%]{color:#000}.header[_ngcontent-%COMP%]{font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;font-size:xx-large;font-weight:700}.spacer[_ngcontent-%COMP%]{border:none}button[_ngcontent-%COMP%]{margin-right:8px}"]});var ce=p(94),ee=p(6338);function $e(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"mat-radio-button",10)(1,"mat-list-item")(2,"div",11)(3,"samp",12),e.\u0275\u0275text(4,"Veh\xedculo: "),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",13)(7,"samp",12),e.\u0275\u0275text(8,"Conductor: "),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd()()()),2&o){const t=n.$implicit;e.\u0275\u0275property("value",t.idvehicle),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(t.tuition),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.employee)}}class R{constructor(n,t){this.vehicleSvc=n,this.dialogRef=t,this.vehicle=[],this.checked=!1,this.indeterminate=!1,this.labelPosition=0,this.disabled=!1}ngOnInit(){this.vehicleSvc.GetVehicle().subscribe(n=>{this.vehicle=n})}save(){this.dialogRef.close(this.labelPosition)}}function Ue(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"option",46),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=n.$implicit;e.\u0275\u0275property("value",t.idinvoicetype),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.invoicetype)}}function He(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"option",46),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=n.$implicit;e.\u0275\u0275property("value",t.idunit),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.unit)}}function We(o,n){1&o&&(e.\u0275\u0275elementStart(0,"th",29),e.\u0275\u0275text(1,"N\xb0 Guia"),e.\u0275\u0275elementEnd())}function Ye(o,n){1&o&&(e.\u0275\u0275elementStart(0,"td",47),e.\u0275\u0275text(1,"0000"),e.\u0275\u0275elementEnd())}function Xe(o,n){1&o&&(e.\u0275\u0275elementStart(0,"th",29),e.\u0275\u0275text(1,"Empresa "),e.\u0275\u0275elementEnd())}function Ze(o,n){1&o&&(e.\u0275\u0275elementStart(0,"td",47),e.\u0275\u0275text(1,"s"),e.\u0275\u0275elementEnd())}function Qe(o,n){1&o&&(e.\u0275\u0275elementStart(0,"th",29),e.\u0275\u0275text(1,"Bodega "),e.\u0275\u0275elementEnd())}function et(o,n){1&o&&(e.\u0275\u0275elementStart(0,"td",47),e.\u0275\u0275text(1,"d"),e.\u0275\u0275elementEnd())}function tt(o,n){1&o&&(e.\u0275\u0275elementStart(0,"th",29),e.\u0275\u0275text(1,"Cliente"),e.\u0275\u0275elementEnd())}function nt(o,n){1&o&&(e.\u0275\u0275elementStart(0,"td",47),e.\u0275\u0275text(1,"d"),e.\u0275\u0275elementEnd())}function ot(o,n){1&o&&e.\u0275\u0275element(0,"th",29)}function lt(o,n){1&o&&e.\u0275\u0275element(0,"td",47)}function at(o,n){1&o&&e.\u0275\u0275element(0,"tr",48)}function it(o,n){1&o&&e.\u0275\u0275element(0,"tr",49)}function rt(o,n){1&o&&(e.\u0275\u0275elementStart(0,"tr",50)(1,"td",51),e.\u0275\u0275text(2,"No hay Datos"),e.\u0275\u0275elementEnd()())}R.\u0275fac=function(n){return new(n||R)(e.\u0275\u0275directiveInject(ce.f),e.\u0275\u0275directiveInject(g.so))},R.\u0275cmp=e.\u0275\u0275defineComponent({type:R,selectors:[["app-trailer"]],decls:16,vars:2,consts:[[1,"text-white","bg-primary"],[1,"fill-remaining-space"],["mat-icon-button","","mat-dialog-close",""],[1,"card"],[1,"card-body"],[1,"example-section"],[1,"radio-group",3,"ngModel","ngModelChange"],["class","radio-button",3,"value",4,"ngFor","ngForOf"],["align","end"],["cdkFocusInitial","",1,"btn","btn-success",3,"click"],[1,"radio-button",3,"value"],["matListItemTitle",""],[1,"fw-bold"],["matListItemLine",""]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"mat-toolbar",0)(1,"span"),e.\u0275\u0275text(2,"veh\xedculos"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"span",1),e.\u0275\u0275elementStart(4,"button",2)(5,"mat-icon"),e.\u0275\u0275text(6,"close"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"mat-dialog-content")(8,"div",3)(9,"div",4)(10,"section",5)(11,"mat-radio-group",6),e.\u0275\u0275listener("ngModelChange",function(a){return t.labelPosition=a}),e.\u0275\u0275template(12,$e,10,3,"mat-radio-button",7),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(13,"mat-dialog-actions",8)(14,"button",9),e.\u0275\u0275listener("click",function(){return t.save()}),e.\u0275\u0275text(15,"Guardar"),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275advance(11),e.\u0275\u0275property("ngModel",t.labelPosition),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.vehicle))},dependencies:[C.sg,P.Ye,q.RK,ee.Tg,ee.WW,ee.sL,z.Hw,g.ZT,g.xY,g.H8,I.VQ,I.U0,i.JJ,i.On],styles:[".radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0;align-items:flex-start}.radio-button[_ngcontent-%COMP%]{margin:5px}"]});class M{constructor(n,t,l,a){this.data=n,this.dialog=t,this.guideSvc=l,this.fb=a,this.actionTODO="",this.displayedColumns=["idguide","company","location","client","actions"],this.dataSource=new c.by,this.length=0,this.pageSize=10,this.pageSizeOptions=[]}ngOnInit(){const n=this.data.guide;this.Form(),this.list(),this.guideSvc.GetGuideListView(n.idguide).subscribe(t=>{this.guidedetail.patchValue({tuition:t.tuition,client:t.client,identificationcard:t.identificationcard,company:t.company,ruc:t.ruc,destinations:t.destinations,location:n.location}),console.log(t)},t=>console.error(t))}Form(){this.guidedetail=this.fb.group({tuition:[null,[]],client:[null,[]],identificationcard:[null,[]],company:[null,[]],ruc:[null,[]],destinations:[null,[]],location:[null,[]]})}list(){this.guideSvc.GetUnit().subscribe(n=>{this.units=n},n=>console.log(n)),this.guideSvc.GetInvoiceType().subscribe(n=>{this.invoicetypes=n},n=>console.error(n))}}function mt(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"option",48),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=n.$implicit;e.\u0275\u0275property("value",t.idclient),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2("(",t.identificationcard,") ",t.names,"")}}function st(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"small",49),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.getErrorMessage("idclient")," ")}}function dt(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"small",49),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.getErrorMessage("location")," ")}}function ct(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"small",49),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.getErrorMessage("destinations")," ")}}M.\u0275fac=function(n){return new(n||M)(e.\u0275\u0275directiveInject(g.WI),e.\u0275\u0275directiveInject(g.uw),e.\u0275\u0275directiveInject(A.C),e.\u0275\u0275directiveInject(i.qu))},M.\u0275cmp=e.\u0275\u0275defineComponent({type:M,selectors:[["app-guidedetail"]],decls:126,vars:6,consts:[[1,"text-white","bg-primary"],[1,"fill-remaining-space"],["mat-icon-button","","mat-dialog-close",""],[2,"max-height","unset !important"],[3,"formGroup"],[1,"row"],[1,"col-sm-4"],[1,"form-group","row"],[1,"col-sm-2","col-form-label"],[1,"col-sm-10"],[1,"form-select","form-select-sm"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-group"],[1,"col-form-label","col-form-label-sm"],["type","text",1,"form-control","form-control-sm"],["type","text","formControlName","location",1,"form-control","form-control-sm"],["type","text","formControlName","destinations",1,"form-control","form-control-sm"],[1,"col-sm-8"],[1,"col-sm"],[1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","text","formControlName","identificationcard",1,"form-control","form-control-sm"],[1,"col-sm-4","col-form-label"],["type","text","formControlName","client",1,"form-control","form-control-sm"],["type","text","formControlName","ruc",1,"form-control","form-control-sm"],["type","text","formControlName","company",1,"form-control","form-control-sm"],["type","text","formControlName","tuition",1,"form-control","form-control-sm"],[1,"table","table-sm","table-hover"],["scope","col"],["width","50%"],[1,"spacer","btn","btn-outline-success","btn-sm"],[1,"fa-solid","fa-angles-down"],["mat-table","",1,"table","table-striped","table-hover",3,"dataSource"],["matColumnDef","idguide"],["scope","col",4,"matHeaderCellDef"],["scope","row",4,"matCellDef"],["matColumnDef","company"],["matColumnDef","location"],["matColumnDef","client"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["align","end"],[1,"btn","btn-success","btn-sm"],[3,"value"],["scope","row"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","8",1,"mat-cell"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"mat-toolbar",0)(1,"span"),e.\u0275\u0275text(2,"Detalle Guia N\xb0 00001"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"span",1),e.\u0275\u0275elementStart(4,"button",2)(5,"mat-icon"),e.\u0275\u0275text(6,"close"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"mat-dialog-content",3)(8,"form",4)(9,"div",5)(10,"div",6)(11,"h6"),e.\u0275\u0275text(12,"Datos de Comprobante de Venta"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",7)(14,"label",8),e.\u0275\u0275text(15,"Tipo:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",9)(17,"select",10)(18,"option",11),e.\u0275\u0275text(19,"Selcione Uno"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(20,Ue,2,2,"option",12),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(21,"div",13)(22,"label",14),e.\u0275\u0275text(23,"No. AUTORIZACI\xd3N:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(24,"input",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",13)(26,"label",14),e.\u0275\u0275text(27,"No. DEL COMPROBANTE:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(28,"input",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"div",13)(30,"label",14),e.\u0275\u0275text(31,"N\xfamero de declaraci\xf3n aduanera:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(32,"input",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"div",13)(34,"label",14),e.\u0275\u0275text(35,"Motivo del traslado:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(36,"input",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"div",13)(38,"label",14),e.\u0275\u0275text(39,"Punto de partida:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(40,"input",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"div",13)(42,"label",14),e.\u0275\u0275text(43,"Destino (punto de llegada):"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(44,"input",17),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(45,"div",18)(46,"div",5)(47,"div",19)(48,"h6"),e.\u0275\u0275text(49,"Identificaci\xf3n del destinatario"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"div",7)(51,"label",20),e.\u0275\u0275text(52,"R.U.C/C.I:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(53,"div",21),e.\u0275\u0275element(54,"input",22),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(55,"div",7)(56,"label",23),e.\u0275\u0275text(57,"Raz\xf3n social:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(58,"div",18),e.\u0275\u0275element(59,"input",24),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(60,"div",19)(61,"h6"),e.\u0275\u0275text(62,"Identificaci\xf3n del transportista"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(63,"div",7)(64,"label",20),e.\u0275\u0275text(65,"R.U.C/C.I:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(66,"div",21),e.\u0275\u0275element(67,"input",25),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(68,"div",7)(69,"label",23),e.\u0275\u0275text(70,"Raz\xf3n social:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(71,"div",18),e.\u0275\u0275element(72,"input",26),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(73,"div",7)(74,"label",8),e.\u0275\u0275text(75,"Placa:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(76,"div",9),e.\u0275\u0275element(77,"input",27),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(78,"table",28)(79,"thead")(80,"tr")(81,"th",29),e.\u0275\u0275text(82,"Detalle"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(83,"th",29),e.\u0275\u0275text(84,"Unidad"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(85,"th",29),e.\u0275\u0275text(86,"Cantidad"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(87,"th",29),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(88,"tbody")(89,"tr")(90,"td",30),e.\u0275\u0275element(91,"input",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(92,"td")(93,"select",10)(94,"option",11),e.\u0275\u0275text(95,"Selcione Uno"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(96,He,2,2,"option",12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(97,"td"),e.\u0275\u0275element(98,"input",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(99,"td")(100,"button",31),e.\u0275\u0275element(101,"i",32),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(102,"table",33),e.\u0275\u0275elementContainerStart(103,34),e.\u0275\u0275template(104,We,2,0,"th",35),e.\u0275\u0275template(105,Ye,2,0,"td",36),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(106,37),e.\u0275\u0275template(107,Xe,2,0,"th",35),e.\u0275\u0275element(108,"th"),e.\u0275\u0275template(109,Ze,2,0,"td",36),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(110,38),e.\u0275\u0275template(111,Qe,2,0,"th",35),e.\u0275\u0275element(112,"th"),e.\u0275\u0275template(113,et,2,0,"td",36),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(114,39),e.\u0275\u0275template(115,tt,2,0,"th",35),e.\u0275\u0275template(116,nt,2,0,"td",36),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(117,40),e.\u0275\u0275template(118,ot,1,0,"th",35),e.\u0275\u0275template(119,lt,1,0,"td",36),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275template(120,at,1,0,"tr",41),e.\u0275\u0275template(121,it,1,0,"tr",42),e.\u0275\u0275template(122,rt,3,0,"tr",43),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(123,"mat-dialog-actions",44)(124,"button",45),e.\u0275\u0275text(125,"Guardar"),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275advance(8),e.\u0275\u0275property("formGroup",t.guidedetail),e.\u0275\u0275advance(12),e.\u0275\u0275property("ngForOf",t.invoicetypes),e.\u0275\u0275advance(76),e.\u0275\u0275property("ngForOf",t.units),e.\u0275\u0275advance(6),e.\u0275\u0275property("dataSource",t.dataSource),e.\u0275\u0275advance(18),e.\u0275\u0275property("matHeaderRowDef",t.displayedColumns),e.\u0275\u0275advance(1),e.\u0275\u0275property("matRowDefColumns",t.displayedColumns))},dependencies:[C.sg,P.Ye,q.RK,z.Hw,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.XQ,c.Gk,c.Ee,g.ZT,g.xY,g.H8,i._Y,i.YN,i.Kr,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:["label[_ngcontent-%COMP%]{color:#000;font-weight:bolder}.header[_ngcontent-%COMP%]{font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;font-size:xx-large;font-weight:700}.spacer[_ngcontent-%COMP%]{border:none}button[_ngcontent-%COMP%]{margin-right:8px}h6[_ngcontent-%COMP%]{color:#000;font-weight:bolder}"]});const pt=function(o,n){return{"is-invalid":o,"is-valid":n}};function ut(o,n){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",31)(1,"div",32)(2,"div",33)(3,"div",34)(4,"label",35),e.\u0275\u0275text(5,"Cliente:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",36)(7,"select",37),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.select(a))}),e.\u0275\u0275elementStart(8,"option",38),e.\u0275\u0275text(9,"Selecione ..."),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,mt,2,3,"option",39),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,st,2,1,"small",40),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(12,"div",33)(13,"div",34)(14,"label",35),e.\u0275\u0275text(15,"Nombre:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",36),e.\u0275\u0275element(17,"input",41),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(18,"div",32)(19,"div",33)(20,"div",34)(21,"label",35),e.\u0275\u0275text(22,"Salidad:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",36),e.\u0275\u0275element(24,"input",42),e.\u0275\u0275template(25,dt,2,1,"small",40),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(26,"div",33)(27,"div",34)(28,"label",35),e.\u0275\u0275text(29,"Destino:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"div",36),e.\u0275\u0275element(31,"input",43),e.\u0275\u0275template(32,ct,2,1,"small",40),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(33,"div",32),e.\u0275\u0275element(34,"div",44),e.\u0275\u0275elementStart(35,"div",45)(36,"mat-radio-group",46)(37,"mat-radio-button",47),e.\u0275\u0275text(38,"Principal"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"mat-radio-button",47),e.\u0275\u0275text(40,"Secundario"),e.\u0275\u0275elementEnd()()()()()}if(2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(7),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(7,pt,t.isvalid("idclient"),t.guiaform.get("idclient").valid)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.clients),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isvalid("idclient")||!1),e.\u0275\u0275advance(14),e.\u0275\u0275property("ngIf",t.isvalid("location")||!1),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",t.isvalid("destinations")||!1),e.\u0275\u0275advance(5),e.\u0275\u0275property("value",!0),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",!1)}}function ft(o,n){1&o&&e.\u0275\u0275element(0,"samp",50)}function ht(o,n){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",51),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.cancel(a.new))}),e.\u0275\u0275element(1,"i",52),e.\u0275\u0275elementEnd()}}function vt(o,n){1&o&&(e.\u0275\u0275elementStart(0,"th",53),e.\u0275\u0275text(1,"N\xb0 Guia"),e.\u0275\u0275elementEnd())}function gt(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"td",54),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=n.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("0000",t.idguide,"")}}function Ct(o,n){1&o&&(e.\u0275\u0275elementStart(0,"th",53),e.\u0275\u0275text(1,"Empresa"),e.\u0275\u0275elementEnd())}function yt(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"td",54),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=n.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.company)}}function bt(o,n){1&o&&(e.\u0275\u0275elementStart(0,"th",53),e.\u0275\u0275text(1,"Bodega"),e.\u0275\u0275elementEnd())}function xt(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"td",54),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=n.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.location)}}function St(o,n){1&o&&(e.\u0275\u0275elementStart(0,"th",53),e.\u0275\u0275text(1,"Cliente"),e.\u0275\u0275elementEnd())}function Et(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"td",54),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=n.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.client)}}function _t(o,n){1&o&&(e.\u0275\u0275elementStart(0,"th",53),e.\u0275\u0275text(1,"Destino"),e.\u0275\u0275elementEnd())}function kt(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"td",54),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=n.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.destinations)}}function Ft(o,n){1&o&&(e.\u0275\u0275elementStart(0,"th",53),e.\u0275\u0275text(1,"Recorido"),e.\u0275\u0275elementEnd())}function It(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"td",54),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=n.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",t.km," Km")}}function wt(o,n){1&o&&(e.\u0275\u0275elementStart(0,"th",53),e.\u0275\u0275text(1,"Tipo de Viaje"),e.\u0275\u0275elementEnd())}function Tt(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"td",54),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=n.$implicit,l=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(l.travels(t.status))}}function Nt(o,n){1&o&&e.\u0275\u0275element(0,"th",53)}function Gt(o,n){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"td",54)(1,"button",55),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.onOpenModalDetail(r))}),e.\u0275\u0275element(2,"i",56),e.\u0275\u0275elementEnd()()}}function Dt(o,n){1&o&&(e.\u0275\u0275elementStart(0,"th",57),e.\u0275\u0275text(1,"\xa0"),e.\u0275\u0275elementEnd())}function Ot(o,n){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"td",58)(1,"button",59)(2,"mat-icon"),e.\u0275\u0275text(3,"more_vert"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"mat-menu",null,60)(6,"button",61),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.Edit(r.idguide))}),e.\u0275\u0275element(7,"i",62)(8,"span",50),e.\u0275\u0275elementStart(9,"span"),e.\u0275\u0275text(10,"Editar"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"button",61),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.delete(r.idguide))}),e.\u0275\u0275element(12,"i",63)(13,"span",50),e.\u0275\u0275elementStart(14,"span"),e.\u0275\u0275text(15,"Eliminar"),e.\u0275\u0275elementEnd()()()()}if(2&o){const t=e.\u0275\u0275reference(5);e.\u0275\u0275advance(1),e.\u0275\u0275property("matMenuTriggerFor",t)}}function Vt(o,n){1&o&&e.\u0275\u0275element(0,"tr",64)}function At(o,n){1&o&&e.\u0275\u0275element(0,"tr",65)}function Kt(o,n){1&o&&(e.\u0275\u0275elementStart(0,"tr",66)(1,"td",67),e.\u0275\u0275text(2,"No hay Datos"),e.\u0275\u0275elementEnd()())}const Rt=function(o,n){return{"fa-plus":o,"fa-check":n}};var b=(()=>{return(o=b||(b={})).EDIT="edit",o.NEW="new",b;var o})();class L{constructor(n,t,l,a,r,m,s,d,h,u){this.clientSvc=n,this.placesSvc=t,this.placeSvc=l,this.companySvc=a,this.fb=r,this.toastr=m,this.guideSvc=s,this.authSvc=d,this.data=h,this.dialog=u,this.actionTODO="",this.displayedColumns=["idguide","company","location","client","destinations","km","status","actions","star"],this.dataSource=new c.by,this.new=!1,this.edit=!1,this.length=0,this.pageSize=10,this.pageSizeOptions=[],this.clients=[],this.t=!1}ngOnInit(){this.List(),this.GuiaForm(),this.CreateKm(1,1)}select(n){const t=n.target.value.toLowerCase();""!=t&&this.clientSvc.GetIdClient(t).subscribe(l=>{this.placesSvc.GetIdDestinations(l.iddestinations).subscribe(a=>{this.guiaform.patchValue({names:l.names+" "+l.lastnames,iddestinations:l.iddestinations,destinations:a.destinations}),this.guiaform.updateValueAndValidity()},a=>console.log(a))},l=>console.error(l))}List(){this.clientSvc.GetClient().subscribe(t=>{this.clients=t},t=>console.error(t));const n=this.authSvc.userValue;this.idCompany=n.idcompany,this.idguide=n.user.id,this.companySvc.GetIdCompany(n.idcompany).subscribe(t=>{this.placeSvc.GetIdLocation(t.idlocation).subscribe(l=>{this.guiaform.patchValue({idlocation:l.idlocation,location:l.location}),this.guiaform.updateValueAndValidity()},l=>console.error(l))},t=>console.error(t)),this.guideSvc.GetGuideActivateUser(this.data.idtravel).subscribe(t=>{t.length>0?(this.dataSource.data=t,this.length=t.length,this.pageSizeOptions=[5,10,20,t.length]):this.dataSource.data=[]},t=>{this.toastr.error("Sin Datos",t,{timeOut:3e3})})}GuiaForm(){this.guiaform=this.fb.group({idclient:[,[i.kI.required]],names:["",i.kI.required],idcompany:["",[]],idlocation:["",[i.kI.required]],location:["",[i.kI.required]],iddestinations:["",[i.kI.required]],destinations:["",i.kI.required],km:[""],hours:[""],status:[!1,[]],idvehicle:[,[]],iduser:["",[]]}),this.origen=this.fb.group({lat:[""],lng:[""]}),this.destino=this.fb.group({lat:[""],lng:[""]})}Edit(n){console.log(n),this.actionTODO=b.EDIT,this.edit=!this.edit,this.new=!this.new,this.guideSvc.GetIdGuide(n).subscribe(t=>{this.id=t.idguide,this.guiaform.patchValue({idclient:t.idclient,idcompany:t.idcompany,idlocation:t.idlocation,iddestinations:t.iddestinations,km:t.km,hours:t.hours,status:t.status,idvehicle:t.idvehicle,iduser:t.iduser}),this.guiaform.updateValueAndValidity()})}CreateKm(n,t){this.placeSvc.GetIdLocation(n).subscribe(l=>{this.origen.patchValue({lat:l.latitude,lng:l.longitude}),this.origen.updateValueAndValidity()}),this.placesSvc.GetIdDestinations(t).subscribe(l=>{this.destino.patchValue({lat:l.latitude,lng:l.longitude}),this.destino.updateValueAndValidity()})}getDistance(n,t){const l=new google.maps.DistanceMatrixService;return new Promise((a,r)=>{l.getDistanceMatrix({origins:[new google.maps.LatLng(n.lat,n.lng)],destinations:[new google.maps.LatLng(t.lat,t.lng)],travelMode:google.maps.TravelMode.DRIVING},function(m,s){"OK"===s?a(m):r(m)})})}New(n){if(n){if(this.actionTODO===b.NEW){if(!this.guiaform.valid)return this.toastr.warning("Sin Datos","No Hay Registro",{timeOut:3e3}),this.new;{const t=this.guiaform.value;this.CreateKm(t.idlocation,t.iddestinations),this.getDistance(this.origen.value,this.destino.value).then(l=>{const a=Math.round(l.rows[0].elements[0].distance.value/1e3),r=Math.round(l.rows[0].elements[0].duration.value/3600);this.guiaform.patchValue({idcompany:this.idCompany,iduser:this.idguide,idvehicle:this.data.idvehicle,km:a,hours:r,status:!1}),this.guiaform.updateValueAndValidity(),this.guideSvc.PostGuide(this.guiaform.value).subscribe(d=>(this.m=d,this.toastr.success(this.m.message,"Creado",{timeOut:3e3}),this.List(),this.guiaform.reset(),this.new))}).catch(l=>console.log(l))}}if(this.actionTODO===b.EDIT){const t=this.guiaform.value;this.CreateKm(t.idlocation,t.iddestinations),this.getDistance(this.origen.value,this.destino.value).then(l=>{const a=Math.round(l.rows[0].elements[0].distance.value/1e3),r=Math.round(l.rows[0].elements[0].duration.value/3600);this.guiaform.patchValue({idcompany:this.idCompany,iduser:this.idguide,idvehicle:this.data.idvehicle,status:!1,km:a,hours:r}),this.guiaform.updateValueAndValidity(),this.guideSvc.PutGuide(this.guiaform.value,this.id).subscribe(s=>(this.m=s,this.toastr.warning(this.m.message,"actulizado",{timeOut:3e3}),this.List(),this.guiaform.reset(),this.edit=!this.edit,this.actionTODO=b.NEW,this.new))}).catch(l=>console.log(l))}}return this.actionTODO=b.NEW,this.edit=!this.edit,this.new=!this.new,this.new}cancel(n){return this.actionTODO=b.NEW,this.new=!this.new,this.guiaform.reset(),this.new}isvalid(n){return this.guiaform.get(n).invalid&&(this.guiaform.get(n).dirty||this.guiaform.get(n).touched)}getErrorMessage(n){const{errors:t}=this.guiaform.get(n);let l=t?.minlength?.requiredLength;return t?{required:"el campo es requerido",minlength:`el valor ingresado es menor a ${l} carateres`}[Object.keys(t).find(Boolean)||""]:""}delete(n){window.confirm("Desea eliminar este Registro")&&this.guideSvc.DeleteGuide(n).subscribe(t=>{this.toastr.error("Registro Eliminado","Eliminado",{timeOut:3e3}),this.List()})}onOpenModalDetail(n={}){this.dialog.open(M,{maxWidth:"100vw",maxHeight:"100vh",height:"95%",width:"95%",hasBackdrop:!0,data:{title:"Detail",data:this.data,guide:n}}).afterClosed().subscribe(l=>{})}travels(n){return n?"Principal":"Secundario"}}L.\u0275fac=function(n){return new(n||L)(e.\u0275\u0275directiveInject(me.y),e.\u0275\u0275directiveInject(se.E),e.\u0275\u0275directiveInject(de.k),e.\u0275\u0275directiveInject(Y.J),e.\u0275\u0275directiveInject(i.qu),e.\u0275\u0275directiveInject(X._W),e.\u0275\u0275directiveInject(A.C),e.\u0275\u0275directiveInject(Z.e),e.\u0275\u0275directiveInject(g.WI),e.\u0275\u0275directiveInject(g.uw))},L.\u0275cmp=e.\u0275\u0275defineComponent({type:L,selectors:[["app-guideedit"]],decls:54,vars:12,consts:[[1,"text-white","bg-primary"],[1,"fill-remaining-space"],["mat-icon-button","","mat-dialog-close",""],[1,"d-flex"],[1,"p-2","flex-grow-1"],[3,"formGroup"],["class","",4,"ngIf"],[1,"p-2"],["type","button",1,"btn","btn-outline-success","btn-sm",3,"click"],[1,"fa-solid",3,"ngClass"],["style","margin-left: 5px;",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm",3,"click",4,"ngIf"],["mat-table","",1,"table","table-striped","table-hover",3,"dataSource"],["matColumnDef","idguide"],["scope","col",4,"matHeaderCellDef"],["scope","row",4,"matCellDef"],["matColumnDef","company"],["matColumnDef","location"],["matColumnDef","client"],["matColumnDef","destinations"],["matColumnDef","km"],["matColumnDef","status"],["matColumnDef","actions"],["matColumnDef","star","stickyEnd",""],["mat-header-cell","","aria-label","row actions",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["align","end"],["cdkFocusInitial","",1,"btn","btn-success",3,"mat-dialog-close"],[1,""],[1,"row"],[1,"col"],[1,"form-group","row"],[1,"col-sm-2","col-form-label","fw-bold"],[1,"col-sm-10"],["formControlName","idclient",1,"form-select","form-select-sm",3,"ngClass","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","form-text text-danger",4,"ngIf"],["type","text","readonly","","formControlName","names","placeholder","cliente",1,"form-control","form-control-sm"],["type","text","readonly","","formControlName","location","placeholder","Salidad",1,"form-control","form-control-sm"],["type","text","readonly","","formControlName","destinations","placeholder","Destino",1,"form-control","form-control-sm"],[1,"col-sm-8"],[1,"col-sm-4"],["formControlName","status"],[1,"example-margin",3,"value"],[3,"value"],[1,"form-text","text-danger"],[2,"margin-left","5px"],["type","button",1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"fa-solid","fa-x"],["scope","col"],["scope","row"],[1,"spacer","btn","btn-outline-success","btn-sm",3,"click"],[1,"fa-solid","fa-box"],["mat-header-cell","","aria-label","row actions"],["mat-cell",""],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"spacer","fa-solid","fa-file-pen"],[1,"spacer","fa-solid","fa-trash-can"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","8",1,"mat-cell"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"mat-toolbar",0)(1,"span"),e.\u0275\u0275text(2,"Guias"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"span",1),e.\u0275\u0275elementStart(4,"button",2)(5,"mat-icon"),e.\u0275\u0275text(6,"close"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"mat-dialog-content")(8,"div",3)(9,"div",4)(10,"form",5),e.\u0275\u0275template(11,ut,41,10,"div",6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",7)(13,"button",8),e.\u0275\u0275listener("click",function(){return t.New(t.new)}),e.\u0275\u0275element(14,"i",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(15,ft,1,0,"samp",10),e.\u0275\u0275template(16,ht,2,0,"button",11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"div")(18,"table",12),e.\u0275\u0275elementContainerStart(19,13),e.\u0275\u0275template(20,vt,2,0,"th",14),e.\u0275\u0275template(21,gt,2,1,"td",15),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(22,16),e.\u0275\u0275template(23,Ct,2,0,"th",14),e.\u0275\u0275element(24,"th"),e.\u0275\u0275template(25,yt,2,1,"td",15),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(26,17),e.\u0275\u0275template(27,bt,2,0,"th",14),e.\u0275\u0275element(28,"th"),e.\u0275\u0275template(29,xt,2,1,"td",15),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(30,18),e.\u0275\u0275template(31,St,2,0,"th",14),e.\u0275\u0275template(32,Et,2,1,"td",15),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(33,19),e.\u0275\u0275template(34,_t,2,0,"th",14),e.\u0275\u0275template(35,kt,2,1,"td",15),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(36,20),e.\u0275\u0275template(37,Ft,2,0,"th",14),e.\u0275\u0275template(38,It,2,1,"td",15),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(39,21),e.\u0275\u0275template(40,wt,2,0,"th",14),e.\u0275\u0275template(41,Tt,2,1,"td",15),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(42,22),e.\u0275\u0275template(43,Nt,1,0,"th",14),e.\u0275\u0275template(44,Gt,3,0,"td",15),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(45,23),e.\u0275\u0275template(46,Dt,2,0,"th",24),e.\u0275\u0275template(47,Ot,16,1,"td",25),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275template(48,Vt,1,0,"tr",26),e.\u0275\u0275template(49,At,1,0,"tr",27),e.\u0275\u0275template(50,Kt,3,0,"tr",28),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(51,"mat-dialog-actions",29)(52,"button",30),e.\u0275\u0275text(53,"Guardar Ruta"),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275advance(10),e.\u0275\u0275property("formGroup",t.guiaform),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.new),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(9,Rt,!t.new,t.new)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.new),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.new),e.\u0275\u0275advance(2),e.\u0275\u0275property("dataSource",t.dataSource),e.\u0275\u0275advance(30),e.\u0275\u0275property("matHeaderRowDef",t.displayedColumns),e.\u0275\u0275advance(1),e.\u0275\u0275property("matRowDefColumns",t.displayedColumns),e.\u0275\u0275advance(3),e.\u0275\u0275property("mat-dialog-close",t.dataSource.data))},dependencies:[C.mk,C.sg,C.O5,P.Ye,q.RK,F.VK,F.OP,F.p6,z.Hw,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,c.Ee,g.ZT,g.xY,g.H8,Q.oO,I.VQ,I.U0,i._Y,i.YN,i.Kr,i.Fj,i.EJ,i.JJ,i.JL,i.sg,i.u],styles:["label[_ngcontent-%COMP%]{color:#000}.header[_ngcontent-%COMP%]{font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;font-size:xx-large;font-weight:700}.spacer[_ngcontent-%COMP%]{border:none}button[_ngcontent-%COMP%]{margin-right:8px}"]});var Mt=p(2965),Lt=p(6635),pe=p(8717);class w{constructor(n,t){this.guideSvc=n,this.tabulationSvc=t,this.guide={hours:0,idcompany:0,idclient:0,iddestinations:0,idguide:0,idlocation:0,iduser:0,km:0,name:"",status:!1,idvehicle:0},this.bill=[],this.result=[]}MaintenamceCostsF(n,t){const u=(parseFloat(""+n.fronttiresCkm)+parseFloat(""+n.drivetiresCkm)+parseFloat(""+n.dragtiresCkm)+parseFloat(""+n.wheelsCkm)+parseFloat(""+n.puncturesanddamageCkm)+parseFloat(""+n.alignmentCkm)+parseFloat(""+n.swingingCkm)).toFixed(5),k=(parseFloat(""+n.oilchangeCkm)+parseFloat(""+n.casetransmissionoilCkm)+parseFloat(""+n.airfiltersCkm)+parseFloat(""+n.lubricantsfluidsCkm)+parseFloat(""+n.cleaningCkm)).toFixed(5),ne=(parseFloat(""+n.acCkm)+parseFloat(""+n.pressuregaugesCkm)+parseFloat(""+n.glassesandcleaningsystemCkm)+parseFloat(""+n.lightsCkm)+parseFloat(""+n.accessoriesCkm)+parseFloat(""+n.startingmotorCkm)+parseFloat(""+n.alternatorCkm)+parseFloat(""+n.batteriesCkm)).toFixed(5),oe=(parseFloat(""+n.minorrepairCkm)+parseFloat(""+n.majorrepairCkm)+parseFloat(""+n.adjustmentscalibrationsCkm)+parseFloat(""+n.drumsCkm)+parseFloat(""+n.sealsCkm)).toFixed(5),le=(parseFloat(""+n.springsleafspringsCkm)+parseFloat(""+n.rubberCkm)).toFixed(5),ae=(parseFloat(""+n.addressCkm)+parseFloat(""+n.pinCkm)+parseFloat(""+n.clutchclutchCkm)+parseFloat(""+n.transmissiondifferentialCkm)+parseFloat(""+n.boxCkm)+parseFloat(""+n.cardanCkm)+parseFloat(""+n.frontloadaxleCkm)+parseFloat(""+n.rearloadaxleCkm)).toFixed(5),ie=(parseFloat(""+n.waterpumpCkm)+parseFloat(""+n.airpurifierCkm)+parseFloat(""+n.radiatorCkm)+parseFloat(""+n.intonationtuningCkm)+parseFloat(""+n.engineoverhaulCkm)+parseFloat(""+n.turboCkm)+parseFloat(""+n.fuelpumpCkm)+parseFloat(""+n.oilsystemCkm)+parseFloat(""+n.coolingCkm)+parseFloat(""+n.exhaustsystemCkm)+parseFloat(""+n.electronicsystemCkm)).toFixed(5);return{tirealignmentA:(parseFloat(u)*t*12).toFixed(2),ordinarymaintenanceA:(parseFloat(k)*t*12).toFixed(2),electricsystemA:(parseFloat(ne)*t*12).toFixed(2),brakingsystemA:(parseFloat(oe)*t*12).toFixed(2),suspensionA:(parseFloat(le)*t*12).toFixed(2),transmissionsystemA:(parseFloat(ae)*t*12).toFixed(2),enginerepairA:(parseFloat(ie)*t*12).toFixed(2),tirealignment:(parseFloat(u)*t).toFixed(2),ordinarymaintenance:(parseFloat(k)*t).toFixed(2),electricsystem:(parseFloat(ne)*t).toFixed(2),brakingsystem:(parseFloat(oe)*t).toFixed(2),suspension:(parseFloat(le)*t).toFixed(2),transmissionsystem:(parseFloat(ae)*t).toFixed(2),enginerepair:(parseFloat(ie)*t).toFixed(2),tirealignmentKm:u,ordinarymaintenanceKm:k,electricsystemKm:ne,brakingsystemKm:oe,suspensionKm:le,transmissionsystemKm:ae,enginerepairKm:ie,total:n.total}}FixedCostsF(n,t,l,a,r){const O=n/a+t.garage/a+l.vehicleRegistration/12/a+l.insurance/a+l.technicalReviews/a+t.adminexpensesmonth/r/a+t.basicservicesmonth/r/a+l.financialCosts/a+.1*t.vehiclevalue/12/a+t.permitsqualifications/12/a+l.satelliteTracking/a+l.andeanPolicy/a;return{salaryA:(12*n).toFixed(2),salary:n,salaryKm:(n/a).toFixed(5),garageA:(12*t.garage).toFixed(2),garage:t.garage,garageKm:(t.garage/a).toFixed(5),registrationA:l.vehicleRegistration,registration:(l.vehicleRegistration/12).toFixed(2),registrationKm:(l.vehicleRegistration/12/a).toFixed(5),sureA:(12*l.insurance).toFixed(2),sure:l.insurance,sureKm:(l.insurance/a).toFixed(5),revisionA:(12*l.technicalReviews).toFixed(2),revision:l.technicalReviews,revisionKm:(l.technicalReviews/a).toFixed(5),billsA:(t.adminexpensesmonth/r*12).toFixed(2),bills:(t.adminexpensesmonth/r).toFixed(2),billsKm:(t.adminexpensesmonth/r/a).toFixed(5),servicesA:(t.basicservicesmonth/r*12).toFixed(2),services:(t.basicservicesmonth/r).toFixed(2),servicesKm:(t.basicservicesmonth/r/a).toFixed(5),costsA:(12*l.financialCosts).toFixed(2),costs:l.financialCosts,costsKm:(l.financialCosts/a).toFixed(5),depreciationsA:(.1*t.vehiclevalue).toFixed(2),depreciations:(.1*t.vehiclevalue/12).toFixed(2),depreciationsKm:(.1*t.vehiclevalue/12/a).toFixed(5),permissionsA:t.permitsqualifications,permissions:(t.permitsqualifications/12).toFixed(2),permissionsKm:(t.permitsqualifications/12/a).toFixed(5),gpsA:(12*l.satelliteTracking).toFixed(2),gps:l.satelliteTracking,gpsKm:(l.satelliteTracking/a).toFixed(5),policiesA:(12*l.andeanPolicy).toFixed(2),policies:l.andeanPolicy,policiesKm:(l.andeanPolicy/a).toFixed(5),total:parseFloat(""+O).toFixed(2)}}ExtraCostF(n,t){let l=0,a=0,r=0,m=0,s=0,d=0;for(let u of n)"DIESEL"===u.concepts&&(l=u.amount),"PEAJE"===u.concepts&&(a=u.amount),"VI\xc1TICOS"===u.concepts&&(r=u.amount),"PESAS Y BALANZA"===u.concepts&&(m=u.amount),"CARGUE Y DESCARGUE"===u.concepts&&(s=u.amount),"CARAVANA"===u.concepts&&(d=u.amount);const h=l/t*1+a/t*10+r/t*1+m/t*1+s/t*14+d/t*14;return{dieselCostv:l,dieselKmv:t,dieselCantv:1,dieselCostKm:(l/t*1).toFixed(5),tollCostv:a,tollKmv:t,tollCantv:10,tollCostKm:(a/t*10).toFixed(5),viaticCostv:r,viaticKmv:t,viaticCantv:1,viaticCostKm:(r/t*1).toFixed(5),weightsScaleCostv:m,weightsScaleKmv:t,weightsScaleCantv:1,weightsScaleCostKm:(m/t*1).toFixed(5),loadDownloadCostv:s,loadDownloadKmv:t,loadDownloadCantv:14,loadDownloadCostKm:(s/t*14).toFixed(5),caravanCostv:d,caravanKmv:t,caravanCantv:14,caravanCostKm:(d/t*14).toFixed(5),total:h.toFixed(2)}}}w.\u0275fac=function(n){return new(n||w)(e.\u0275\u0275inject(A.C),e.\u0275\u0275inject(pe.E))},w.\u0275prov=e.\u0275\u0275defineInjectable({token:w,factory:w.\u0275fac,providedIn:"root"});var jt=p(793),Pt=p(3238),te=p(3848),ue=p(7957);function qt(o,n){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",179),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.reoladdata())}),e.\u0275\u0275element(1,"i",180),e.\u0275\u0275elementEnd()}if(2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("disabled",t.travelform.valid)}}function zt(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"mat-option",181),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=n.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t," ")}}const f=function(o,n){return{"is-invalid":o,"is-valid":n}};function Bt(o,n){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",23)(1,"div",38)(2,"div",29)(3,"div",30)(4,"button",31),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onGuide())}),e.\u0275\u0275text(5,"Guias"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"input",182),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"div",24)(8,"div",29)(9,"div",30)(10,"span",36),e.\u0275\u0275text(11,"Trayecto:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(12,"input",183),e.\u0275\u0275elementEnd()()()()}if(2&o){const t=e.\u0275\u0275nextContext();let l,a;e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(2,f,t.isvalid("guide"),null==(l=t.travelform.get("guide"))?null:l.valid)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(5,f,t.isvalid("trayect"),null==(a=t.travelform.get("trayect"))?null:a.valid))}}function Jt(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"option",181),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=n.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",t," %")}}function $t(o,n){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",25)(1,"h6",26),e.\u0275\u0275text(2,"Resultados: "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",27)(4,"div",42)(5,"div",30)(6,"span",64),e.\u0275\u0275text(7," SubTotal: "),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"input",184),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(9,"div",40),e.\u0275\u0275elementStart(10,"div",42)(11,"div",30)(12,"span",64),e.\u0275\u0275text(13," Porcentaje: "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"select",185),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.porcentageSelect(a))}),e.\u0275\u0275template(15,Jt,2,2,"option",34),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275element(16,"div",40),e.\u0275\u0275elementStart(17,"div",42)(18,"div",30)(19,"span",64),e.\u0275\u0275text(20," Total: "),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(21,"input",186),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(22,"div",40),e.\u0275\u0275elementStart(23,"div",42)(24,"div",30)(25,"span",64),e.\u0275\u0275text(26," Rentabilidad: "),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(27,"input",187),e.\u0275\u0275elementEnd()()()()}if(2&o){const t=e.\u0275\u0275nextContext();let l,a,r,m;e.\u0275\u0275advance(8),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(5,f,t.isvalid("subtotal"),null==(l=t.travelform.get("subtotal"))?null:l.valid)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(8,f,t.isvalid("percentage"),null==(a=t.travelform.get("percentage"))?null:a.valid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.porcentage),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(11,f,t.isvalid("total"),null==(r=t.travelform.get("total"))?null:r.valid)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(14,f,t.isvalid("profitability"),null==(m=t.travelform.get("profitability"))?null:m.valid))}}function Ut(o,n){1&o&&(e.\u0275\u0275element(0,"i",188),e.\u0275\u0275text(1," COSTOS FIJOS "))}function Ht(o,n){1&o&&(e.\u0275\u0275element(0,"i",189),e.\u0275\u0275text(1," COSTOS MANTENIMIENTO "))}function Wt(o,n){1&o&&(e.\u0275\u0275element(0,"i",190),e.\u0275\u0275text(1," COSTOS EXTRAS "))}const Yt=function(){return["/displaypanel"]},Xt=function(){return["/displaypanel/route"]},Zt=function(){return["/displaypanel/route/travels"]};var x=(()=>{return(o=x||(x={})).EDIT="edit",o.NEW="new",x;var o})();class j{constructor(n,t,l,a,r,m,s,d,h,u,v,S,E,_){this.vehicleSvc=n,this.authSvs=t,this.companySvc=l,this.catalogueSvc=a,this.employeeSvc=r,this.fb=m,this.dialog=s,this.toastr=d,this.tabulationSvc=h,this.guideSvc=u,this.utilsSvc=v,this.travelSvc=S,this.route=E,this.activatedr=_,this.actionTODO="",this.idtravel=0,this.text="nuevo",this.totalresult=!1,this.vehicles=[],this.vehicles1=[],this.control=new i.NI(""),this.idthenical=0,this.guia=[],this.client=[],this.dato=[],this.billtabulation=[],this.kms=0,this.hours=0,this.trayect="",this.travelsalary=0,this.travelsalatyre=0,this.tank="",this.performance=0,this.guiaData=!1,this.tabulation=[],this.bill=[],this.guiaList=[],this.porcentage=[],this.reolad=!1}TravelForm(){this.travelform=this.fb.group({idemployee:[null,[i.kI.required]],idvehicle:[null,[i.kI.required]],employee:[null,[i.kI.required]],use:[null,[i.kI.required]],agination_date:[null,[i.kI.required]],vehicle_use:[null,[i.kI.required]],client:[null,[i.kI.required]],guide:[[],[i.kI.required]],trayect:[[],[i.kI.required]],kms:[null,[i.kI.required,i.kI.pattern(/\d/),i.kI.min(1)]],kmsdes:[null,[i.kI.pattern(/\d/),i.kI.required,i.kI.min(0)]],datestart:[null,[i.kI.required]],dateend:[null,[i.kI.required]],hours:[null,[i.kI.required,i.kI.pattern(/\d/),i.kI.min(1)]],salary:[null,[i.kI.required,i.kI.pattern(/\d/),i.kI.min(1)]],feeding:[null,[i.kI.required,i.kI.pattern(/\d/),i.kI.min(1)]],totalsalary:[null,[i.kI.required,i.kI.pattern(/\d/),i.kI.min(1)]],receivesalary:[null,[i.kI.required,i.kI.pattern(/\d/),i.kI.min(1)]],s:[null,[i.kI.required,i.kI.required]],stay:[!1,[i.kI.required]],idtrailer:[null,[i.kI.required]],tuition:[null,[i.kI.required]],trailer_use:[null,[i.kI.required]],kml:[null,[i.kI.required]],ltes:[null,[i.kI.required]],tank:[null,[]],ltgas:[null,[i.kI.required]],dif:[null,[i.kI.required]],observations:[null,[i.kI.required]],performance:[null,[i.kI.required,i.kI.pattern(/\d/),i.kI.min(1)]],subtotal:[null,[i.kI.required,i.kI.pattern(/\d/),i.kI.min(1)]],percentage:[null,[i.kI.required,i.kI.pattern(/\d/),i.kI.min(1)]],total:[null,[i.kI.required,i.kI.pattern(/\d/),i.kI.min(1)]],profitability:[null,[i.kI.required,i.kI.pattern(/\d/),i.kI.min(1)]]}),this.vehiclerelationshipform=this.fb.group({kmOD:[,[]],kmV:[,[]],kmM:[,[]],TKmM:[,[]]}),this.fixedcostsform=this.fb.group({salaryA:[,[]],salary:[,[]],salaryKm:[,[]],garageA:[,[]],garage:[,[]],garageKm:[,[]],registrationA:[,[]],registration:[,[]],registrationKm:[,[]],sureA:[,[]],sure:[,[]],sureKm:[,[]],revisionA:[,[]],revision:[,[]],revisionKm:[,[]],billsA:[,[]],bills:[,[]],billsKm:[,[]],servicesA:[,[]],services:[,[]],servicesKm:[,[]],costsA:[,[]],costs:[,[]],costsKm:[,[]],depreciationsA:[,[]],depreciations:[,[]],depreciationsKm:[,[]],permissionsA:[,[]],permissions:[,[]],permissionsKm:[,[]],gpsA:[,[]],gps:[,[]],gpsKm:[,[]],policiesA:[,[]],policies:[,[]],policiesKm:[,[]],total:[,[]]}),this.maintenamcecostsform=this.fb.group({tirealignmentA:["",[]],ordinarymaintenanceA:["",[]],electricsystemA:["",[]],brakingsystemA:["",[]],suspensionA:["",[]],transmissionsystemA:["",[]],enginerepairA:["",[]],tirealignment:["",[]],ordinarymaintenance:["",[]],electricsystem:["",[]],brakingsystem:["",[]],suspension:["",[]],transmissionsystem:["",[]],enginerepair:["",[]],tirealignmentKm:["",[]],ordinarymaintenanceKm:["",[]],electricsystemKm:["",[]],brakingsystemKm:["",[]],suspensionKm:["",[]],transmissionsystemKm:["",[]],enginerepairKm:["",[]],total:["",[]]}),this.extracostform=this.fb.group({dieselCostv:["",[]],dieselKmv:["",[]],dieselCantv:["",[]],dieselCostKm:["",[]],tollCostv:["",[]],tollKmv:["",[]],tollCantv:["",[]],tollCostKm:["",[]],viaticCostv:["",[]],viaticKmv:["",[]],viaticCantv:["",[]],viaticCostKm:["",[]],weightsScaleCostv:["",[]],weightsScaleKmv:["",[]],weightsScaleCantv:["",[]],weightsScaleCostKm:["",[]],loadDownloadCostv:["",[]],loadDownloadKmv:["",[]],loadDownloadCantv:["",[]],loadDownloadCostKm:["",[]],caravanCostv:["",[]],caravanKmv:["",[]],caravanCantv:["",[]],caravanCostKm:["",[]],total:["",[]]})}ngOnInit(){this.actionTODO=x.NEW,this.TravelForm(),this.list(),this.filteredvehicle=this.control.valueChanges.pipe((0,fe.O)(""),(0,he.U)(n=>this._filter(n||"")));for(let n=0;n<=100;n+=5)0!=n&&this.porcentage.push(n);this.activatedr.params.subscribe(n=>{null!=n.id?(this.actionTODO=x.EDIT,this.travelSvc.GetIdTravel(n.id).subscribe(t=>{this.idtravel=n.id;const l=this.vehicles1.filter(a=>a.idvehicle==t.idvehicle);this.control.setValue(l[0].tuition),this.DataVehicle(this.vehicles1,l[0].tuition),this.guideSvc.GetGuide().subscribe(a=>{const r=[];for(let m of t.guide){const s=a.filter(d=>d.idguide==m);r.push(s[0])}this.guiaList=r,this.Costs(),this.GuiaList(r),this.GenerateTotal(),this.travelform.patchValue({datestart:t.datestart,dateend:t.datestart,performance:t.performance,subtotal:t.subtotal,percentage:t.percentage,total:t.total,profitability:t.profitability,observations:t.observations}),this.travelform.updateValueAndValidity()},a=>console.log(a))})):this.actionTODO=x.NEW}),this.reolad=!!localStorage.getItem("travelform")}_filter(n){this.DataVehicle(this.vehicles1,n);const t=this._normalizeValue(n);return this.vehicles.filter(l=>this._normalizeValue(l).includes(t))}_normalizeValue(n){return n.toLowerCase().replace(/\s/g,"")}list(){this.idcompany=this.authSvs.userValue.idcompany,this.companySvc.GetIdCompany(this.authSvs.userValue.idcompany).subscribe(n=>{this.loadVehicle=n.default_load_type,this.travelform.patchValue({company:n.name}),this.travelform.updateValueAndValidity()},n=>console.log(n)),this.vehicleSvc.GetVehicle().subscribe(n=>{this.vehicles1=n.filter(l=>"TODOREMOLQUES"!=l.vehicle_model);const t=this.vehicles1.map(l=>l.tuition);this.vehicles=t},n=>console.log(n)),this.tabulationSvc.GetBill().subscribe(n=>{this.bill=n},n=>console.error(n))}onOpenModalGuiaDeactivate(){this.dialog.open(K,{maxWidth:"100vw",maxHeight:"100vh",height:"80%",width:"90%",hasBackdrop:!0,data:{title:"Guia",idvehicle:this.travelform.get("idvehicle")?.value}}).afterClosed().subscribe(t=>{t&&(this.GuiaList(t),this.guiaList=t,this.Costs())})}onOpenModalGuiaActivate(){this.dialog.open(L,{maxWidth:"100vw",maxHeight:"100vh",height:"80%",width:"90%",hasBackdrop:!0,data:{title:"Guia",idtravel:this.idtravel,idvehicle:this.travelform.get("idvehicle")?.value,tution:this.control.value}}).afterClosed().subscribe(t=>{t&&(this.GuiaList(t),this.guiaList=t,this.Costs())})}onGuide(){this.actionTODO===x.EDIT?this.onOpenModalGuiaActivate():this.onOpenModalGuiaDeactivate()}onOpenModalTrailer(){this.dialog.open(R,{width:"550px",hasBackdrop:!1,data:{title:"Remolques"}}).afterClosed().subscribe(t=>{if(t){const l=this.vehicles1.filter(a=>a.idvehicle==t);this.control.setValue(l[0].tuition),this.DataVehicle(this.vehicles1,l[0].tuition)}})}onfeeding(n){const t=parseFloat(this.travelform.value.salary),l=parseFloat(this.travelform.value.feeding),a=parseFloat(this.travelform.value.s)||0;console.log(t),this.travelform.patchValue({receivesalary:t+l+a,totalsalary:t+l}),this.travelform.updateValueAndValidity()}onStay(n){}ondif(n){const t=parseFloat(this.travelform.value.ltgas)||0,l=parseFloat(this.travelform.value.ltes),a=parseFloat(""+this.kms/t+0).toFixed(2);this.travelform.value.ltgas?(console.log(0),this.travelform.patchValue({dif:parseFloat(""+(l-t)).toFixed(2),tank:a}),this.travelform.updateValueAndValidity()):(this.travelform.patchValue({dif:l,tank:""}),this.travelform.updateValueAndValidity())}onKms(n){if(""!=n.target.value&&0!=n.target.value){const t=parseFloat(this.travelform.value.kmsdes),l=parseFloat(this.travelform.value.kml),a=this.kms+t,r=parseFloat(this.vehiclerelationshipform.value.kmM);this.travelform.patchValue({ltes:parseFloat(""+a/l).toFixed(2),dif:parseFloat(""+a/l).toFixed(2)}),this.travelform.updateValueAndValidity(),this.vehiclerelationshipform.patchValue({kmOD:parseInt(""+a),kmV:parseInt(""+2*a),TKmM:parseInt(""+2*a*r)}),this.vehiclerelationshipform.updateValueAndValidity(),this.Costs()}else{const t=parseFloat(this.travelform.value.kml),l=parseFloat(""+this.kms/t).toFixed(2);this.travelform.patchValue({ltes:l,dif:l}),this.travelform.updateValueAndValidity();const a=parseFloat(this.vehiclerelationshipform.value.kmM);this.vehiclerelationshipform.patchValue({kmOD:parseInt(""+this.kms),kmV:parseInt(""+2*this.kms),TKmM:parseInt(""+2*this.kms*a)}),this.vehiclerelationshipform.updateValueAndValidity(),this.Costs()}}GenerateTotal(){this.totalresult=!0;const n=parseFloat(this.fixedcostsform.value.total),t=parseFloat(this.maintenamcecostsform.value.total),l=parseFloat(this.extracostform.value.total);this.totalvalue=(n+t+l).toFixed(2);const m=this.vehiclerelationshipform.value.kmOD*this.totalvalue,s=.2*m+m,d=s-m;this.travelform.patchValue({subtotal:m.toFixed(2),percentage:20,total:s.toFixed(2),profitability:d.toFixed(2)}),this.travelform.updateValueAndValidity()}DataVehicle(n,t){this.totalresult=!1;const l=n.filter(a=>a.tuition.includes(t));if(1==l.length){this.guiaData=!0,this.vehicleSvc.GetAssignVehiceTrailer(l[0].idvehicle).subscribe(s=>{this.vehicleSvc.GetIdTrailer(s[0].idtrailer).subscribe(d=>{this.catalogueSvc.GetIdVehicleUse(d.idvehicle_use).subscribe(h=>{this.travelform.patchValue({idtrailer:d.idtrailer,tuition:d.tuition,trailer_use:h.vehicle_use}),this.travelform.updateValueAndValidity()})})},s=>console.error(s)),this.catalogueSvc.GetIdTechnicalData(l[0].idtechnical_data).subscribe(s=>{this.tank=parseFloat(""+3.785*s.tank_capacity).toFixed(2),this.yield_gallon=s.yield_gallon,this.catalogueSvc.GetIdFuel(s.idfuel).subscribe(d=>{this.performance=parseFloat(d.performance)})});const a=l[0].idvehicle;this.idvahicle=a;const r=new Date,m=(0,C.p6)(r,"yyyy-MM-dd","en");this.vehicleSvc.GetIdVehicle(a).subscribe(s=>{this.employeeSvc.GetIdEmployee(s.idemployee).subscribe(d=>{this.travelsalary=parseFloat(d.salary),this.travelform.patchValue({idvehicle:l[0].idvehicle,idemployee:l[0].idemployee,employee:l[0].employee,use:l[0].vehicle_use,agination_date:l[0].agination_date,vehicle_use:l[0].vehicle_use,salary:d.salary,feeding:10,totalsalary:parseFloat(d.salary)+10,receivesalary:parseFloat(d.salary)+10,kml:this.yield_gallon,s:0,datestart:m,stay:!1,tank:""}),this.travelform.updateValueAndValidity()})}),this.catalogueSvc.GetGeneralDataVehicle(this.idvahicle).subscribe(s=>{this.generaldata=s[0]},s=>console.error(s)),this.catalogueSvc.GetFixedCostsVehicle(this.idvahicle).subscribe(s=>{this.fixedcost=s[0]},s=>console.error(s)),this.catalogueSvc.GetMaintenamceCostsVehicle(this.idvahicle).subscribe(s=>{this.maintenamcecosts=s[0]},s=>console.error(s))}else this.guiaData=!1,this.travelform.reset()}GuiaList(n){this.guia=n.map(v=>"0000"+v.idguide),this.start=n[0].location;let t=0;t=n.length>0?n.length-1:0,this.end=n[t].destinations,this.trayect=this.start+" - "+this.end;const l=n.map(v=>v.client);this.client=Array.from(new Set(l)),this.travelform.patchValue({client:n.map(v=>v.client),guide:this.guia,trayect:this.trayect});const a=n.map(v=>v.km),r=n.map(v=>v.hours);let m=0,s=0;for(const v in a)m+=a[v];for(const v in r)s+=r[v];this.kms=m;const d=parseFloat(this.travelform.value.kml),h=parseFloat(""+m/d).toFixed(2),u=parseFloat(""+this.performance*parseFloat(h)).toFixed(2);this.hours=s,this.travelform.patchValue({kms:this.kms,hours:this.hours,kmsdes:0,ltes:h,performance:u,company:this.client,ltgas:0,dif:h}),this.travelform.updateValueAndValidity(),this.vehiclerelationshipform.patchValue({kmOD:this.kms,kmV:2*this.kms,kmM:this.generaldata.ntravelkmmonth,TKmM:parseInt(""+this.generaldata.ntravelkmmonth*(2*this.kms))}),this.vehiclerelationshipform.updateValueAndValidity()}Costs(){const n=this.guiaList.map(r=>r.idguide);this.tabulationSvc.GetBillTabulation(n).subscribe(r=>{this.billtabulation=r;const m=parseInt(this.vehiclerelationshipform.value.kmV);let s=this.utilsSvc.ExtraCostF(this.billtabulation,m);this.extracostform.setValue(s)});const t=parseFloat(this.vehiclerelationshipform.value.TKmM),l=this.utilsSvc.FixedCostsF(this.travelsalary,this.generaldata,this.fixedcost,t,this.loadVehicle);this.fixedcostsform.setValue(l);const a=this.utilsSvc.MaintenamceCostsF(this.maintenamcecosts,t);this.maintenamcecostsform.setValue(a)}porcentageSelect(n){if(""!=n.target.value){const t=parseInt(n.target.value)/100,l=parseFloat(this.fixedcostsform.value.total),a=parseFloat(this.maintenamcecostsform.value.total),r=parseFloat(this.extracostform.value.total);this.totalvalue=(l+a+r).toFixed(2);const d=this.vehiclerelationshipform.value.kmOD*this.totalvalue,h=d*t+d,u=h-d;this.travelform.patchValue({subtotal:d.toFixed(2),total:h.toFixed(2),profitability:u.toFixed(2)}),this.travelform.updateValueAndValidity()}}save(){const n=this.travelform.value,t={dateend:n.dateend,datestart:n.datestart,dif:n.dif,feeding:n.feeding,guide:n.guide,hours:n.hours,idtrailer:n.idtrailer,idvehicle:n.idvehicle,kms:n.kms,kmsdes:n.kmsdes,ltes:n.ltes,ltgas:n.ltgas,observations:n.observations,percentage:n.percentage,performance:n.performance,profitability:n.profitability,salary:n.salary,subtotal:n.subtotal,tank:n.tank,total:n.total};this.actionTODO===x.NEW&&this.travelSvc.PostTravel(t).subscribe(l=>{this.m=l,this.toastr.success(this.m.message,"Creado",{timeOut:3e3}),this.route.navigate(["/displaypanel/route/travels"])},l=>console.error(l)),this.actionTODO===x.EDIT&&this.travelSvc.PutTravel(t,this.idtravel).subscribe(l=>{this.m=l,this.toastr.warning(this.m.message,"Actualizado",{timeOut:3e3}),this.route.navigate(["/displaypanel/route/travels"])},l=>console.error(l))}savedraft(){localStorage.setItem("travelform",JSON.stringify({guide:this.guiaList,data:this.travelform.value})),this.reolad=!0}cacel(){localStorage.removeItem("travelform"),this.reolad=!1,this.travelform.reset()}reoladdata(){const n=JSON.parse(localStorage.getItem("travelform")||"{}");if(n){this.totalresult=!0;const t=n.data;this.travelform.setValue(t);const l=this.vehicles1.filter(a=>a.idvehicle==t.idvehicle);this.control.setValue(l[0].tuition),this.DataVehicle(this.vehicles1,l[0].tuition),this.GuiaList(n.guide),this.guiaList=n.guide,this.Costs()}this.GenerateTotal()}newdata(){localStorage.removeItem("travelform"),this.reolad=!1,this.travelform.reset(),this.reolad=!1}isvalid(n){const t=this.travelform.get(n);return t?.invalid&&(t.dirty||t.touched)||!1}errorMessage(n){const t=this.travelform.get(n)?.errors;return t?{required:"* Ser Requerido",minlength:`* M\xednimo ${t?.minlength?.requiredLength} Caracteres`,mismatch:"* Coincidir"}[Object.keys(t).find(Boolean)||""]:""}}j.\u0275fac=function(n){return new(n||j)(e.\u0275\u0275directiveInject(ce.f),e.\u0275\u0275directiveInject(Z.e),e.\u0275\u0275directiveInject(Y.J),e.\u0275\u0275directiveInject(Mt.k),e.\u0275\u0275directiveInject(Lt.M),e.\u0275\u0275directiveInject(i.qu),e.\u0275\u0275directiveInject(g.uw),e.\u0275\u0275directiveInject(X._W),e.\u0275\u0275directiveInject(pe.E),e.\u0275\u0275directiveInject(A.C),e.\u0275\u0275directiveInject(w),e.\u0275\u0275directiveInject(jt.r),e.\u0275\u0275directiveInject(V.F0),e.\u0275\u0275directiveInject(V.gz))},j.\u0275cmp=e.\u0275\u0275defineComponent({type:j,selectors:[["app-travel"]],decls:548,vars:108,consts:[[1,"container-fluid"],[1,"mt-4"],["aria-label","breadcrume"],["aria-label","breadcrumb",1,"breadcrumb",2,"--bs-breadcrumb-divider","url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E\")"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"fa-solid","fa-house"],["aria-current","page",1,"breadcrumb-item","active"],[1,"form-group","d-flex","justify-content-between"],[1,"fw-bold"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-success","btn-sm",3,"disabled","click"],[1,"fa-solid","fa-pen-ruler"],["type","button",1,"btn","btn-info","btn-sm",3,"disabled","click"],[1,"fa-solid","fa-floppy-disk"],["type","button",1,"btn","btn-danger","btn-sm",3,"disabled","click"],[1,"fa-solid","fa-trash"],["type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"fa-solid","fa-plus"],["class","btn btn-dark btn-sm","type","button",3,"disabled","click",4,"ngIfFalse","ngIf"],[1,"mt-1"],[1,"card"],[3,"formGroup"],[1,"row"],[1,"col-sm-8"],[1,"card1"],[1,"text"],[1,"card-body1"],[1,"col-sm-3"],[1,"form-group","mt-1"],[1,"input-group","input-group-sm"],[1,"btn","btn-dark",3,"click"],["type","text","placeholder","Buscar",1,"form-control","form-control-sm",3,"formControl","matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-5"],[1,"input-group-text","fw-bold"],["type","text","readonly","","formControlName","employee","placeholder","Nombre Apellido",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-sm-4"],["type","text","readonly","","formControlName","tuition","aria-label","Amount (to the nearest dollar)",1,"form-control","form-control-sm",3,"ngClass"],[1,"mt-2"],["class","row",4,"ngIf"],[1,"form-group"],["type","text","formControlName","client","readonly","",1,"form-control","form-control-sm",3,"ngClass"],["type","number","formControlName","kms","min","0","step","0.10","pattern","^[0-9]+","placeholder","100",1,"form-control","form-control-sm","text-end",3,"ngClass"],["type","number","formControlName","kmsdes","step","1","placeholder","10",1,"form-control","form-control-sm","text-end",3,"ngClass","change"],["type","date","formControlName","datestart","placeholder","12/12/2023",1,"form-control","form-control-sm",3,"ngClass"],["type","date","formControlName","dateend","placeholder","12/12/2023",1,"form-control","form-control-sm",3,"ngClass"],["type","number","formControlName","hours","step","1","placeholder","10",1,"form-control","form-control-sm","text-end",3,"ngClass"],["type","number","readonly","","formControlName","salary","placeholder","100",1,"form-control","form-control-sm","text-end",3,"ngClass"],["type","number","formControlName","feeding","placeholder","100",1,"form-control","form-control-sm","text-end",3,"ngClass","change"],["type","number","formControlName","totalsalary","placeholder","100",1,"form-control","form-control-sm","text-end",3,"ngClass"],["type","number","formControlName","receivesalary","placeholder","100",1,"form-control","form-control-sm","text-end",3,"ngClass"],[1,"form-check"],["formControlName","stay","type","checkbox",1,"form-check-input","form-check-input-sm",3,"ngClass","change"],[1,"form-check-label"],["type","number","step","1","formControlName","s","placeholder","1",1,"form-control","form-control-sm","text-end",3,"ngClass","change"],[1,"col-sm-2"],[1,"text1"],["type","number","readonly","","formControlName","kml","placeholder","100",1,"form-control","form-control-sm","text-end",3,"ngClass"],["type","number","readonly","","formControlName","ltes","placeholder","100",1,"form-control","form-control-sm","text-end",3,"ngClass"],["type","number","step","1","formControlName","ltgas","placeholder","100",1,"form-control","form-control-sm","text-end",3,"ngClass","change"],["type","number","readonly","","formControlName","tank","placeholder","100",1,"form-control","form-control-sm","text-end"],["type","number","readonly","","formControlName","dif","placeholder","100",1,"form-control","form-control-sm","text-end",3,"ngClass"],[1,"input-group-text"],[1,"fa-solid","fa-truck-front"],["type","text","readonly","","formControlName","vehicle_use","placeholder","Uso Vehiculo",1,"form-control","form-control-sm",3,"ngClass"],[1,"fa-solid","fa-trailer"],["type","text","readonly","","formControlName","trailer_use","placeholder","Uso Vehiculo",1,"form-control","form-control-sm",3,"ngClass"],["class","card1",4,"ngIf"],[1,"card2"],[1,"form-label","mt-1","fw-bold"],["formControlName","observations","rows","4",1,"form-control","form-control-sm",3,"ngClass"],["type","button",1,"btn","btn-sm","btn-outline-info",3,"click"],[1,"table","table-dark","table-sm"],[1,""],["scope","col"],["readonly","","formControlName","kmOD","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","kmV","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","kmM","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","TKmM","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["mat-tab-label",""],[1,"table","table-sm"],[1,"table-primary"],["scope","col","width","70%"],["scope","row"],["readonly","","formControlName","salaryA","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100","value","9600",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","salary","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100","value","800",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","salaryKm","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100","value","0.12",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","garageA","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100","value","300",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","garage","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100","value","25",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","garageKm","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100","value","0.004",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","registrationA","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","registration","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","registrationKm","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","sureA","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100","value","6360",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","sure","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","sureKm","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100","value","0,07943",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","revisionA","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","revision","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","revisionKm","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","billsA","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","bills","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","billsKm","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","servicesA","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","services","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","servicesKm","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","costsA","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100","value","0",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","costs","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100","value","0",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","costsKm","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100","value","0",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","depreciationsA","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","depreciations","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","depreciationsKm","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","permissionsA","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","permissions","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","permissionsKm","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","gpsA","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","gps","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","gpsKm","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","policiesA","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","policies","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","policiesKm","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],[1,"table-warning","fw-bold"],[1,"text-end"],["readonly","","formControlName","total","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100","value","0,406",1,"form-control","form-control-sm","text-end"],["scope","col","width","55%"],["readonly","","formControlName","tirealignmentA","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","tirealignment","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","tirealignmentKm","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","ordinarymaintenanceA","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","ordinarymaintenance","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","ordinarymaintenanceKm","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","electricsystemA","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","electricsystem","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","electricsystemKm","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","brakingsystemA","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","brakingsystem","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","brakingsystemKm","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","suspensionA","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","suspension","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","suspensionKm","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","transmissionsystemA","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","transmissionsystem","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","transmissionsystemKm","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","enginerepairA","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","enginerepair","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","enginerepairKm","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","total","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100","readonly","",1,"form-control","form-control-sm","text-end"],["scope","col","width","65%"],["readonly","","formControlName","dieselCostv","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","dieselKmv","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","dieselCantv","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","dieselCostKm","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","tollCostv","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","tollKmv","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","tollCantv","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","tollCostKm","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","viaticCostv","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","viaticKmv","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","viaticCantv","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","viaticCostKm","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","weightsScaleCostv","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","weightsScaleKmv","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","weightsScaleCantv","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","weightsScaleCostKm","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","loadDownloadCostv","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","loadDownloadKmv","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","loadDownloadCantv","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","loadDownloadCostKm","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","caravanCostv","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","caravanKmv","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","caravanCantv","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","caravanCostKm","min","0","step","0.01","pattern","^[0-9]+","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],["readonly","","formControlName","total","type","number","placeholder","100",1,"form-control","form-control-sm","text-end"],[1,"table"],[1,"table-dark"],["width","70%"],["width","20%",1,"text-end"],["readonly","","type","number","min","0","step","0.01","placeholder","100",1,"form-control","form-control-sm","text-end",3,"value"],["type","button",1,"btn","btn-dark","btn-sm",3,"disabled","click"],[1,"fa-solid","fa-rotate-right"],[3,"value"],["type","text","formControlName","guide","readonly","",1,"form-control","form-control-sm",3,"ngClass"],["type","text","formControlName","trayect","readonly","",1,"form-control","form-control-sm",3,"ngClass"],["type","text","formControlName","subtotal","placeholder","00.00",1,"form-control","form-control-sm","text-end",3,"ngClass"],["formControlName","percentage",1,"form-select","form-select-sm","text-end",3,"ngClass","change"],["type","text","formControlName","total","placeholder","00.00",1,"form-control","form-control-sm","text-end",3,"ngClass"],["type","text","formControlName","profitability","placeholder","00.00",1,"form-control","form-control-sm","text-end",3,"ngClass"],[1,"tab-icon","fa-solid","fa-money-bill-trend-up"],[1,"tab-icon","fa-solid","fa-money-bill"],[1,"tab-icon","fa-solid","fa-money-bills"]],template:function(n,t){if(1&n&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"div",1),e.\u0275\u0275elementStart(2,"nav",2)(3,"ol",3)(4,"li",4)(5,"a",5),e.\u0275\u0275element(6,"i",6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"li",4)(8,"a",5),e.\u0275\u0275text(9,"Rutas"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"li",4)(11,"a",5),e.\u0275\u0275text(12,"Viajes"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(13,"li",7),e.\u0275\u0275text(14,"Viaje"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(15,"div",8)(16,"h4",9),e.\u0275\u0275text(17,"Datos del Viaje"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"div",10)(19,"button",11),e.\u0275\u0275listener("click",function(){return t.savedraft()}),e.\u0275\u0275element(20,"i",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"button",13),e.\u0275\u0275listener("click",function(){return t.save()}),e.\u0275\u0275element(22,"i",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"button",15),e.\u0275\u0275listener("click",function(){return t.cacel()}),e.\u0275\u0275element(24,"i",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"button",17),e.\u0275\u0275listener("click",function(){return t.newdata()}),e.\u0275\u0275element(26,"i",18),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(27,qt,2,1,"button",19),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(28,"div",20),e.\u0275\u0275elementStart(29,"div",21)(30,"form",22)(31,"div",23)(32,"div",24)(33,"div",25)(34,"h6",26),e.\u0275\u0275text(35,"Datos del Viaje:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"div",27)(37,"div",23)(38,"div",28)(39,"div",29)(40,"div",30)(41,"button",31),e.\u0275\u0275listener("click",function(){return t.onOpenModalTrailer()}),e.\u0275\u0275text(42,"Veh\xedculo"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(43,"input",32),e.\u0275\u0275elementStart(44,"mat-autocomplete",null,33),e.\u0275\u0275template(46,zt,2,2,"mat-option",34),e.\u0275\u0275pipe(47,"async"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(48,"div",35)(49,"div",29)(50,"div",30)(51,"span",36),e.\u0275\u0275text(52,"Conductor:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(53,"input",37),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(54,"div",38)(55,"div",29)(56,"div",30)(57,"span",36),e.\u0275\u0275text(58,"Remolques:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(59,"input",39),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275element(60,"div",40),e.\u0275\u0275template(61,Bt,13,8,"div",41),e.\u0275\u0275element(62,"div",40),e.\u0275\u0275elementStart(63,"div",23)(64,"div",38)(65,"div",42)(66,"div",30)(67,"span",36),e.\u0275\u0275text(68,"Cliente:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(69,"input",43),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(70,"div",38)(71,"div",29)(72,"div",30)(73,"span",36),e.\u0275\u0275text(74,"Kms.Recorrido:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(75,"input",44),e.\u0275\u0275elementStart(76,"span",36),e.\u0275\u0275text(77,"Km"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(78,"div",38)(79,"div",29)(80,"div",30)(81,"span",36),e.\u0275\u0275text(82,"Kms.Desv\xedo:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(83,"input",45),e.\u0275\u0275listener("change",function(a){return t.onKms(a)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(84,"span",36),e.\u0275\u0275text(85,"Km"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275element(86,"div",40),e.\u0275\u0275elementStart(87,"div",23)(88,"div",38)(89,"div",29)(90,"div",30)(91,"span",36),e.\u0275\u0275text(92,"Fecha de Salidad:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(93,"input",46),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(94,"div",35)(95,"div",29)(96,"div",30)(97,"span",36),e.\u0275\u0275text(98,"Fecha de Llegada:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(99,"input",47),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(100,"div",28)(101,"div",29)(102,"div",30)(103,"span",36),e.\u0275\u0275text(104,"Horas:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(105,"input",48),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275element(106,"div",20),e.\u0275\u0275elementStart(107,"div",25)(108,"h6",26),e.\u0275\u0275text(109,"Relaci\xf3n de Pago:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(110,"div",27)(111,"div",23)(112,"div",38)(113,"div",29)(114,"div",30)(115,"span",36),e.\u0275\u0275text(116,"Salario:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(117,"input",49),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(118,"div",38)(119,"div",25)(120,"h6",26),e.\u0275\u0275text(121,"Alimentaci\xf3n:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(122,"div",27)(123,"div",29)(124,"div",30)(125,"span",36),e.\u0275\u0275text(126,"B\xe1sico:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(127,"input",50),e.\u0275\u0275listener("change",function(a){return t.onfeeding(a)}),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(128,"div",38)(129,"div",29)(130,"div",30)(131,"span",36),e.\u0275\u0275text(132,"Salario Total:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(133,"input",51),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(134,"div",40),e.\u0275\u0275elementStart(135,"div",29)(136,"div",30)(137,"span",36),e.\u0275\u0275text(138,"Total a Percibir:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(139,"input",52),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(140,"div",40),e.\u0275\u0275elementStart(141,"div",29)(142,"div",30)(143,"span",36)(144,"div",53)(145,"input",54),e.\u0275\u0275listener("change",function(a){return t.onStay(a)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(146,"label",55),e.\u0275\u0275text(147,"Estad\xeda:"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(148,"input",56),e.\u0275\u0275listener("change",function(a){return t.onfeeding(a)}),e.\u0275\u0275elementEnd()()()()()()()(),e.\u0275\u0275elementStart(149,"div",57)(150,"div",25)(151,"h6",58),e.\u0275\u0275text(152,"Rendimiento de Combustible:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(153,"div",27)(154,"div",29)(155,"div",30)(156,"span",36),e.\u0275\u0275text(157,"Km/lt:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(158,"input",59),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(159,"div",40),e.\u0275\u0275elementStart(160,"div",29)(161,"div",30)(162,"span",36),e.\u0275\u0275text(163,"Lt Est:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(164,"input",60),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(165,"div",40),e.\u0275\u0275elementStart(166,"div",29)(167,"div",30)(168,"span",36),e.\u0275\u0275text(169,"Lt/Gast:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(170,"input",61),e.\u0275\u0275listener("change",function(a){return t.ondif(a)}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275element(171,"div",40),e.\u0275\u0275elementStart(172,"div",29)(173,"div",30)(174,"span",36),e.\u0275\u0275text(175,"Km/Lt(R):"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(176,"input",62),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(177,"div",40),e.\u0275\u0275elementStart(178,"div",29)(179,"div",30)(180,"span",36),e.\u0275\u0275text(181,"Diferencia:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(182,"input",63),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275element(183,"div",20),e.\u0275\u0275elementStart(184,"div",25)(185,"h6",26),e.\u0275\u0275text(186,"Uso del Vehiculo:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(187,"div",27)(188,"div",42)(189,"div",30)(190,"span",64),e.\u0275\u0275element(191,"i",65),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(192,"input",66),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(193,"div",40),e.\u0275\u0275elementStart(194,"div",42)(195,"div",30)(196,"span",64),e.\u0275\u0275element(197,"i",67),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(198,"input",68),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(199,"div",57),e.\u0275\u0275template(200,$t,28,17,"div",69),e.\u0275\u0275elementStart(201,"div",70)(202,"div",27)(203,"div",42)(204,"label",71),e.\u0275\u0275text(205,"Observaciones:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(206,"textarea",72),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(207,"button",73),e.\u0275\u0275listener("click",function(){return t.GenerateTotal()}),e.\u0275\u0275text(208,"Generar Resultados"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(209,"div",20),e.\u0275\u0275elementStart(210,"div",21)(211,"form",22)(212,"table",74)(213,"thead")(214,"tr",75)(215,"th",76),e.\u0275\u0275text(216,"KM ORIGEN-DESTINO"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(217,"th",76),e.\u0275\u0275text(218,"KM X VIAJE"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(219,"th",76),e.\u0275\u0275text(220,"VIAJES X MES"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(221,"th",76),e.\u0275\u0275text(222,"TOTAL KM X MES"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(223,"tbody")(224,"tr")(225,"td"),e.\u0275\u0275element(226,"input",77),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(227,"td"),e.\u0275\u0275element(228,"input",78),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(229,"td"),e.\u0275\u0275element(230,"input",79),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(231,"td"),e.\u0275\u0275element(232,"input",80),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(233,"mat-tab-group")(234,"mat-tab"),e.\u0275\u0275template(235,Ut,2,0,"ng-template",81),e.\u0275\u0275elementStart(236,"form",22)(237,"table",82)(238,"thead")(239,"tr",83)(240,"th",84),e.\u0275\u0275text(241,"NOMBRE"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(242,"th",76),e.\u0275\u0275text(243,"COSTO ANUAL"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(244,"th",76),e.\u0275\u0275text(245,"MES\t"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(246,"th",76),e.\u0275\u0275text(247,"COSTO KM"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(248,"tbody")(249,"tr")(250,"th",85),e.\u0275\u0275text(251,"Sueldos y prestaciones sociales"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(252,"td"),e.\u0275\u0275element(253,"input",86),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(254,"td"),e.\u0275\u0275element(255,"input",87),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(256,"td"),e.\u0275\u0275element(257,"input",88),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(258,"tr")(259,"th"),e.\u0275\u0275text(260,"Garaje"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(261,"td"),e.\u0275\u0275element(262,"input",89),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(263,"td"),e.\u0275\u0275element(264,"input",90),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(265,"td"),e.\u0275\u0275element(266,"input",91),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(267,"tr")(268,"th"),e.\u0275\u0275text(269,"Matriculaci\xf3n vehicular (impuesto ambiental, cabezal, plataforma, otros)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(270,"td"),e.\u0275\u0275element(271,"input",92),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(272,"td"),e.\u0275\u0275element(273,"input",93),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(274,"td"),e.\u0275\u0275element(275,"input",94),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(276,"tr")(277,"th"),e.\u0275\u0275text(278,"Seguros: veh\xedculos, carga"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(279,"td"),e.\u0275\u0275element(280,"input",95),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(281,"td"),e.\u0275\u0275element(282,"input",96),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(283,"td"),e.\u0275\u0275element(284,"input",97),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(285,"tr")(286,"th"),e.\u0275\u0275text(287,"Revisiones t\xe9cnicas"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(288,"td"),e.\u0275\u0275element(289,"input",98),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(290,"td"),e.\u0275\u0275element(291,"input",99),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(292,"td"),e.\u0275\u0275element(293,"input",100),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(294,"tr")(295,"th"),e.\u0275\u0275text(296,"Gastos administrativos (contribuciones filiales, gastos de representaci\xf3n)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(297,"td"),e.\u0275\u0275element(298,"input",101),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(299,"td"),e.\u0275\u0275element(300,"input",102),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(301,"td"),e.\u0275\u0275element(302,"input",103),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(303,"tr")(304,"th"),e.\u0275\u0275text(305,"Servicios B\xe1sicos (luz, agua, tel\xe9fono convencional - celular, internet)\t"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(306,"td"),e.\u0275\u0275element(307,"input",104),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(308,"td"),e.\u0275\u0275element(309,"input",105),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(310,"td"),e.\u0275\u0275element(311,"input",106),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(312,"tr")(313,"th"),e.\u0275\u0275text(314,"Costos financieros (cuota inter\xe9s letra veh\xedculo)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(315,"td"),e.\u0275\u0275element(316,"input",107),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(317,"td"),e.\u0275\u0275element(318,"input",108),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(319,"td"),e.\u0275\u0275element(320,"input",109),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(321,"tr")(322,"th"),e.\u0275\u0275text(323,"Depreciaci\xf3n del veh\xedculo"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(324,"td"),e.\u0275\u0275element(325,"input",110),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(326,"td"),e.\u0275\u0275element(327,"input",111),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(328,"td"),e.\u0275\u0275element(329,"input",112),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(330,"tr")(331,"th"),e.\u0275\u0275text(332,"Permisos y habilitaciones\t"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(333,"td"),e.\u0275\u0275element(334,"input",113),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(335,"td"),e.\u0275\u0275element(336,"input",114),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(337,"td"),e.\u0275\u0275element(338,"input",115),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(339,"tr")(340,"th"),e.\u0275\u0275text(341,"Rastreo satelital GPS"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(342,"td"),e.\u0275\u0275element(343,"input",116),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(344,"td"),e.\u0275\u0275element(345,"input",117),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(346,"td"),e.\u0275\u0275element(347,"input",118),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(348,"tr")(349,"th"),e.\u0275\u0275text(350,"P\xf3liza andina"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(351,"td"),e.\u0275\u0275element(352,"input",119),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(353,"td"),e.\u0275\u0275element(354,"input",120),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(355,"td"),e.\u0275\u0275element(356,"input",121),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(357,"tr",122),e.\u0275\u0275element(358,"td")(359,"td"),e.\u0275\u0275elementStart(360,"th",123),e.\u0275\u0275text(361,"TOTAL"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(362,"td"),e.\u0275\u0275element(363,"input",124),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(364,"mat-tab"),e.\u0275\u0275template(365,Ht,2,0,"ng-template",81),e.\u0275\u0275elementStart(366,"form",22)(367,"table",82)(368,"thead")(369,"tr",83)(370,"th",125),e.\u0275\u0275text(371,"NOMBRE"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(372,"th",76),e.\u0275\u0275text(373,"COSTO ANUAL"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(374,"th",76),e.\u0275\u0275text(375,"COSTO MES"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(376,"th",76),e.\u0275\u0275text(377,"COSTO X Km"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(378,"tbody")(379,"tr")(380,"th"),e.\u0275\u0275text(381,"LLANTAS Y ALINEACI\xd3N"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(382,"td"),e.\u0275\u0275element(383,"input",126),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(384,"td"),e.\u0275\u0275element(385,"input",127),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(386,"td"),e.\u0275\u0275element(387,"input",128),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(388,"tr")(389,"th"),e.\u0275\u0275text(390,"MANTENIMIENTO ORDINARIO"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(391,"td"),e.\u0275\u0275element(392,"input",129),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(393,"td"),e.\u0275\u0275element(394,"input",130),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(395,"td"),e.\u0275\u0275element(396,"input",131),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(397,"tr")(398,"th"),e.\u0275\u0275text(399,"SISTEMA EL\xc9CTRICO"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(400,"td"),e.\u0275\u0275element(401,"input",132),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(402,"td"),e.\u0275\u0275element(403,"input",133),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(404,"td"),e.\u0275\u0275element(405,"input",134),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(406,"tr")(407,"th"),e.\u0275\u0275text(408,"SISTEMA DE FRENOS"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(409,"td"),e.\u0275\u0275element(410,"input",135),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(411,"td"),e.\u0275\u0275element(412,"input",136),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(413,"td"),e.\u0275\u0275element(414,"input",137),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(415,"tr")(416,"th"),e.\u0275\u0275text(417,"SUSPENSI\xd3N"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(418,"td"),e.\u0275\u0275element(419,"input",138),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(420,"td"),e.\u0275\u0275element(421,"input",139),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(422,"td"),e.\u0275\u0275element(423,"input",140),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(424,"tr")(425,"th"),e.\u0275\u0275text(426,"SISTEMA DE TRANSMISI\xd3N"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(427,"td"),e.\u0275\u0275element(428,"input",141),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(429,"td"),e.\u0275\u0275element(430,"input",142),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(431,"td"),e.\u0275\u0275element(432,"input",143),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(433,"tr")(434,"th"),e.\u0275\u0275text(435,"REPARACI\xd3N DE MOTOR"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(436,"td"),e.\u0275\u0275element(437,"input",144),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(438,"td"),e.\u0275\u0275element(439,"input",145),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(440,"td"),e.\u0275\u0275element(441,"input",146),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(442,"tr",122),e.\u0275\u0275element(443,"td")(444,"td"),e.\u0275\u0275elementStart(445,"th",123),e.\u0275\u0275text(446,"TOTAL"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(447,"td"),e.\u0275\u0275element(448,"input",147),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(449,"mat-tab"),e.\u0275\u0275template(450,Wt,2,0,"ng-template",81),e.\u0275\u0275elementStart(451,"form",22)(452,"table",82)(453,"thead")(454,"tr",83)(455,"th",148),e.\u0275\u0275text(456,"NOMBRE"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(457,"th",76),e.\u0275\u0275text(458,"COSTO VIAJE"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(459,"th",76),e.\u0275\u0275text(460,"KIL\xd3METROS X VIAJE"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(461,"th",76),e.\u0275\u0275text(462,"CANTIDAD X VIAJE"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(463,"th",76),e.\u0275\u0275text(464,"COSTO X KM"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(465,"tbody")(466,"tr")(467,"th"),e.\u0275\u0275text(468,"DIESEL"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(469,"td"),e.\u0275\u0275element(470,"input",149),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(471,"td"),e.\u0275\u0275element(472,"input",150),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(473,"td"),e.\u0275\u0275element(474,"input",151),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(475,"td"),e.\u0275\u0275element(476,"input",152),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(477,"tr")(478,"th"),e.\u0275\u0275text(479,"PEAJE"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(480,"td"),e.\u0275\u0275element(481,"input",153),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(482,"td"),e.\u0275\u0275element(483,"input",154),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(484,"td"),e.\u0275\u0275element(485,"input",155),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(486,"td"),e.\u0275\u0275element(487,"input",156),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(488,"tr")(489,"th"),e.\u0275\u0275text(490,"VI\xc1TICOS"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(491,"td"),e.\u0275\u0275element(492,"input",157),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(493,"td"),e.\u0275\u0275element(494,"input",158),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(495,"td"),e.\u0275\u0275element(496,"input",159),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(497,"td"),e.\u0275\u0275element(498,"input",160),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(499,"tr")(500,"th"),e.\u0275\u0275text(501,"PESAS Y BALANZA"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(502,"td"),e.\u0275\u0275element(503,"input",161),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(504,"td"),e.\u0275\u0275element(505,"input",162),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(506,"td"),e.\u0275\u0275element(507,"input",163),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(508,"td"),e.\u0275\u0275element(509,"input",164),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(510,"tr")(511,"th"),e.\u0275\u0275text(512,"CARGUE Y DESCARGUE"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(513,"td"),e.\u0275\u0275element(514,"input",165),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(515,"td"),e.\u0275\u0275element(516,"input",166),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(517,"td"),e.\u0275\u0275element(518,"input",167),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(519,"td"),e.\u0275\u0275element(520,"input",168),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(521,"tr")(522,"th"),e.\u0275\u0275text(523,"CARAVANA"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(524,"td"),e.\u0275\u0275element(525,"input",169),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(526,"td"),e.\u0275\u0275element(527,"input",170),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(528,"td"),e.\u0275\u0275element(529,"input",171),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(530,"td"),e.\u0275\u0275element(531,"input",172),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(532,"tr",122),e.\u0275\u0275element(533,"td")(534,"td")(535,"td"),e.\u0275\u0275elementStart(536,"th",123),e.\u0275\u0275text(537,"TOTAL"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(538,"td"),e.\u0275\u0275element(539,"input",173),e.\u0275\u0275elementEnd()()()()()()(),e.\u0275\u0275elementStart(540,"table",174)(541,"tbody")(542,"tr",175),e.\u0275\u0275element(543,"td",176),e.\u0275\u0275elementStart(544,"th",177),e.\u0275\u0275text(545,"Total Egresos:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(546,"td"),e.\u0275\u0275element(547,"input",178),e.\u0275\u0275elementEnd()()()()()()),2&n){const l=e.\u0275\u0275reference(45);let a,r,m,s,d,h,u,v,S,E,_,G,k,D,O,B,J,$,U,H,W;e.\u0275\u0275advance(5),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(42,Yt)),e.\u0275\u0275advance(3),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(43,Xt)),e.\u0275\u0275advance(3),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(44,Zt)),e.\u0275\u0275advance(8),e.\u0275\u0275property("disabled",!t.travelform.valid),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!t.travelform.valid),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",t.travelform.valid),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",t.travelform.valid),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.reolad),e.\u0275\u0275advance(3),e.\u0275\u0275property("formGroup",t.travelform),e.\u0275\u0275advance(13),e.\u0275\u0275property("formControl",t.control)("matAutocomplete",l),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(47,40,t.filteredvehicle)),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(45,f,t.isvalid("employee"),null==(a=t.travelform.get("employee"))?null:a.valid)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(48,f,t.isvalid("tuition"),null==(r=t.travelform.get("tuition"))?null:r.valid)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.guiaData||!1),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(51,f,t.isvalid("client"),null==(m=t.travelform.get("client"))?null:m.valid)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(54,f,t.isvalid("kms"),null==(s=t.travelform.get("kms"))?null:s.valid)),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(57,f,t.isvalid("kmsdes"),null==(d=t.travelform.get("kmsdes"))?null:d.valid)),e.\u0275\u0275advance(10),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(60,f,t.isvalid("datestart"),null==(h=t.travelform.get("datestart"))?null:h.valid)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(63,f,t.isvalid("dateend"),null==(u=t.travelform.get("dateend"))?null:u.valid)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(66,f,t.isvalid("hours"),null==(v=t.travelform.get("hours"))?null:v.valid)),e.\u0275\u0275advance(12),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(69,f,t.isvalid("salary"),null==(S=t.travelform.get("salary"))?null:S.valid)),e.\u0275\u0275advance(10),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(72,f,t.isvalid("feeding"),null==(E=t.travelform.get("feeding"))?null:E.valid)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(75,f,t.isvalid("totalsalary"),null==(_=t.travelform.get("totalsalary"))?null:_.valid)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(78,f,t.isvalid("receivesalary"),null==(G=t.travelform.get("receivesalary"))?null:G.valid)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(81,f,t.isvalid("stay"),null==(k=t.travelform.get("stay"))?null:k.valid)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(84,f,t.isvalid("s"),null==(D=t.travelform.get("s"))?null:D.valid)),e.\u0275\u0275advance(10),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(87,f,t.isvalid("kml"),null==(O=t.travelform.get("kml"))?null:O.valid)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(90,f,t.isvalid("ltes"),null==(B=t.travelform.get("ltes"))?null:B.valid)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(93,f,t.isvalid("ltgas"),null==(J=t.travelform.get("ltgas"))?null:J.valid)),e.\u0275\u0275advance(12),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(96,f,t.isvalid("dif"),null==($=t.travelform.get("dif"))?null:$.valid)),e.\u0275\u0275advance(10),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(99,f,t.isvalid("vehicle_use"),null==(U=t.travelform.get("vehicle_use"))?null:U.valid)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(102,f,t.isvalid("trailer_use"),null==(H=t.travelform.get("trailer_use"))?null:H.valid)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.totalresult||!1),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(105,f,t.isvalid("observations"),null==(W=t.travelform.get("observations"))?null:W.valid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("formGroup",t.vehiclerelationshipform),e.\u0275\u0275advance(25),e.\u0275\u0275property("formGroup",t.fixedcostsform),e.\u0275\u0275advance(130),e.\u0275\u0275property("formGroup",t.maintenamcecostsform),e.\u0275\u0275advance(85),e.\u0275\u0275property("formGroup",t.extracostform),e.\u0275\u0275advance(96),e.\u0275\u0275property("value",t.totalvalue)}},dependencies:[C.mk,C.sg,C.O5,V.rH,Pt.ey,te.uD,te.uX,te.SP,ue.XC,ue.ZL,Q.oO,i._Y,i.YN,i.Kr,i.Fj,i.wV,i.Wl,i.EJ,i.JJ,i.JL,i.c5,i.qQ,i.oH,i.sg,i.u,C.Ov],styles:[".sp[_ngcontent-%COMP%]{width:100%}fieldset[_ngcontent-%COMP%]{border:1px solid #000}.text[_ngcontent-%COMP%]{width:80px;font-size:xx-small;font-style:oblique;font-weight:700;margin-top:-5px;margin-left:5px;background:white;display:block}.text1[_ngcontent-%COMP%]{width:140px;font-size:xx-small;font-style:oblique;font-weight:700;margin-top:-5px;margin-left:5px;background:white;display:block}.card1[_ngcontent-%COMP%]{border:solid 1px #000;border-radius:5px;margin:5px}.card2[_ngcontent-%COMP%], .card-body2[_ngcontent-%COMP%], .card-body1[_ngcontent-%COMP%]{margin:5px}.tab-icon[_ngcontent-%COMP%]{margin-right:8px}.fullscreen-dialog[_ngcontent-%COMP%]{max-width:100%!important}span[_ngcontent-%COMP%]{background-color:#fff;color:#000}"]});const Qt=[{path:"",component:j}];class T{}T.\u0275fac=function(n){return new(n||T)},T.\u0275mod=e.\u0275\u0275defineNgModule({type:T}),T.\u0275inj=e.\u0275\u0275defineInjector({imports:[V.Bz.forChild(Qt),V.Bz]});var en=p(4738);class N{}N.\u0275fac=function(n){return new(n||N)},N.\u0275mod=e.\u0275\u0275defineNgModule({type:N}),N.\u0275inj=e.\u0275\u0275defineInjector({imports:[C.ez,T,en.q,i.UX,i.u5]})}}]);