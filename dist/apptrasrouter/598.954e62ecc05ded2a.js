"use strict";(self.webpackChunkapptrasrouter=self.webpackChunkapptrasrouter||[]).push([[598],{8598:(g,l,s)=>{s.r(l),s.d(l,{RoutesModule:()=>i});var p=s(6895),c=s(9299),o=s(4650);class a{constructor(){this.zoom=0,this.wayPoints=[{location:new google.maps.LatLng({lat:-.1806532,lng:-78.4678382}),stopover:!0},{location:new google.maps.LatLng({lat:-2.9001285,lng:-79.00589649999999}),stopover:!0},{location:new google.maps.LatLng({lat:.9681789,lng:-79.6517202}),stopover:!0}],this.directionsService=new google.maps.DirectionsService,this.directionsDisplay=new google.maps.DirectionsRenderer,this.origin={lat:.8129715,lng:-77.712925},this.destination={lat:-2.1894128,lng:-79.8890662}}ngOnInit(){this.setCurrentLocation(),this.loadMap()}loadMap(){const t=document.getElementById("map"),r=document.getElementById("indicators");this.map=new google.maps.Map(t,{center:this.origin,zoom:12}),this.directionsDisplay.setMap(this.map),this.directionsDisplay.setPanel(r),google.maps.event.addListenerOnce(this.map,"idle",()=>{t.classList.add("show-map"),this.calculateRoute()})}calculateRoute(){this.directionsService.route({origin:this.origin,destination:this.origin,waypoints:this.wayPoints,optimizeWaypoints:!0,travelMode:google.maps.TravelMode.DRIVING},(r,d)=>{d===google.maps.DirectionsStatus.OK?this.directionsDisplay.setDirections(r):alert("Could not display directions due to: "+d)})}setCurrentLocation(){"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(t=>{this.coordenadas.latitude=t.coords.latitude,this.coordenadas.longitude=t.coords.longitude,this.zoom=15})}}a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["app-routes"]],decls:2,vars:0,consts:[["id","map"],["id","indicators"]],template:function(t,r){1&t&&o.\u0275\u0275element(0,"div",0)(1,"div",1)},styles:["#map[_ngcontent-%COMP%]{width:100%;height:100%;opacity:0;transition:opacity .15s ease-in;display:block}#map.show-map[_ngcontent-%COMP%]{opacity:1}#indicators[_ngcontent-%COMP%]{padding:16px;height:40%;width:100%;overflow-y:auto;display:block}"]});const u=[{path:"",component:a}];class e{}e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=o.\u0275\u0275defineInjector({imports:[c.Bz.forChild(u),c.Bz]});class i{}i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=o.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=o.\u0275\u0275defineInjector({imports:[p.ez,e]})}}]);