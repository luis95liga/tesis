"use strict";(self.webpackChunkapptrasrouter=self.webpackChunkapptrasrouter||[]).push([[482],{8482:(M,b,r)=>{r.r(b),r.d(b,{TravelsModule:()=>R});var s=r(6895),u=r(9299),C=r(671),g=r(5938),t=r(4650),S=r(793),x=r(5861),d=r(1135);class c{get $userLocation(){return this.userLocation.getValue()}isUSerLocationReady(){return!!this.userLocation}constructor(){this.userLocation=new d.X([0,0]),this.getUserLocation()}getUserLocation(){return(0,x.Z)(function*(){return new Promise((n,i)=>{navigator.geolocation.getCurrentPosition(({coords:a})=>{n([a.longitude,a.latitude]),n([a.longitude,a.latitude])},a=>{alert("no se pudo obtener la geolocalisaci\xf3n"),console.log(a),i()})})})()}}c.\u0275fac=function(n){return new(n||c)},c.\u0275prov=t.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"});var O=r(7402),V=r(3683),B=r(4859),U=r(7392);class L{constructor(n,i,a,f,o){this.travelSvc=n,this.googleSvc=i,this.data=a,this.guideSvc=f,this.dialogRef=o,this.directionsService=new google.maps.DirectionsService,this.directionsDisplay=new google.maps.DirectionsRenderer,this.wayPoints=[],this.origin={lat:0,lng:0}}ngOnInit(){this.guideSvc.GetGuideLocationLatitude(this.data.id).subscribe(n=>{this.origin=n.origin[0];for(let i of n.destination)this.wayPoints.push({location:new google.maps.LatLng(i.location.lat,i.location.lng),stopover:!0});this.loadMap(this.origin)},n=>console.error(n))}loadMap(n){console.log(n);const i=document.getElementById("map");this.map=new google.maps.Map(i,{center:n,zoom:10}),this.directionsDisplay.setMap(this.map),google.maps.event.addListenerOnce(this.map,"idle",()=>{this.calculateRoute(n),i.classList.add("show-map")})}calculateRoute(n){console.log(this.wayPoints),this.directionsService.route({origin:n,destination:n,waypoints:this.wayPoints,optimizeWaypoints:!0,travelMode:google.maps.TravelMode.DRIVING},(i,a)=>{a===google.maps.DirectionsStatus.OK?this.directionsDisplay.setDirections(i):alert("Could not display directions due to: "+a)})}}L.\u0275fac=function(n){return new(n||L)(t.\u0275\u0275directiveInject(S.r),t.\u0275\u0275directiveInject(c),t.\u0275\u0275directiveInject(g.WI),t.\u0275\u0275directiveInject(O.C),t.\u0275\u0275directiveInject(g.so))},L.\u0275cmp=t.\u0275\u0275defineComponent({type:L,selectors:[["app-map"]],decls:9,vars:0,consts:[[1,"text-white","bg-primary"],[1,"fill-remaining-space"],["mat-icon-button","","mat-dialog-close",""],["id","map"],["id","indicators"]],template:function(n,i){1&n&&(t.\u0275\u0275elementStart(0,"mat-toolbar",0)(1,"span"),t.\u0275\u0275text(2,"Ruta"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(3,"span",1),t.\u0275\u0275elementStart(4,"button",2)(5,"mat-icon"),t.\u0275\u0275text(6,"close"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275element(7,"div",3)(8,"div",4))},dependencies:[V.Ye,B.RK,U.Hw,g.ZT],styles:["#indicators[_ngcontent-%COMP%]{padding:16px;height:40%;width:100%;overflow-y:auto;display:block}#map[_ngcontent-%COMP%]{width:100%;height:100%;opacity:0;transition:opacity .15s ease-in;display:block}#map.show-map[_ngcontent-%COMP%]{opacity:1}"]});var F=r(94),j=r(8717),y=r(2340),K=r(262),H=r(2843),W=r(529);class z{constructor(n){this.http=n}GetReport(n,i){return this.http.get(`${y.N.API_URL}/report/travelpdf/${n}/${i}/`).pipe((0,K.K)(this.handlerError))}GetReportGuide(n,i){return this.http.get(`${y.N.API_URL}/report/receptiompdf/${n}/${i}/`).pipe((0,K.K)(this.handlerError))}handlerError(n){console.log(n);let i="an error occured retrienving data";return n&&(i=`Error: code ${n.message}`),window.alert(i),"token_not_valid"==n.error.code&&window.location.reload(),(0,H._)(i)}}z.\u0275fac=function(n){return new(n||z)(t.\u0275\u0275inject(W.eN))},z.\u0275prov=t.\u0275\u0275defineInjectable({token:z,factory:z.\u0275fac,providedIn:"root"});var k=r(7185),Z=r(8493),J=r.t(Z,2),e=r(7911);e.PdfMakeWrapper.setFonts(J);class E{pdf1(n,i){var a=this;return(0,x.Z)(function*(){const f=new Date,o=(0,s.p6)(f,"yyyy-MM-dd  HH:mm","en"),w=y.N.API_URL+i.logo,m=new e.PdfMakeWrapper;m.add(new e.Columns([[new e.Item(yield new e.Img(w).fit([80,80]).width(120).build()).alignment("left").end,new e.Txt(i.name).fontSize(9).bold().end,new e.Columns([new e.Txt("RUC:").width(25).bold().fontSize(9).end,new e.Txt(i.ruc).fontSize(9).end]).end,new e.Txt(i.location).fontSize(8).end,new e.Txt(`${i.province} - ${i.country}`).fontSize(7).end],[new e.Stack([new e.Txt("Manifiesto").bold().fontSize(14).color("#3498DB").end,new e.Txt(`Codigo:  ${n.kms}`).width(40).alignment("right").bold().fontSize(11).end,new e.Txt(`Fecha: ${o}`).bold().fontSize(11).end]).alignment("right").end]]).end),m.add(new e.Table([["Datos del Viaje"]]).widths(["*"]).margin([0,5,0,5]).alignment("center").layout({fillColor:(h,T,v)=>0===h?"#3498DB":"",defaultBorder:!1}).color("white").fontSize(11).bold().end),m.add(new e.Columns([new e.Columns([new e.Txt("Vehiculo:").width(60).bold().fontSize(11).end,new e.Txt(n.Vehicle).fontSize(11).end]).end,new e.Columns([new e.Txt("Remolque:").width(65).bold().fontSize(11).end,new e.Txt(n.Trailer).fontSize(11).end]).end]).end),m.add(new e.Columns([new e.Txt("Conductor:").width(65).fontSize(11).bold().end,new e.Txt(n.employee).fontSize(11).end]).margin([0,0,0,2]).end),m.add(new e.Columns([[new e.Txt("Remitente:").width(50).bold().fontSize(11).end,new e.Txt(i.name).fontSize(11).end],[new e.Txt("Origen:").width(50).bold().fontSize(11).end,new e.Txt(n.origen).fontSize(11).end]]).margin([0,0,0,2]).end),console.log(n.destinations);for(let h=0;h<n.destinations.length;h++)m.add(new e.Columns([[new e.Txt("Destinatario:").width(50).bold().fontSize(11).end,new e.Txt(n.client[h]).fontSize(11).end],[new e.Txt("Destino:").width(50).bold().fontSize(11).end,new e.Txt(n.destinations[h]).fontSize(11).end]]).end);m.add(new e.Table([["Datos del trayecto"]]).widths(["*"]).margin([0,2,0,5]).alignment("center").layout({fillColor:(h,T,v)=>0===h?"#3498DB":"",defaultBorder:!1}).color("white").fontSize(11).bold().end),m.add(new e.Columns([new e.Txt("Tipo de carga:").width(80).bold().fontSize(11).end,new e.Txt(n.vehicle_use).fontSize(11).end]).end),m.add(new e.Columns([new e.Columns([new e.Txt("Fecha de Salidad:").width(90).bold().fontSize(11).end,new e.Txt(n.datestart).fontSize(11).end]).end,new e.Columns([new e.Txt("Fecha de Llegada:").width(90).bold().fontSize(11).end,new e.Txt(n.dateend).fontSize(11).end]).end]).end),m.add(new e.Columns([new e.Columns([new e.Txt("Kms de Recorrido:").width(100).bold().fontSize(11).end,new e.Txt(n.kms+" Km").width(80).fontSize(11).end]).end,new e.Columns([new e.Txt("Kms de Desvio:").width(80).fontSize(11).bold().end,new e.Txt(n.kmsdes+" Km").width(80).fontSize(11).end]).end,new e.Columns([new e.Txt("Horas del Recorido:").width(100).fontSize(11).bold().end,new e.Txt(n.hours+"h").width(80).fontSize(11).end]).end]).end),m.add(new e.Table([["Total"]]).widths(["*"]).margin([0,2,0,5]).alignment("center").layout({fillColor:(h,T,v)=>0===h?"#3498DB":"",defaultBorder:!1}).color("white").fontSize(11).bold().end),m.add(new e.Columns([new e.Columns([new e.Txt("SubTotal:").width(80).bold().fontSize(11).end,n.subtotal]).end,new e.Columns([new e.Txt("Porcentaje de Ganancia:").width(140).bold().fontSize(11).end,n.percentage+" %"]).end]).end),m.add(new e.Columns([new e.Columns([new e.Txt("Total:").width(80).bold().fontSize(11).end,n.total]).end,new e.Columns([new e.Txt("Rentabilidad:").width(90).bold().fontSize(11).end,n.profitability]).end]).end),m.add(new e.Table([["Costos Fijos"]]).widths(["*"]).margin([0,2,0,5]).alignment("center").layout({fillColor:(h,T,v)=>0===h?"#3498DB":"",defaultBorder:!1}).color("white").fontSize(11).bold().end),m.add(a.createTableFixedcost(n.fixedcost)),m.add(new e.Table([["Costos de Mantenimiento"]]).widths(["*"]).margin([0,2,0,5]).alignment("center").layout({fillColor:(h,T,v)=>0===h?"#3498DB":"",defaultBorder:!1}).color("white").fontSize(11).bold().end),m.add(a.createTableMaintenamceCost(n.maintenamcecost)),m.add(new e.Table([["Costos Extras"]]).widths(["*"]).margin([0,2,0,5]).alignment("center").layout({fillColor:(h,T,v)=>0===h?"#3498DB":"",defaultBorder:!1}).color("white").fontSize(11).bold().end),m.add(a.createTableExtracost(n.extracost)),m.create().open()})()}pdf2(n){const i=new Date,a=(0,s.p6)(i,"EEEE, d MMMM y","es-EC"),f=new e.PdfMakeWrapper;for(const o of n){let w=0,m=0,h=0,T=0,v=0,P=0;for(const p of o.bill)"DIESEL"===p.concepts&&(w=p.amount),"PEAJE"===p.concepts&&(m=p.amount),"VI\xc1TICOS"===p.concepts&&(h=p.amount),"PESAS Y BALANZA"===p.concepts&&(T=p.amount),"CARGUE Y DESCARGUE"===p.concepts&&(v=p.amount),"CARAVANA"===p.concepts&&(P=p.amount);f.add(new e.Columns([new e.Stack([new e.Table([[`Recepci\xf3n de GU\xcdA 000${o.guia}`]]).widths(["*"]).margin([0,2,0,5]).alignment("center").layout({fillColor:(p,N,G)=>0===p?"#3498DB":"",defaultBorder:!1}).color("white").fontSize(9).bold().end,new e.Columns([new e.Txt("fecha:").width(30).bold().fontSize(9).end,new e.Txt(a).fontSize(9).end]).end,new e.Table([["Datos de origen:"],[""]]).widths(["*"]).margin([0,2,0,0]).alignment("left").layout("lightHorizontalLines").fontSize(9).bold().end,new e.Columns([new e.Txt("Fecha de Llegada:").width(100).bold().fontSize(9).end,new e.Txt(o.dateend).fontSize(9).end]).end,new e.Columns([new e.Txt("Gu\xeda principal:").width(100).bold().fontSize(9).end,new e.Txt("000"+o.guia).fontSize(9).end]).end,new e.Columns([new e.Txt("Ruta:").width(50).bold().fontSize(9).end,new e.Txt(`${o.location} / ${o.destinations}`).fontSize(9).end]).end,new e.Columns([new e.Txt("Tipo de Carga:").width(80).bold().fontSize(9).end,new e.Txt(o.vehicle_use).fontSize(9).end]).end,new e.Columns([new e.Txt("Origen:").width(50).bold().fontSize(9).end,new e.Txt(o.location).fontSize(9).end]).end,new e.Columns([new e.Txt("Cliente:").width(50).bold().fontSize(9).end,new e.Txt(o.client).fontSize(9).end]).end,new e.Table([["Relacion de Gastos:"],[""]]).widths(["*"]).margin([0,2,0,0]).alignment("left").layout("lightHorizontalLines").fontSize(9).bold().end,new e.Columns([[new e.Columns([new e.Txt("DIESEL:").width("auto").bold().fontSize(9).end,new e.Txt(`${w}`).fontSize(9).end]).end],[new e.Columns([new e.Txt("PEAJE:").width("auto").bold().fontSize(9).end,new e.Txt(`${m}`).fontSize(9).end]).end],[new e.Columns([new e.Txt("VI\xc1TICOS:").width("auto").bold().fontSize(9).end,new e.Txt(`${h}`).fontSize(9).end]).end]]).end,new e.Columns([[new e.Columns([new e.Txt("PESAS(BALANZA):").width("auto").bold().fontSize(9).end,new e.Txt(`${T}`).fontSize(9).end]).end],[new e.Columns([new e.Txt("CARGUE/DESCARGUE:").width("auto").bold().fontSize(9).end,new e.Txt(`${T}`).fontSize(9).end]).end],[new e.Columns([new e.Txt("\tCARAVANA:").width("auto").bold().fontSize(9).end,new e.Txt(`${P}`).fontSize(9).end]).end]]).end,new e.Columns([new e.Txt("Total Gastos:").width("auto").bold().fontSize(9).end,new e.Txt(`${o.totalbill}`).fontSize(9).end]).end,new e.Table([["Datos del Empleado y Veh\xedculo:"],[""]]).widths(["*"]).margin([0,2,0,0]).alignment("left").layout("lightHorizontalLines").fontSize(9).bold().end,new e.Columns([new e.Txt("Conductor:").width(70).bold().fontSize(9).end,new e.Txt(o.employee).fontSize(9).end]).end,new e.Columns([[new e.Columns([new e.Txt("Vehiculo:").width(60).bold().fontSize(9).end,new e.Txt(o.Vehicle).fontSize(9).end]).end],[new e.Columns([new e.Txt("Remolque:").width(60).bold().fontSize(9).end,new e.Txt(o.Trailer).fontSize(9).end]).end]]).end,new e.Table([["Datos de destino:"],[""]]).widths(["*"]).margin([0,2,0,0]).alignment("left").layout("lightHorizontalLines").fontSize(9).bold().end,new e.Columns([new e.Txt("Destino:").width(50).bold().fontSize(9).end,new e.Txt(o.destinations).fontSize(9).end]).end,new e.Columns([[new e.Columns([new e.Txt("Fecha de Salidad:").width(90).bold().fontSize(9).end,new e.Txt(o.datestart).fontSize(9).end]).end],[new e.Columns([new e.Txt("Duraci\xf3n:").width(50).bold().fontSize(9).end,new e.Txt(o.hours).fontSize(9).end]).end]]).end,new e.Txt("ORIGINAL-ORIGINAL ORIGINAL-ORIGINAL ORIGINAL-ORIGINAL ORIGINAL-ORIGINAL").alignment("center").fontSize(9).end]).margin([5,0,5,0]).end,new e.Stack([new e.Table([[`Recepci\xf3n de GU\xcdA 000${o.guia}`]]).widths(["*"]).margin([0,2,0,5]).alignment("center").layout({fillColor:(p,N,G)=>0===p?"#3498DB":"",defaultBorder:!1}).color("white").fontSize(9).bold().end,new e.Columns([new e.Txt("fecha:").width(30).bold().fontSize(9).end,new e.Txt(a).fontSize(9).end]).end,new e.Table([["Datos de origen:"],[""]]).widths(["*"]).margin([0,2,0,0]).alignment("left").layout("lightHorizontalLines").fontSize(9).bold().end,new e.Columns([new e.Txt("Fecha de Llegada:").width(100).bold().fontSize(9).end,new e.Txt(o.dateend).fontSize(9).end]).end,new e.Columns([new e.Txt("Gu\xeda principal:").width(100).bold().fontSize(9).end,new e.Txt("000"+o.guia).fontSize(9).end]).end,new e.Columns([new e.Txt("Ruta:").width(50).bold().fontSize(9).end,new e.Txt(`${o.location} / ${o.destinations}`).fontSize(9).end]).end,new e.Columns([new e.Txt("Tipo de Carga:").width(80).bold().fontSize(9).end,new e.Txt(o.vehicle_use).fontSize(9).end]).end,new e.Columns([new e.Txt("Origen:").width(50).bold().fontSize(9).end,new e.Txt(o.location).fontSize(9).end]).end,new e.Columns([new e.Txt("Cliente:").width(50).bold().fontSize(9).end,new e.Txt(o.client).fontSize(9).end]).end,new e.Table([["Relacion de Gastos:"],[""]]).widths(["*"]).margin([0,2,0,0]).alignment("left").layout("lightHorizontalLines").fontSize(9).bold().end,new e.Columns([[new e.Columns([new e.Txt("DIESEL:").width("auto").bold().fontSize(9).end,new e.Txt(`${w}`).fontSize(9).end]).end],[new e.Columns([new e.Txt("PEAJE:").width("auto").bold().fontSize(9).end,new e.Txt(`${m}`).fontSize(9).end]).end],[new e.Columns([new e.Txt("VI\xc1TICOS:").width("auto").bold().fontSize(9).end,new e.Txt(`${h}`).fontSize(9).end]).end]]).end,new e.Columns([[new e.Columns([new e.Txt("PESAS(BALANZA):").width("auto").bold().fontSize(9).end,new e.Txt(`${T}`).fontSize(9).end]).end],[new e.Columns([new e.Txt("CARGUE/DESCARGUE:").width("auto").bold().fontSize(9).end,new e.Txt(`${T}`).fontSize(9).end]).end],[new e.Columns([new e.Txt("\tCARAVANA:").width("auto").bold().fontSize(9).end,new e.Txt(`${P}`).fontSize(9).end]).end]]).end,new e.Columns([new e.Txt("Total Gastos:").width("auto").bold().fontSize(9).end,new e.Txt(`${o.totalbill}`).fontSize(9).end]).end,new e.Table([["Datos del Empleado y Veh\xedculo:"],[""]]).widths(["*"]).margin([0,2,0,0]).alignment("left").layout("lightHorizontalLines").fontSize(9).bold().end,new e.Columns([new e.Txt("Conductor:").width(70).bold().fontSize(9).end,new e.Txt(o.employee).fontSize(9).end]).end,new e.Columns([[new e.Columns([new e.Txt("Vehiculo:").width(60).bold().fontSize(9).end,new e.Txt(o.Vehicle).fontSize(9).end]).end],[new e.Columns([new e.Txt("Remolque:").width(60).bold().fontSize(9).end,new e.Txt(o.Trailer).fontSize(9).end]).end]]).end,new e.Table([["Datos de destino:"],[""]]).widths(["*"]).margin([0,2,0,0]).alignment("left").layout("lightHorizontalLines").fontSize(9).bold().end,new e.Columns([new e.Txt("Destino:").width(50).bold().fontSize(9).end,new e.Txt(o.destinations).fontSize(9).end]).end,new e.Columns([[new e.Columns([new e.Txt("Fecha de Salidad:").width(90).bold().fontSize(9).end,new e.Txt(o.datestart).fontSize(9).end]).end],[new e.Columns([new e.Txt("Duraci\xf3n:").width(50).bold().fontSize(9).end,new e.Txt(o.hours).fontSize(9).end]).end]]).end,new e.Txt("COPIA-COPIA COPIA-COPIA COPIA-COPIA COPIA-COPIA COPIA-COPIA COPIA-COPIA COPIA").alignment("center").fontSize(9).end]).margin([5,0,5,0]).end]).end),f.add(new e.Columns([new e.Stack([new e.Table([[`Recepci\xf3n de GU\xcdA 000${o.guia}`]]).widths(["*"]).margin([0,2,0,5]).alignment("center").layout({fillColor:(p,N,G)=>0===p?"#3498DB":"",defaultBorder:!1}).color("white").fontSize(9).bold().end,new e.Columns([new e.Txt("fecha:").width(30).bold().fontSize(9).end,new e.Txt(a).fontSize(9).end]).end,new e.Table([["Datos de origen:"],[""]]).widths(["*"]).margin([0,2,0,0]).alignment("left").layout("lightHorizontalLines").fontSize(9).bold().end,new e.Columns([new e.Txt("Fecha de Llegada:").width(100).bold().fontSize(9).end,new e.Txt(o.dateend).fontSize(9).end]).end,new e.Columns([new e.Txt("Gu\xeda principal:").width(100).bold().fontSize(9).end,new e.Txt("000"+o.guia).fontSize(9).end]).end,new e.Columns([new e.Txt("Ruta:").width(50).bold().fontSize(9).end,new e.Txt(`${o.location} / ${o.destinations}`).fontSize(9).end]).end,new e.Columns([new e.Txt("Tipo de Carga:").width(80).bold().fontSize(9).end,new e.Txt(o.vehicle_use).fontSize(9).end]).end,new e.Columns([new e.Txt("Origen:").width(50).bold().fontSize(9).end,new e.Txt(o.location).fontSize(9).end]).end,new e.Columns([new e.Txt("Cliente:").width(50).bold().fontSize(9).end,new e.Txt(o.client).fontSize(9).end]).end,new e.Table([["Relacion de Gastos:"],[""]]).widths(["*"]).margin([0,2,0,0]).alignment("left").layout("lightHorizontalLines").fontSize(9).bold().end,new e.Columns([[new e.Columns([new e.Txt("DIESEL:").width("auto").bold().fontSize(9).end,new e.Txt(`${w}`).fontSize(9).end]).end],[new e.Columns([new e.Txt("PEAJE:").width("auto").bold().fontSize(9).end,new e.Txt(`${m}`).fontSize(9).end]).end],[new e.Columns([new e.Txt("VI\xc1TICOS:").width("auto").bold().fontSize(9).end,new e.Txt(`${h}`).fontSize(9).end]).end]]).end,new e.Columns([[new e.Columns([new e.Txt("PESAS(BALANZA):").width("auto").bold().fontSize(9).end,new e.Txt(`${T}`).fontSize(9).end]).end],[new e.Columns([new e.Txt("CARGUE/DESCARGUE:").width("auto").bold().fontSize(9).end,new e.Txt(`${T}`).fontSize(9).end]).end],[new e.Columns([new e.Txt("\tCARAVANA:").width("auto").bold().fontSize(9).end,new e.Txt(`${P}`).fontSize(9).end]).end]]).end,new e.Columns([new e.Txt("Total Gastos:").width("auto").bold().fontSize(9).end,new e.Txt(`${o.totalbill}`).fontSize(9).end]).end,new e.Table([["Datos del Empleado y Veh\xedculo:"],[""]]).widths(["*"]).margin([0,2,0,0]).alignment("left").layout("lightHorizontalLines").fontSize(9).bold().end,new e.Columns([new e.Txt("Conductor:").width(70).bold().fontSize(9).end,new e.Txt(o.employee).fontSize(9).end]).end,new e.Columns([[new e.Columns([new e.Txt("Vehiculo:").width(60).bold().fontSize(9).end,new e.Txt(o.Vehicle).fontSize(9).end]).end],[new e.Columns([new e.Txt("Remolque:").width(60).bold().fontSize(9).end,new e.Txt(o.Trailer).fontSize(9).end]).end]]).end,new e.Table([["Datos de destino:"],[""]]).widths(["*"]).margin([0,2,0,0]).alignment("left").layout("lightHorizontalLines").fontSize(9).bold().end,new e.Columns([new e.Txt("Destino:").width(50).bold().fontSize(9).end,new e.Txt(o.destinations).fontSize(9).end]).end,new e.Columns([[new e.Columns([new e.Txt("Fecha de Salidad:").width(90).bold().fontSize(9).end,new e.Txt(o.datestart).fontSize(9).end]).end],[new e.Columns([new e.Txt("Duraci\xf3n:").width(50).bold().fontSize(9).end,new e.Txt(o.hours).fontSize(9).end]).end]]).end,new e.Txt("ORIGINAL-ORIGINAL ORIGINAL-ORIGINAL ORIGINAL-ORIGINAL ORIGINAL-ORIGINAL").alignment("center").fontSize(9).end]).margin([5,0,5,0]).end,new e.Stack([new e.Table([[`Recepci\xf3n de GU\xcdA 000${o.guia}`]]).widths(["*"]).margin([0,2,0,5]).alignment("center").layout({fillColor:(p,N,G)=>0===p?"#3498DB":"",defaultBorder:!1}).color("white").fontSize(9).bold().end,new e.Columns([new e.Txt("fecha:").width(30).bold().fontSize(9).end,new e.Txt(a).fontSize(9).end]).end,new e.Table([["Datos de origen:"],[""]]).widths(["*"]).margin([0,2,0,0]).alignment("left").layout("lightHorizontalLines").fontSize(9).bold().end,new e.Columns([new e.Txt("Fecha de Llegada:").width(100).bold().fontSize(9).end,new e.Txt(o.dateend).fontSize(9).end]).end,new e.Columns([new e.Txt("Gu\xeda principal:").width(100).bold().fontSize(9).end,new e.Txt("000"+o.guia).fontSize(9).end]).end,new e.Columns([new e.Txt("Ruta:").width(50).bold().fontSize(9).end,new e.Txt(`${o.location} / ${o.destinations}`).fontSize(9).end]).end,new e.Columns([new e.Txt("Tipo de Carga:").width(80).bold().fontSize(9).end,new e.Txt(o.vehicle_use).fontSize(9).end]).end,new e.Columns([new e.Txt("Origen:").width(50).bold().fontSize(9).end,new e.Txt(o.location).fontSize(9).end]).end,new e.Columns([new e.Txt("Cliente:").width(50).bold().fontSize(9).end,new e.Txt(o.client).fontSize(9).end]).end,new e.Table([["Relacion de Gastos:"],[""]]).widths(["*"]).margin([0,2,0,0]).alignment("left").layout("lightHorizontalLines").fontSize(9).bold().end,new e.Columns([[new e.Columns([new e.Txt("DIESEL:").width("auto").bold().fontSize(9).end,new e.Txt(`${w}`).fontSize(9).end]).end],[new e.Columns([new e.Txt("PEAJE:").width("auto").bold().fontSize(9).end,new e.Txt(`${m}`).fontSize(9).end]).end],[new e.Columns([new e.Txt("VI\xc1TICOS:").width("auto").bold().fontSize(9).end,new e.Txt(`${h}`).fontSize(9).end]).end]]).end,new e.Columns([[new e.Columns([new e.Txt("PESAS(BALANZA):").width("auto").bold().fontSize(9).end,new e.Txt(`${T}`).fontSize(9).end]).end],[new e.Columns([new e.Txt("CARGUE/DESCARGUE:").width("auto").bold().fontSize(9).end,new e.Txt(`${T}`).fontSize(9).end]).end],[new e.Columns([new e.Txt("\tCARAVANA:").width("auto").bold().fontSize(9).end,new e.Txt(`${P}`).fontSize(9).end]).end]]).end,new e.Columns([new e.Txt("Total Gastos:").width("auto").bold().fontSize(9).end,new e.Txt(`${o.totalbill}`).fontSize(9).end]).end,new e.Table([["Datos del Empleado y Veh\xedculo:"],[""]]).widths(["*"]).margin([0,2,0,0]).alignment("left").layout("lightHorizontalLines").fontSize(9).bold().end,new e.Columns([new e.Txt("Conductor:").width(70).bold().fontSize(9).end,new e.Txt(o.employee).fontSize(9).end]).end,new e.Columns([[new e.Columns([new e.Txt("Vehiculo:").width(60).bold().fontSize(9).end,new e.Txt(o.Vehicle).fontSize(9).end]).end],[new e.Columns([new e.Txt("Remolque:").width(60).bold().fontSize(9).end,new e.Txt(o.Trailer).fontSize(9).end]).end]]).end,new e.Table([["Datos de destino:"],[""]]).widths(["*"]).margin([0,2,0,0]).alignment("left").layout("lightHorizontalLines").fontSize(9).bold().end,new e.Columns([new e.Txt("Destino:").width(50).bold().fontSize(9).end,new e.Txt(o.destinations).fontSize(9).end]).end,new e.Columns([[new e.Columns([new e.Txt("Fecha de Salidad:").width(90).bold().fontSize(9).end,new e.Txt(o.datestart).fontSize(9).end]).end],[new e.Columns([new e.Txt("Duraci\xf3n:").width(50).bold().fontSize(9).end,new e.Txt(o.hours).fontSize(9).end]).end]]).end,new e.Txt("COPIA-COPIA COPIA-COPIA COPIA-COPIA COPIA-COPIA COPIA-COPIA COPIA-COPIA COPIA").alignment("center").fontSize(9).end]).margin([5,0,5,0]).end]).end)}f.pageMargins([10,20,20,10]),f.pageOrientation("landscape"),f.create().open()}pdf3(n){var i=this;return(0,x.Z)(function*(){const a=new e.PdfMakeWrapper,f=y.N.API_URL+n.logo;a.add(new e.Columns([new e.Stack([yield new e.Img(f).fit([80,80]).width(120).build(),new e.Txt(n.name).fontSize(9).bold().end,new e.Columns([new e.Txt("RUC:").width(25).bold().fontSize(9).end,new e.Txt(n.ruc).fontSize(9).end]).end,new e.Txt(n.location).fontSize(8).end,new e.Txt(`${n.province} - ${n.country}`).fontSize(7).end]).alignment("left").end,new e.Table([[new e.Txt("R.U.C").alignment("right").bold().end,new e.Txt(n.ruc).end],[new e.Cell(new e.Stack([new e.Txt("GU\xcdA DE REMISI\xd3N").bold().alignment("center").end,new e.Txt("0001").bold().alignment("center").end]).end).colSpan(2).end],[new e.Txt("AUT. SRI:").bold().alignment("right").end,new e.Txt("").end]]).widths(["auto","*"]).layout({hLineWidth:(o,w,m)=>0===o||o===w.table.body.length?0:1,vLineWidth:(o,w,m)=>0===o||o===w.table.body.length?0:1,hLineColor:(o,w,m)=>0===o||o===w.table.body.length?"black":"gray",vLineColor:(o,w,m)=>0===o||o===w.table.body.length?"black":"gray"}).margin([0,10,0,0]).end]).end),a.add(new e.Canvas([new e.Rect([298,50],[257,72]).round(7).lineColor("black").end]).absolutePosition(0,0).end),a.add(new e.Canvas([new e.Line([10,10],[500,10]).lineColor("#3498DB").lineWidth(4).end]).end),a.add(new e.Columns([new e.Columns([new e.Txt("FECHA INICIO DE TRASLADO:").width("auto").fontSize(11).bold().end,new e.Txt("10/10/1200").width("auto").fontSize(11).end]).end,new e.Columns([new e.Txt("FECHA TERMINACI\xd3N DE TRASLADO:").fontSize(11).width("auto").bold().end,new e.Txt("10/10/1200").width("auto").fontSize(11).end]).end]).margin([0,5,0,0]).end),a.add(new e.Canvas([new e.Line([10,10],[500,10]).lineColor("#3498DB").lineWidth(4).end]).end),a.add(new e.Txt("DATOS DE COMPROBANTE DE VENTA").fontSize(8).bold().margin([0,5,0,0]).end),a.add(new e.Columns([new e.Txt("TIPO:").width("auto").fontSize(11).bold().end,new e.Txt("10/10/1200").width("auto").fontSize(11).end]).end),a.add(new e.Columns([new e.Columns([new e.Txt("No. AUTORIZACI\xd3N:").width("auto").fontSize(11).bold().end,new e.Txt("10/10/1200").width("auto").fontSize(11).end]).end,new e.Columns([new e.Txt("No. DEL COMPROBANTE:").width("auto").fontSize(11).bold().end,new e.Txt("10/10/1200").width("auto").fontSize(11).end]).end]).end),a.add(new e.Canvas([new e.Line([10,10],[500,10]).lineColor("#3498DB").lineWidth(4).end]).end),a.add(new e.Columns([new e.Txt("N\xdaMERO DE DECLARACI\xd3N ADUANERA:").width("auto").fontSize(11).bold().end,new e.Txt("10/10/1200").width("auto").fontSize(11).end]).margin([0,5,0,0]).end),a.add(new e.Columns([new e.Txt("MOTIVO DEL TRASLADO:").width("auto").fontSize(11).bold().end,new e.Txt("10/10/1200").width("auto").fontSize(11).end]).end),a.add(new e.Columns([new e.Columns([new e.Txt("PUNTO DE PARTIDA:").width("auto").fontSize(11).bold().end,new e.Txt("10/10/1200").width("auto").fontSize(11).end]).end,new e.Columns([new e.Txt("DESTINO (PUNTO DE LLEGADA):").fontSize(11).width("auto").bold().end,new e.Txt("10/10/1200").width("auto").fontSize(11).end]).end]).end),a.add(new e.Canvas([new e.Line([10,10],[500,10]).lineColor("#3498DB").lineWidth(4).end]).end),a.add(new e.Columns([new e.Stack([new e.Txt("IDENTIFICACI\xd3N DEL DESTINATARIO").alignment("center").bold().fontSize(8).end,new e.Columns([new e.Txt("R.U.C / C.I.:").width("auto").bold().fontSize(11).end,new e.Txt("10/10/1200").width("auto").fontSize(11).end]).end,new e.Columns([new e.Txt("RAZ\xd3N SOCIAL:").width("auto").fontSize(11).bold().end,new e.Txt("10/10/1200").width("auto").fontSize(11).end]).end]).end,new e.Stack([new e.Txt("IDENTIFICACI\xd3N DEL TRANSPORTISTA").alignment("center").bold().fontSize(8).end,new e.Columns([new e.Txt("R.U.C / C.I.").width("auto").bold().fontSize(11).end,new e.Txt("10/10/1200").width("auto").fontSize(11).end]).end,new e.Columns([new e.Txt("RAZ\xd3N SOCIAL:").width("auto").bold().fontSize(11).end,new e.Txt("10/10/1200").width("auto").fontSize(11).end]).end,new e.Columns([new e.Txt("PLACA:").width("auto").bold().fontSize(11).end,new e.Txt("10/10/1200").width("auto").fontSize(11).end]).end]).end]).margin([0,5,0,0]).end),a.add(new e.Columns([new e.Txt("IDENTIFICACI\xd3N DEL REMITENTE:").width("auto").fontSize(11).bold().end,new e.Txt("10/10/1200").width("auto").fontSize(11).end]).end),a.add(i.createTableGuide()),a.create().open()})()}pdf4(){const n=new e.PdfMakeWrapper;n.add("hola mundo 3"),n.create().open(),console.log("3")}pdf5(){const n=new e.PdfMakeWrapper;n.add("hola mundo 3"),n.create().open(),console.log("3")}pdf6(){const n=new e.PdfMakeWrapper;n.add("hola mundo 3"),n.create().open(),console.log("3")}pdf7(){const n=new e.PdfMakeWrapper;n.add("hola mundo 3"),n.create().open(),console.log("3")}pdf8(){const n=new e.PdfMakeWrapper;n.add("hola mundo 3"),n.create().open(),console.log("3")}createTableFixedcost(n){return new e.Table([[new e.Txt("NOMBRE").bold().end,new e.Txt("COSTO ANUAL").bold().end,new e.Txt("MES").bold().end,new e.Txt("COSTO KM").bold().end],[new e.Txt("Sueldos y prestaciones sociales").bold().end,n.salaryA,n.salary,n.salaryKm],[new e.Txt("Garaje").bold().end,n.garageA,n.garage,n.garageKm],[new e.Txt("Matriculaci\xf3n vehicular (impuesto ambiental, cabezal, plataforma, otros)").bold().end,n.registrationA,n.registration,n.registrationKm],[new e.Txt("Seguros: veh\xedculos, carga").bold().end,n.sureA,n.sure,n.sureKm],[new e.Txt("Revisiones t\xe9cnicas").bold().end,n.revisionA,n.revision,n.revisionKm],[new e.Txt("Gastos administrativos (contribuciones filiales, gastos de representaci\xf3n)").bold().end,n.billsA,n.bills,n.billsKm],[new e.Txt("Servicios B\xe1sicos (luz, agua, tel\xe9fono convencional - celular, internet)").bold().end,n.servicesA,n.services,n.servicesKm],[new e.Txt("Costos financieros (cuota inter\xe9s letra veh\xedculo)").bold().end,n.costsA,n.costs,n.costsKm],[new e.Txt("Depreciaci\xf3n del veh\xedculo").bold().end,n.depreciationsA,n.depreciations,n.depreciationsKm],[new e.Txt("Permisos y habilitaciones").bold().end,n.permissionsA,n.permissions,n.permissionsKm],[new e.Txt("Rastreo satelital GPS").bold().end,n.gpsA,n.gps,n.gpsKm],[new e.Txt("P\xf3liza andina").bold().end,n.policiesA,n.policies,n.policiesKm],["","",new e.Txt("Total").bold().end,n.total]]).widths(["*","auto","auto","auto"]).layout("lightHorizontalLines").end}createTableMaintenamceCost(n){return new e.Table([[new e.Txt("NOMBRE").bold().end,new e.Txt("COSTO ANUAL").bold().end,new e.Txt("COSTO MES").bold().end,new e.Txt("COSTO KM").bold().end],[new e.Txt("LLANTAS Y ALINEACI\xd3N").bold().end,n.tirealignmentA,n.tirealignment,n.tirealignmentKm],[new e.Txt("MANTENIMIENTO ORDINARIO").bold().end,n.ordinarymaintenanceA,n.ordinarymaintenance,n.ordinarymaintenanceKm],[new e.Txt("SISTEMA EL\xc9CTRICO").bold().end,n.electricsystemA,n.electricsystem,n.electricsystemKm],[new e.Txt("SISTEMA DE FRENOS").bold().end,n.brakingsystemA,n.brakingsystem,n.brakingsystemKm],[new e.Txt("SUSPENSI\xd3N").bold().end,n.suspensionA,n.suspension,n.suspensionKm],[new e.Txt("SISTEMA DE TRANSMISI\xd3N").bold().end,n.transmissionsystemA,n.transmissionsystem,n.transmissionsystemKm],[new e.Txt("REPARACI\xd3N DE MOTOR").bold().end,n.enginerepairA,n.enginerepair,n.enginerepairKm],["","",new e.Txt("TOTAL").bold().end,n.total]]).widths(["*","auto","auto","auto"]).layout("lightHorizontalLines").end}createTableExtracost(n){return new e.Table([[new e.Txt("NOMBRE").bold().end,new e.Txt("COSTO VIAJE").bold().end,new e.Txt("KIL\xd3METROS X VIAJE").bold().end,new e.Txt("CANTIDAD X VIAJE").bold().end,new e.Txt("COSTO X KM").bold().end],[new e.Txt("DIESEL").bold().end,n.dieselCostv,n.dieselKmv,n.dieselCantv,n.dieselCostKm],[new e.Txt("PEAJE").bold().end,n.tollCostv,n.tollKmv,n.tollCantv,n.tollCostKm],[new e.Txt("VI\xc1TICOS").bold().end,n.viaticCostv,n.viaticKmv,n.viaticCantv,n.viaticCostKm],[new e.Txt("PESAS Y BALANZA").bold().end,n.weightsScaleCostv,n.weightsScaleKmv,n.weightsScaleCantv,n.weightsScaleCostKm],[new e.Txt("CARGUE Y DESCARGUE").bold().end,n.loadDownloadCostv,n.loadDownloadKmv,n.loadDownloadCantv,n.loadDownloadCostKm],[new e.Txt("CARAVANA").bold().end,n.caravanCostv,n.caravanKmv,n.caravanCantv,n.caravanCostKm],["","","",new e.Txt("TOTAL").bold().end,n.total]]).widths(["*","auto","auto","auto","auto"]).layout("lightHorizontalLines").end}createTableGuide(){return new e.Table([["cantidad","Unidad","Descripci\xf3n"],["cantidad","Unidad","Descripci\xf3n"],["cantidad","Unidad","Descripci\xf3n"]]).widths(["auto","auto","*"]).alignment("center").end}}E.\u0275fac=function(n){return new(n||E)},E.\u0275prov=t.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac,providedIn:"root"});var Y=r(9829),Q=r(3077),$=r(8255),I=r(6338),X=r(4850),_=r(5589),q=r(7974);const ee=["scheduledOrdersPaginator"];function te(l,n){if(1&l){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-nav-list")(1,"a",40),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(i).$implicit,w=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(w.vehicle(o))}),t.\u0275\u0275elementStart(2,"div",41),t.\u0275\u0275element(3,"i",42),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",43),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(6,"mat-divider"),t.\u0275\u0275elementEnd()}if(2&l){const i=n.$implicit;t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(i.tuition)}}function ne(l,n){if(1&l){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-nav-list")(1,"a",40),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(i).$implicit,w=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(w.trailer(o))}),t.\u0275\u0275elementStart(2,"div",41),t.\u0275\u0275element(3,"i",44),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",43),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(6,"mat-divider"),t.\u0275\u0275elementEnd()}if(2&l){const i=n.$implicit;t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(i.tuition)}}function oe(l,n){1&l&&(t.\u0275\u0275elementStart(0,"th",45),t.\u0275\u0275text(1," Index "),t.\u0275\u0275elementEnd())}function ie(l,n){if(1&l&&(t.\u0275\u0275elementStart(0,"td",46),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&l){const i=n.index;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(i+1)}}function de(l,n){1&l&&(t.\u0275\u0275elementStart(0,"th",45),t.\u0275\u0275text(1,"Horas"),t.\u0275\u0275elementEnd())}function le(l,n){if(1&l&&(t.\u0275\u0275elementStart(0,"td",46),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&l){const i=n.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(i.hours)}}function ae(l,n){1&l&&(t.\u0275\u0275elementStart(0,"th",45),t.\u0275\u0275text(1,"Km de Recorido"),t.\u0275\u0275elementEnd())}function re(l,n){if(1&l&&(t.\u0275\u0275elementStart(0,"td",46),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&l){const i=n.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(i.kms)}}function se(l,n){1&l&&(t.\u0275\u0275elementStart(0,"th",45),t.\u0275\u0275text(1,"Origen"),t.\u0275\u0275elementEnd())}function ue(l,n){1&l&&(t.\u0275\u0275elementStart(0,"td",46),t.\u0275\u0275text(1,"Tulcan"),t.\u0275\u0275elementEnd())}function me(l,n){1&l&&(t.\u0275\u0275elementStart(0,"th",45),t.\u0275\u0275text(1,"Destino"),t.\u0275\u0275elementEnd())}function ce(l,n){1&l&&(t.\u0275\u0275elementStart(0,"td",46),t.\u0275\u0275text(1,"Quito"),t.\u0275\u0275elementEnd())}function we(l,n){1&l&&(t.\u0275\u0275elementStart(0,"th",45),t.\u0275\u0275text(1,"Total"),t.\u0275\u0275elementEnd())}function he(l,n){if(1&l&&(t.\u0275\u0275elementStart(0,"td",46),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&l){const i=n.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(i.total)}}function fe(l,n){1&l&&(t.\u0275\u0275elementStart(0,"th",45),t.\u0275\u0275text(1,"Actiones"),t.\u0275\u0275elementEnd())}const pe=function(l){return["travel/",l]};function Te(l,n){if(1&l){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",46)(1,"div",47)(2,"button",48),t.\u0275\u0275element(3,"i",49),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"button",50),t.\u0275\u0275element(5,"i",51),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"button",52),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(i).$implicit,w=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(w.OnOpenModal(o.idtravel))}),t.\u0275\u0275element(7,"i",53),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"button",54),t.\u0275\u0275element(9,"i",55),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"mat-menu",null,56)(12,"button",57),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(i).$implicit,w=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(w.pfd1(o.idtravel))}),t.\u0275\u0275elementStart(13,"mat-icon"),t.\u0275\u0275text(14,"print"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"span"),t.\u0275\u0275text(16,"Manifiesto"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(17,"button",57),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(i).$implicit,w=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(w.pfd2(o.idtravel))}),t.\u0275\u0275elementStart(18,"mat-icon"),t.\u0275\u0275text(19,"print"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(20,"span"),t.\u0275\u0275text(21,"Recepci\xf3n"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(22,"button",57),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(i);const f=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(f.pfd3())}),t.\u0275\u0275elementStart(23,"mat-icon"),t.\u0275\u0275text(24,"print"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(25,"span"),t.\u0275\u0275text(26,"Recepci\xf3n"),t.\u0275\u0275elementEnd()()()()()}if(2&l){const i=n.$implicit,a=t.\u0275\u0275reference(11);t.\u0275\u0275advance(2),t.\u0275\u0275property("routerLink",t.\u0275\u0275pureFunction1(2,pe,i.idtravel)),t.\u0275\u0275advance(6),t.\u0275\u0275property("matMenuTriggerFor",a)}}function Se(l,n){1&l&&t.\u0275\u0275element(0,"tr",58)}function Ce(l,n){1&l&&t.\u0275\u0275element(0,"tr",59)}function ge(l,n){1&l&&(t.\u0275\u0275elementStart(0,"tr",60)(1,"td",61),t.\u0275\u0275text(2,"No hay Datos"),t.\u0275\u0275elementEnd()())}const xe=function(){return["/displaypanel"]},ve=function(){return["/displaypanel/route"]},be=function(){return["travel/"]};class D{set paginator(n){n&&(this.dataSource.paginator=n)}constructor(n,i,a,f,o,w,m,h,T){this.VehicleSvc=n,this.travelSvc=i,this.TabulationSvc=a,this.reportSvc=f,this.toastr=o,this.dialog=w,this.pdfprint=m,this.authSvc=h,this.companySvc=T,this.displayedColumns=["index","origin","Destination","kms","hours","total","actions"],this.dataSource=new C.by,this.length=0,this.pageSize=10,this.travel=[],this.pageSizeOptions=[],this.Vehicles=[],this.idvehicle=0,this.isdata=!1,this.trailers=[]}ngOnInit(){this.VehicleSvc.GetVehicle().subscribe(n=>{this.Vehicles=n},n=>console.error(n)),this.VehicleSvc.GetTrailer().subscribe(n=>{this.trailers=n}),this.travelSvc.GetTravel().subscribe(n=>{this.travel=n,this.length=n.length,this.pageSizeOptions=[5,10,20,n.length]},n=>console.error(n))}applyFilter(n){this.dataSource.filter=n.target.value.trim().toLowerCase()}vehicle(n){this.dataSource.data=this.travel.filter(i=>i.idvehicle==n.idvehicle)}trailer(n){this.dataSource.data=this.travel.filter(i=>i.idtrailer==n.idtrailer)}delete(n){window.confirm("Desea eliminar este Registro")&&this.travelSvc.DeleteTravel(n).subscribe(i=>{this.m=i,this.toastr.error("Registro Elimindo","Eliminado",{timeOut:3e3}),this.dataSource.data=[]},i=>console.error(i))}OnOpenModal(n){this.dialog.open(L,{maxHeight:"100hv",maxWidth:"100hv",height:"100%",width:"100%",hasBackdrop:!0,disableClose:!0,data:{title:"Mapa",id:n}}).afterClosed().subscribe(a=>{},a=>console.error(a))}pfd1(n){this.reportSvc.GetReport(n,this.authSvc.userValue.idcompany).subscribe(i=>{this.companySvc.GetCompanyName(this.authSvc.userValue.idcompany).subscribe(a=>{this.pdfprint.pdf1(i,a)},a=>console.error(a))},i=>{console.error(i)})}pfd2(n){this.reportSvc.GetReportGuide(n,this.authSvc.userValue.idcompany).subscribe(i=>{this.pdfprint.pdf2(i)},i=>{console.error(i)})}pfd3(){this.companySvc.GetCompanyName(this.authSvc.userValue.idcompany).subscribe(n=>{this.pdfprint.pdf3(n)},n=>console.error(n))}}D.\u0275fac=function(n){return new(n||D)(t.\u0275\u0275directiveInject(F.f),t.\u0275\u0275directiveInject(S.r),t.\u0275\u0275directiveInject(j.E),t.\u0275\u0275directiveInject(z),t.\u0275\u0275directiveInject(k._W),t.\u0275\u0275directiveInject(g.uw),t.\u0275\u0275directiveInject(E),t.\u0275\u0275directiveInject(Y.e),t.\u0275\u0275directiveInject(Q.J))},D.\u0275cmp=t.\u0275\u0275defineComponent({type:D,selectors:[["app-travels"]],viewQuery:function(n,i){if(1&n&&t.\u0275\u0275viewQuery(ee,5),2&n){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(i.paginator=a.first)}},decls:70,vars:14,consts:[[1,"container-fluid","body"],[1,"mt-4"],["aria-label","breadcrume"],["aria-label","breadcrumb",1,"breadcrumb",2,"--bs-breadcrumb-divider","url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E\")"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"fa-solid","fa-house"],["aria-current","page",1,"breadcrumb-item","active"],[1,"form-group","d-flex","justify-content-between"],[1,"fw-bold"],["type","button",1,"btn","btn-lg","btn-success","btn-sm",3,"routerLink"],[1,"fa-solid","fa-plus"],[2,"margin-left","10px"],[1,"mt-1"],[1,"row"],["itemSize","50",1,"col-sm-3","card","vh",2,"height","71vh"],["mat-subheader","",1,"fw-bold"],[4,"ngFor","ngForOf"],[1,"col-sm-9"],[1,"card","vh"],[1,"d-flex","justify-content-between",2,"margin","10px"],[1,"mb-1","row","text-black"],[1,"spacer1"],[1,"form-outline"],["type","search","id","form1","placeholder","Search","aria-label","Search",1,"form-control",3,"keyup"],["mat-table","",1,"table","table-striped","table-hover","text-center",3,"dataSource"],["matColumnDef","index"],["scope","col",4,"matHeaderCellDef"],["scope","row",4,"matCellDef"],["matColumnDef","hours"],["matColumnDef","kms"],["matColumnDef","origin"],["matColumnDef","Destination"],["matColumnDef","total"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],["scheduledOrdersPaginator",""],["mat-list-item","","detail","false","routerDirection","root","routerLinkActive","selected",3,"click"],["matListItemIcon",""],[1,"fa-solid","fa-truck"],["matListItemTitle",""],[1,"fa-solid","fa-trailer"],["scope","col"],["scope","row"],[1,""],[1,"spacer","btn","btn-outline-warning",3,"routerLink"],[1,"fa-solid","fa-file-pen"],[1,"spacer","btn","btn-outline-danger"],[1,"fa-solid","fa-trash-can"],[1,"spacer","btn","btn-outline-primary",3,"click"],[1,"fa-solid","fa-map-location-dot"],[1,"spacer","btn","btn-outline-info",3,"matMenuTriggerFor"],[1,"fa-solid","fa-print"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","8",1,"mat-cell"]],template:function(n,i){1&n&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275element(1,"div",1),t.\u0275\u0275elementStart(2,"nav",2)(3,"ol",3)(4,"li",4)(5,"a",5),t.\u0275\u0275element(6,"i",6),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"li",4)(8,"a",5),t.\u0275\u0275text(9,"Rutas"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(10,"li",7),t.\u0275\u0275text(11,"Viajes"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(12,"div",8)(13,"h4",9),t.\u0275\u0275text(14,"Viajes"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"button",10),t.\u0275\u0275element(16,"i",11)(17,"span",12),t.\u0275\u0275text(18," Nuevo Viaje "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(19,"div",13),t.\u0275\u0275elementStart(20,"div",14)(21,"cdk-virtual-scroll-viewport",15)(22,"mat-list")(23,"h3",16),t.\u0275\u0275text(24,"Vehiculo"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(25,te,7,1,"mat-nav-list",17),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(26,"mat-list")(27,"h3",16),t.\u0275\u0275text(28,"Remolque"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(29,ne,7,1,"mat-nav-list",17),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(30,"div",18)(31,"div",19)(32,"div",20),t.\u0275\u0275element(33,"samp",12)(34,"div",21)(35,"div",22),t.\u0275\u0275elementStart(36,"div",23)(37,"input",24),t.\u0275\u0275listener("keyup",function(f){return i.applyFilter(f)}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(38,"table",25),t.\u0275\u0275elementContainerStart(39,26),t.\u0275\u0275template(40,oe,2,0,"th",27),t.\u0275\u0275template(41,ie,2,1,"td",28),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(42,29),t.\u0275\u0275template(43,de,2,0,"th",27),t.\u0275\u0275element(44,"th"),t.\u0275\u0275template(45,le,2,1,"td",28),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(46,30),t.\u0275\u0275template(47,ae,2,0,"th",27),t.\u0275\u0275element(48,"th"),t.\u0275\u0275template(49,re,2,1,"td",28),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(50,31),t.\u0275\u0275template(51,se,2,0,"th",27),t.\u0275\u0275element(52,"th"),t.\u0275\u0275template(53,ue,2,0,"td",28),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(54,32),t.\u0275\u0275template(55,me,2,0,"th",27),t.\u0275\u0275element(56,"th"),t.\u0275\u0275template(57,ce,2,0,"td",28),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(58,33),t.\u0275\u0275template(59,we,2,0,"th",27),t.\u0275\u0275element(60,"th"),t.\u0275\u0275template(61,he,2,1,"td",28),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(62,34),t.\u0275\u0275template(63,fe,2,0,"th",27),t.\u0275\u0275template(64,Te,27,4,"td",28),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(65,Se,1,0,"tr",35),t.\u0275\u0275template(66,Ce,1,0,"tr",36),t.\u0275\u0275template(67,ge,3,0,"tr",37),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(68,"mat-paginator",38,39),t.\u0275\u0275elementEnd()()()()),2&n&&(t.\u0275\u0275advance(5),t.\u0275\u0275property("routerLink",t.\u0275\u0275pureFunction0(11,xe)),t.\u0275\u0275advance(3),t.\u0275\u0275property("routerLink",t.\u0275\u0275pureFunction0(12,ve)),t.\u0275\u0275advance(7),t.\u0275\u0275property("routerLink",t.\u0275\u0275pureFunction0(13,be)),t.\u0275\u0275advance(10),t.\u0275\u0275property("ngForOf",i.Vehicles),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",i.trailers),t.\u0275\u0275advance(9),t.\u0275\u0275property("dataSource",i.dataSource),t.\u0275\u0275advance(27),t.\u0275\u0275property("matHeaderRowDef",i.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",i.displayedColumns),t.\u0275\u0275advance(2),t.\u0275\u0275property("length",i.length)("pageSize",5)("pageSizeOptions",i.pageSizeOptions))},dependencies:[s.sg,u.rH,u.Od,$.VK,$.OP,$.p6,I.i$,I.Hk,I.Tg,I.Yt,I.gs,X.d,I.sL,U.Hw,C.BZ,C.fO,C.as,C.w1,C.Dz,C.nj,C.XQ,C.Gk,C.Ee,_.xd,_.N7,q.NW],styles:[".vh[_ngcontent-%COMP%]{height:71vh}.spacer[_ngcontent-%COMP%]{border:none}.spacer2[_ngcontent-%COMP%]{margin:10px}.spacer1[_ngcontent-%COMP%]{flex:1 1 auto;margin-left:40%}"]});const ze=[{path:"",component:D},{path:"travel",loadChildren:()=>Promise.all([r.e(592),r.e(439)]).then(r.bind(r,2439)).then(l=>l.TravelModule)},{path:"travel/:id",loadChildren:()=>Promise.all([r.e(592),r.e(439)]).then(r.bind(r,2439)).then(l=>l.TravelModule)}];class A{}A.\u0275fac=function(n){return new(n||A)},A.\u0275mod=t.\u0275\u0275defineNgModule({type:A}),A.\u0275inj=t.\u0275\u0275defineInjector({imports:[u.Bz.forChild(ze),u.Bz]});var Ee=r(4738),Ie=r(4006);class R{}R.\u0275fac=function(n){return new(n||R)},R.\u0275mod=t.\u0275\u0275defineNgModule({type:R}),R.\u0275inj=t.\u0275\u0275defineInjector({imports:[s.ez,A,Ee.q,Ie.UX]})},7402:(M,b,r)=>{r.d(b,{C:()=>S});var s=r(2340),u=r(262),C=r(2843),g=r(4650),t=r(529);class S{constructor(d){this.http=d}GetGuide(){return this.http.get(`${s.N.API_URL}/guide/guide/`).pipe((0,u.K)(this.handlerError))}GetGuideLocationLatitude(d){return this.http.get(`${s.N.API_URL}/guide/guidelocationlatitude/${d}/`).pipe((0,u.K)(this.handlerError))}PostGuide(d){return this.http.post(`${s.N.API_URL}/guide/guide/`,d).pipe((0,u.K)(this.handlerError))}GetIdGuide(d){return this.http.get(`${s.N.API_URL}/guide/guide/${d}/`).pipe((0,u.K)(this.handlerError))}PutGuide(d,c){return this.http.put(`${s.N.API_URL}/guide/guide/${c}/`,d).pipe((0,u.K)(this.handlerError))}DeleteGuide(d){return this.http.delete(`${s.N.API_URL}/guide/guide/${d}/`).pipe((0,u.K)(this.handlerError))}GetGuideDeactivateUser(d,c,O){return this.http.get(`${s.N.API_URL}/guide/guidedeactivate/${d}/${c}/${O}`).pipe((0,u.K)(this.handlerError))}GetGuideListView(d){return this.http.get(`${s.N.API_URL}/guide/guidedetailsview/${d}/`).pipe((0,u.K)(this.handlerError))}GetGuideActivateUser(d){return this.http.get(`${s.N.API_URL}/guide/guideactivate/${d}/`).pipe((0,u.K)(this.handlerError))}GetUnit(){return this.http.get(`${s.N.API_URL}/guide/unit/`).pipe((0,u.K)(this.handlerError))}PostUnit(d){return this.http.post(`${s.N.API_URL}/guide/unit/`,d).pipe((0,u.K)(this.handlerError))}GetIdUnit(d){return this.http.get(`${s.N.API_URL}/guide/unit/${d}/`).pipe((0,u.K)(this.handlerError))}PutUnit(d,c){return this.http.put(`${s.N.API_URL}/guide/unit/${c}/`,d).pipe((0,u.K)(this.handlerError))}DeleteUnit(d){return this.http.delete(`${s.N.API_URL}/guide/unit/${d}/`).pipe((0,u.K)(this.handlerError))}GetInvoiceType(){return this.http.get(`${s.N.API_URL}/guide/invoicetype/`).pipe((0,u.K)(this.handlerError))}PostInvoiceType(d){return this.http.post(`${s.N.API_URL}/guide/invoicetype/`,d).pipe((0,u.K)(this.handlerError))}GetIdInvoiceType(d){return this.http.get(`${s.N.API_URL}/guide/invoicetype/${d}/`).pipe((0,u.K)(this.handlerError))}PutInvoiceType(d,c){return this.http.put(`${s.N.API_URL}/guide/invoicetype/${c}/`,d).pipe((0,u.K)(this.handlerError))}DeleteInvoiceType(d){return this.http.delete(`${s.N.API_URL}/guide/invoicetype/${d}/`).pipe((0,u.K)(this.handlerError))}GetGuideContentDetail(){return this.http.get(`${s.N.API_URL}/guide/guidecontentdetail/`).pipe((0,u.K)(this.handlerError))}PostGuideContentDetail(d){return this.http.post(`${s.N.API_URL}/guide/guidecontentdetail/`,d).pipe((0,u.K)(this.handlerError))}GetIdGuideContentDetail(d){return this.http.get(`${s.N.API_URL}/guide/guidecontentdetail/${d}/`).pipe((0,u.K)(this.handlerError))}PutGuideContentDetail(d,c){return this.http.put(`${s.N.API_URL}/guide/guidecontentdetail/${c}/`,d).pipe((0,u.K)(this.handlerError))}DeleteGuideContentDetail(d){return this.http.delete(`${s.N.API_URL}/guide/guidecontentdetail/${d}/`).pipe((0,u.K)(this.handlerError))}GetGuideContentDetailTmp(){return this.http.get(`${s.N.API_URL}/guide/guidecontentdetailtmp/`).pipe((0,u.K)(this.handlerError))}PostGuideContentDetailTmp(d){return this.http.post(`${s.N.API_URL}/guide/guidecontentdetailtmp/`,d).pipe((0,u.K)(this.handlerError))}GetIdGuideContentDetailTmp(d){return this.http.get(`${s.N.API_URL}/guide/guidecontentdetailtmp/${d}/`).pipe((0,u.K)(this.handlerError))}PutGuideContentDetailTmp(d,c){return this.http.put(`${s.N.API_URL}/guide/guidecontentdetailtmp/${c}/`,d).pipe((0,u.K)(this.handlerError))}DeleteGuideContentDetailTmp(d){return this.http.delete(`${s.N.API_URL}/guide/guidecontentdetailtmp/${d}/`).pipe((0,u.K)(this.handlerError))}GetGuideContent(){return this.http.get(`${s.N.API_URL}/guide/guidecontent/`).pipe((0,u.K)(this.handlerError))}PostGuideContent(d){return this.http.post(`${s.N.API_URL}/guide/guidecontent/`,d).pipe((0,u.K)(this.handlerError))}GetIdGuideContent(d){return this.http.get(`${s.N.API_URL}/guide/guidecontent/${d}/`).pipe((0,u.K)(this.handlerError))}PutGuideContent(d,c){return this.http.put(`${s.N.API_URL}/guide/guidecontent/${c}/`,d).pipe((0,u.K)(this.handlerError))}DeleteGuideContent(d){return this.http.delete(`${s.N.API_URL}/guide/guidecontent/${d}/`).pipe((0,u.K)(this.handlerError))}handlerError(d){let c="an error occured retrienving data";return d&&(c=`${d.error.message}`),"token_not_valid"==d.error.code&&window.location.reload(),(0,C._)(c)}}S.\u0275fac=function(d){return new(d||S)(g.\u0275\u0275inject(t.eN))},S.\u0275prov=g.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac,providedIn:"root"})},793:(M,b,r)=>{r.d(b,{r:()=>S});var s=r(2340),u=r(262),C=r(2843),g=r(4650),t=r(529);class S{constructor(d){this.http=d}GetTravel(){return this.http.get(`${s.N.API_URL}/guide/travel/`).pipe((0,u.K)(this.handlerError))}GetIdTravel(d){return this.http.get(`${s.N.API_URL}/guide/travel/${d}/`).pipe((0,u.K)(this.handlerError))}PostTravel(d){return this.http.post(`${s.N.API_URL}/guide/travel/`,d).pipe((0,u.K)(this.handlerError))}PutTravel(d,c){return this.http.put(`${s.N.API_URL}/guide/travel/${c}/`,d).pipe((0,u.K)(this.handlerError))}DeleteTravel(d){return this.http.delete(`${s.N.API_URL}/guide/travel/${d}/`).pipe((0,u.K)(this.handlerError))}handlerError(d){let c="";return d&&(c=d.error),"token_not_valid"==d.error.code&&window.location.reload(),(0,C._)(c)}}S.\u0275fac=function(d){return new(d||S)(g.\u0275\u0275inject(t.eN))},S.\u0275prov=g.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac,providedIn:"root"})}}]);