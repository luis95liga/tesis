"use strict";(self.webpackChunkapptrasrouter=self.webpackChunkapptrasrouter||[]).push([[181],{6181:(W,C,r)=>{r.r(C),r.d(C,{CountryModule:()=>c});var p=r(6895),b=r(4738),f=r(9299),o=r(4006),s=r(671),t=r(4650),S=r(7121),E=r(7185),v=r(7974),_=r(5829);const x=["scheduledOrdersPaginator"];function O(i,e){if(1&i&&(t.\u0275\u0275elementStart(0,"div",43),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",n.errorMessage("initials")," ")}}function w(i,e){if(1&i&&(t.\u0275\u0275elementStart(0,"div",43),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",n.errorMessage("name")," ")}}function T(i,e){1&i&&(t.\u0275\u0275elementStart(0,"th",44),t.\u0275\u0275text(1,"Id"),t.\u0275\u0275elementEnd())}function D(i,e){if(1&i&&(t.\u0275\u0275elementStart(0,"td",45),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const n=e.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(n.idcountry)}}function I(i,e){1&i&&(t.\u0275\u0275elementStart(0,"th",44),t.\u0275\u0275text(1,"Iniciales"),t.\u0275\u0275elementEnd())}function k(i,e){if(1&i&&(t.\u0275\u0275elementStart(0,"td",45),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const n=e.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(n.initials)}}function M(i,e){1&i&&(t.\u0275\u0275elementStart(0,"th",44),t.\u0275\u0275text(1,"Nombre"),t.\u0275\u0275elementEnd())}function z(i,e){if(1&i&&(t.\u0275\u0275elementStart(0,"td",45),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const n=e.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(n.name)}}function N(i,e){1&i&&(t.\u0275\u0275elementStart(0,"th",44),t.\u0275\u0275text(1,"Actiones"),t.\u0275\u0275elementEnd())}function P(i,e){if(1&i){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",45)(1,"div",46)(2,"button",47),t.\u0275\u0275listener("click",function(){const u=t.\u0275\u0275restoreView(n).$implicit,y=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(y.edit(u))}),t.\u0275\u0275element(3,"i",48),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"button",49),t.\u0275\u0275listener("click",function(){const u=t.\u0275\u0275restoreView(n).$implicit,y=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(y.delete(u.idcountry))}),t.\u0275\u0275element(5,"i",50),t.\u0275\u0275elementEnd()()()}}function j(i,e){1&i&&t.\u0275\u0275element(0,"tr",51)}function F(i,e){1&i&&t.\u0275\u0275element(0,"tr",52)}const R=function(){return["/displaypanel"]},L=function(){return["/displaypanel/business"]},g=function(i,e){return{"is-invalid":i,"is-valid":e}};var l=(()=>{return(i=l||(l={})).EDIT="edit",i.NEW="new",l;var i})();class d{set paginator(e){e&&(this.dataSource.paginator=e)}constructor(e,n,a){this.placeSvc=e,this.fb=n,this.toastr=a,this.actionTODO="",this.isedit=0,this.message="",this.displayedColumns=["idcountry","initials","name","actions"],this.dataSource=new s.by,this.length=0,this.pageSize=10,this.pageSizeOptions=[],this.numRegex=/^-?\d*[.,]?\d{0,2}$/,this.m=[],this.ed=!1,this.cl=!1,this.countrys=[],this.country=[]}ngOnInit(){this.cl=!1,this.actionTODO=l.NEW,this.list(),this.countryForm()}list(){this.placeSvc.GetCountry().subscribe(e=>{this.dataSource.data=e,this.length=e.length,this.pageSizeOptions=[5,10,20,e.length]},e=>console.error(e))}countryForm(){this.countryform=this.fb.group({initials:[{value:"",disabled:!0},[o.kI.required,o.kI.minLength(2)]],name:[{value:"",disabled:!0},[o.kI.required,o.kI.minLength(5)]]})}fromdisable(e){e?(this.countryform.controls.initials.enable(),this.countryform.controls.name.enable()):(this.countryform.controls.initials.disable(),this.countryform.controls.name.disable())}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}save(){const e=this.countryform.value;0==this.isedit?this.actionTODO===l.NEW&&this.placeSvc.PostCountry(e).subscribe(n=>{this.m=n,this.toastr.success(this.m.message,"Creado",{timeOut:3e3}),this.list(),this.countryform.reset(),this.isedit=0,this.cl=!1,this.ed=!1,this.fromdisable(this.ed)}):this.actionTODO===l.EDIT&&this.placeSvc.PutCountry(e,this.isedit).subscribe(n=>{this.m=n,this.toastr.warning(this.m.message,"actulizado",{timeOut:3e3}),this.list(),this.countryform.reset(),this.isedit=0,this.actionTODO=l.NEW,this.cl=!1,this.ed=!1,this.fromdisable(this.ed)})}new(){this.actionTODO=l.NEW,this.countryform.reset(),this.isedit=0,this.ed=!0,this.fromdisable(this.ed),this.cl=!0}edit(e){this.ed=!0,this.fromdisable(this.ed),this.actionTODO=l.EDIT,this.isedit=e.idcountry,this.countryform.patchValue({initials:e.initials,name:e.name}),this.countryform.updateValueAndValidity()}cancel(){this.ed=!1,this.fromdisable(this.ed),this.cl=!1,this.countryform.reset(),this.isedit=0,this.actionTODO=l.NEW}delete(e){window.confirm("Desea eliminar este Registro")&&this.placeSvc.DeleteCountry(e).subscribe(n=>{this.toastr.error("Registro Eliminado","Eliminado",{timeOut:3e3}),this.list()})}isvalid(e){return this.countryform.get(e).invalid&&(this.countryform.get(e).dirty||this.countryform.get(e).touched)}errorMessage(e){const{errors:n}=this.countryform.get(e);let a=n?.minlength?.requiredLength;return n?{required:"el campo es requerido",minlength:`el valor ingresado es menor a ${a} carateres`}[Object.keys(n).find(Boolean)||""]:""}}d.\u0275fac=function(e){return new(e||d)(t.\u0275\u0275directiveInject(S.k),t.\u0275\u0275directiveInject(o.qu),t.\u0275\u0275directiveInject(E._W))},d.\u0275cmp=t.\u0275\u0275defineComponent({type:d,selectors:[["app-country"]],viewQuery:function(e,n){if(1&e&&t.\u0275\u0275viewQuery(x,5),2&e){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(n.paginator=a.first)}},decls:61,vars:23,consts:[[1,"container-fluid"],[1,"mt-4"],["aria-label","breadcrumb",1,"breadcrumb",2,"--bs-breadcrumb-divider","url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E\")"],[1,"breadcrumb-item"],[1,"text-info-emphasis",3,"routerLink"],[1,"fa-solid","fa-house"],[3,"routerLink"],[1,"breadcrumb-item","active"],[1,"form-group","d-flex","justify-content-between"],[1,"fw-bold"],["type","button",1,"btn","btn-lg","btn-primary","btn-sm",3,"click"],[1,"fa-solid","fa-plus"],[1,"mt-1"],[1,"card"],[1,"card-body",3,"formGroup"],[1,"row"],[1,"col-sm-5"],[1,"form-group","row"],[1,"col-sm-3","col-form-label","fw-bold"],[1,"col-sm-9"],["type","text","placeholder","AB","formControlName","initials","required","",1,"form-control","form-control-sm",3,"ngClass"],["class","text-danger",4,"ngIf"],[1,"col-sm-6"],[1,"col-sm-2","col-form-label","fw-bold"],[1,"col-sm-10"],["type","text","placeholder","Pais","formControlName","name","required","",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-sm-1"],["type","button",1,"spacer","btn","btn-outline-success","btn-sm",3,"disabled","click"],[1,"fa-solid","fa-floppy-disk"],["type","button",1,"spacer","btn","btn-outline-danger","btn-sm",3,"disabled","click"],[1,"fa-solid","fa-trash"],[1,"card-body"],["mat-table","",1,"table","table-striped","table-hover",3,"dataSource"],["matColumnDef","idcountry"],["scope","col",4,"matHeaderCellDef"],["scope","row",4,"matCellDef"],["matColumnDef","initials"],["matColumnDef","name"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],["scheduledOrdersPaginator",""],[1,"text-danger"],["scope","col"],["scope","row"],[1,""],[1,"spacer","btn","btn-outline-warning",3,"click"],[1,"fa-solid","fa-file-pen"],[1,"spacer","btn","btn-outline-danger",3,"click"],[1,"fa-solid","fa-trash-can"],["mat-header-row",""],["mat-row",""]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275element(1,"div",1),t.\u0275\u0275elementStart(2,"ol",2)(3,"li",3)(4,"a",4),t.\u0275\u0275element(5,"i",5),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"li",3)(7,"a",6),t.\u0275\u0275text(8,"Empresa"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"li",7),t.\u0275\u0275text(10,"Pais"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(11,"div",8)(12,"h4",9),t.\u0275\u0275text(13,"Pa\xeds"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(14,"button",10),t.\u0275\u0275listener("click",function(){return n.new()}),t.\u0275\u0275element(15,"i",11),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(16,"div",12),t.\u0275\u0275elementStart(17,"div",13)(18,"form",14)(19,"div",15)(20,"div",16)(21,"div",17)(22,"label",18),t.\u0275\u0275text(23,"Iniciales:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(24,"div",19),t.\u0275\u0275element(25,"input",20),t.\u0275\u0275template(26,O,2,1,"div",21),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(27,"div",22)(28,"div",17)(29,"label",23),t.\u0275\u0275text(30,"Nombre:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(31,"div",24),t.\u0275\u0275element(32,"input",25),t.\u0275\u0275template(33,w,2,1,"div",21),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(34,"div",26)(35,"button",27),t.\u0275\u0275listener("click",function(){return n.save()}),t.\u0275\u0275element(36,"i",28),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(37,"button",29),t.\u0275\u0275listener("click",function(){return n.cancel()}),t.\u0275\u0275element(38,"i",30),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275element(39,"div",12),t.\u0275\u0275elementStart(40,"div",13)(41,"div",31)(42,"table",32),t.\u0275\u0275elementContainerStart(43,33),t.\u0275\u0275template(44,T,2,0,"th",34),t.\u0275\u0275template(45,D,2,1,"td",35),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(46,36),t.\u0275\u0275template(47,I,2,0,"th",34),t.\u0275\u0275element(48,"th"),t.\u0275\u0275template(49,k,2,1,"td",35),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(50,37),t.\u0275\u0275template(51,M,2,0,"th",34),t.\u0275\u0275element(52,"th"),t.\u0275\u0275template(53,z,2,1,"td",35),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(54,38),t.\u0275\u0275template(55,N,2,0,"th",34),t.\u0275\u0275template(56,P,6,0,"td",35),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(57,j,1,0,"tr",39),t.\u0275\u0275template(58,F,1,0,"tr",40),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(59,"mat-paginator",41,42),t.\u0275\u0275elementEnd()()()),2&e&&(t.\u0275\u0275advance(4),t.\u0275\u0275property("routerLink",t.\u0275\u0275pureFunction0(15,R)),t.\u0275\u0275advance(3),t.\u0275\u0275property("routerLink",t.\u0275\u0275pureFunction0(16,L)),t.\u0275\u0275advance(11),t.\u0275\u0275property("formGroup",n.countryform),t.\u0275\u0275advance(7),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(17,g,n.isvalid("initials"),n.countryform.get("initials").valid)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isvalid("initials")||!1),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(20,g,n.isvalid("name"),n.countryform.get("name").valid)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isvalid("name")||!1),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",!n.countryform.valid),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",!n.ed),t.\u0275\u0275advance(5),t.\u0275\u0275property("dataSource",n.dataSource),t.\u0275\u0275advance(15),t.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",n.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("length",n.length)("pageSize",5)("pageSizeOptions",n.pageSizeOptions))},dependencies:[p.mk,p.O5,f.rH,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.XQ,s.Gk,v.NW,_.oO,o._Y,o.Fj,o.JJ,o.JL,o.Q7,o.sg,o.u],styles:[".spacer[_ngcontent-%COMP%]{border:none}.spacer2[_ngcontent-%COMP%]{margin:10px}.spacer1[_ngcontent-%COMP%]{flex:1 1 auto;margin-left:40%}table[_ngcontent-%COMP%]{width:100%}.spacer1[_ngcontent-%COMP%]{flex:1 1 auto}"]});const V=[{path:"",component:d}];class m{}m.\u0275fac=function(e){return new(e||m)},m.\u0275mod=t.\u0275\u0275defineNgModule({type:m}),m.\u0275inj=t.\u0275\u0275defineInjector({imports:[f.Bz.forChild(V),f.Bz]});class c{}c.\u0275fac=function(e){return new(e||c)},c.\u0275mod=t.\u0275\u0275defineNgModule({type:c}),c.\u0275inj=t.\u0275\u0275defineInjector({imports:[p.ez,m,b.q,o.UX,v.TU]})}}]);