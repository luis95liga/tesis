"use strict";(self.webpackChunkapptrasrouter=self.webpackChunkapptrasrouter||[]).push([[310],{4310:(Q,v,i)=>{i.r(v),i.d(v,{FuelModule:()=>c});var h=i(6895),b=i(9299),s=i(671),y=i(727),e=i(4650),_=i(2965),o=i(4006);class m{constructor(t){this.fb=t,this.init()}init(){this.fuelform=this.fb.group({type_fuel:[{value:"",disabled:!0},[o.kI.required,o.kI.minLength(4)]],performance:[{value:"",disabled:!0},[o.kI.required,o.kI.min(1)]]})}fromdisable(t){t?(this.fuelform.controls.type_fuel.enable(),this.fuelform.controls.performance.enable()):(this.fuelform.controls.type_fuel.disable(),this.fuelform.controls.performance.disable())}isValidField(t){return this.fuelform.get(t).invalid&&(this.fuelform.get(t).dirty||this.fuelform.get(t).touched)}errorMessage(t){const{errors:l}=this.fuelform.get(t);let r=l?.minlength?.requiredLength;return l?{required:"el campo es requerido",min:"El Campo no puede ser menor a 1",minlength:`el valor ingesado es menor a ${r} carateres`}[Object.keys(l).find(Boolean)||""]:""}}m.\u0275fac=function(t){return new(t||m)(e.\u0275\u0275inject(o.qu))},m.\u0275prov=e.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"});var S=i(7185),F=i(7974),E=i(5829);const x=["scheduledOrdersPaginator"];function w(n,t){if(1&n&&(e.\u0275\u0275elementStart(0,"small",45),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const l=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",l.formfuel1.errorMessage("type_fuel")," ")}}function O(n,t){if(1&n&&(e.\u0275\u0275elementStart(0,"small",45),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const l=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",l.formfuel1.errorMessage("performance")," ")}}function T(n,t){1&n&&(e.\u0275\u0275elementStart(0,"th",46),e.\u0275\u0275text(1,"Id"),e.\u0275\u0275elementEnd())}function k(n,t){if(1&n&&(e.\u0275\u0275elementStart(0,"td",47),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const l=t.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(l.idfuel)}}function D(n,t){1&n&&(e.\u0275\u0275elementStart(0,"th",46),e.\u0275\u0275text(1,"Tipo de Combustible"),e.\u0275\u0275elementEnd())}function I(n,t){if(1&n&&(e.\u0275\u0275elementStart(0,"td",47),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const l=t.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(l.type_fuel)}}function M(n,t){1&n&&(e.\u0275\u0275elementStart(0,"th",46),e.\u0275\u0275text(1,"Capacidad"),e.\u0275\u0275elementEnd())}function j(n,t){if(1&n&&(e.\u0275\u0275elementStart(0,"td",47),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const l=t.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",l.capacity," Gal")}}function z(n,t){1&n&&(e.\u0275\u0275elementStart(0,"th",46),e.\u0275\u0275text(1,"Costo del Galon"),e.\u0275\u0275elementEnd())}function N(n,t){if(1&n&&(e.\u0275\u0275elementStart(0,"td",47),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const l=t.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("$ ",l.performance,"")}}function V(n,t){1&n&&(e.\u0275\u0275elementStart(0,"th",46),e.\u0275\u0275text(1,"Actiones"),e.\u0275\u0275elementEnd())}function R(n,t){if(1&n){const l=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"td",47)(1,"div",48)(2,"button",49),e.\u0275\u0275listener("click",function(){const p=e.\u0275\u0275restoreView(l).$implicit,g=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(g.edit(p))}),e.\u0275\u0275element(3,"i",50),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",51),e.\u0275\u0275listener("click",function(){const p=e.\u0275\u0275restoreView(l).$implicit,g=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(g.delete(p.idfuel))}),e.\u0275\u0275element(5,"i",52),e.\u0275\u0275elementEnd()()()}}function P(n,t){1&n&&e.\u0275\u0275element(0,"tr",53)}function W(n,t){1&n&&e.\u0275\u0275element(0,"tr",54)}const B=function(){return["/displaypanel"]},L=function(){return["/displaypanel/vehicle"]},C=function(n,t){return{"is-invalid":n,"is-valid":t}};var a=(()=>{return(n=a||(a={})).EDIT="EDIT",n.NEW="NEW",a;var n})();class d{set paginator(t){t&&(this.dataSource.paginator=t)}constructor(t,l,r){this.catalogueSvc=t,this.formfuel1=l,this.toastr=r,this.subscription=new y.w0,this.m=[],this.actionTODO="",this.isedit=0,this.message="",this.displayedColumns=["idfuel","type_fuel","performance","actions"],this.dataSource=new s.by,this.length=0,this.pageSize=10,this.pageSizeOptions=[],this.ed=!1,this.fuels=[],this.fuel=[]}ngOnDestroy(){this.subscription.unsubscribe()}ngOnInit(){this.actionTODO=a.NEW,this.list()}list(){this.ed=!1,this.catalogueSvc.GetFuel().subscribe(t=>{this.dataSource.data=t,this.length=t.length,this.pageSizeOptions=[5,10,20,t.length]},t=>console.error(t))}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}save(){if(this.formfuel1.fuelform.invalid)return;const t=this.formfuel1.fuelform.value;0==this.isedit?this.actionTODO===a.NEW&&this.catalogueSvc.PostFuel(t).subscribe(l=>{this.m=l,this.toastr.success(this.m.message,"Creado",{timeOut:3e3}),this.list(),this.formfuel1.fuelform.reset(),this.isedit=0,this.ed=!1,this.formfuel1.fromdisable(this.ed)}):this.actionTODO===a.EDIT&&this.catalogueSvc.PutFuel(t,this.isedit).subscribe(l=>{this.m=l,this.toastr.warning(this.m.message,"Actualizado",{timeOut:3e3}),this.list(),this.formfuel1.fuelform.reset(),this.isedit=0,this.actionTODO=a.NEW,this.ed=!1,this.formfuel1.fromdisable(this.ed)})}New(){this.ed=!0,this.formfuel1.fromdisable(this.ed),this.actionTODO=a.NEW,this.formfuel1.fuelform.reset(),this.isedit=0}edit(t){this.ed=!0,this.formfuel1.fromdisable(this.ed),this.actionTODO=a.EDIT,this.isedit=t.idfuel,this.formfuel1.fuelform.patchValue({type_fuel:t.type_fuel,performance:t.performance}),this.formfuel1.fuelform.updateValueAndValidity()}cancel(){this.formfuel1.fuelform.reset(),this.isedit=0,this.actionTODO=a.NEW,this.ed=!1,this.formfuel1.fromdisable(this.ed)}delete(t){window.confirm("Desea eliminar este Registro")&&this.catalogueSvc.DeleteFuel(t).subscribe(()=>{this.toastr.error("Registro Eliminado","Eliminado",{timeOut:3e3}),this.list()})}checkField(t){return this.formfuel1.isValidField(t)}}d.\u0275fac=function(t){return new(t||d)(e.\u0275\u0275directiveInject(_.k),e.\u0275\u0275directiveInject(m),e.\u0275\u0275directiveInject(S._W))},d.\u0275cmp=e.\u0275\u0275defineComponent({type:d,selectors:[["app-fuel"]],viewQuery:function(t,l){if(1&t&&e.\u0275\u0275viewQuery(x,5),2&t){let r;e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(l.paginator=r.first)}},decls:73,vars:23,consts:[[1,"container-fluid"],[1,"mt-4"],["aria-label","breadcrumb",1,"breadcrumb",2,"--bs-breadcrumb-divider","url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E\")"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"fa-solid","fa-house"],[1,"breadcrumb-item","active"],[1,"form-group","d-flex","justify-content-between"],[1,"fw-bold"],["type","button",1,"btn","btn-lg","btn-primary","btn-sm",3,"click"],[1,"fa-solid","fa-plus"],[1,"mt-1"],[1,"card"],[1,"card-body",3,"formGroup"],[1,"row"],[1,"col-sm-6"],[1,"form-group","row"],[1,"col-sm-4","col-form-label","fw-bold"],[1,"col-sm-8"],["type","text","placeholder","Diecel","formControlName","type_fuel",1,"form-control","form-control-sm",3,"ngClass"],["class","form-text text-danger",4,"ngIf"],[1,"col-sm-5"],["type","number","min","1","step","0.01","placeholder","000.00","formControlName","performance",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-sm-1"],["type","button",1,"spacer","btn","btn-outline-success","btn-sm",3,"disabled","click"],[1,"fa-solid","fa-floppy-disk"],["type","button",1,"spacer","btn","btn-outline-danger","btn-sm",3,"disabled","click"],[1,"fa-solid","fa-trash"],[1,"card-body"],[1,"d-flex","justify-content-between"],[1,"mb-1","row","text-black"],[1,"spacer1"],["type","text","placeholder","Buscar",1,"form-control","form-control-sm",3,"keyup"],["mat-table","",1,"table","table-striped","table-hover",3,"dataSource"],["matColumnDef","idfuel"],["scope","col",4,"matHeaderCellDef"],["scope","row",4,"matCellDef"],["matColumnDef","type_fuel"],["matColumnDef","capacity"],["matColumnDef","performance"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],["scheduledOrdersPaginator",""],[1,"form-text","text-danger"],["scope","col"],["scope","row"],[1,""],[1,"spacer","btn","btn-outline-warning",3,"click"],[1,"fa-solid","fa-file-pen"],[1,"spacer","btn","btn-outline-danger",3,"click"],[1,"fa-solid","fa-trash-can"],["mat-header-row",""],["mat-row",""]],template:function(t,l){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"div",1),e.\u0275\u0275elementStart(2,"ol",2)(3,"li",3)(4,"a",4),e.\u0275\u0275element(5,"i",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"li",3)(7,"a",4),e.\u0275\u0275text(8,"Veh\xedculos"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"li",6),e.\u0275\u0275text(10,"Combustible"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div",7)(12,"h4",8),e.\u0275\u0275text(13,"Combustible"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"button",9),e.\u0275\u0275listener("click",function(){return l.New()}),e.\u0275\u0275element(15,"i",10),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(16,"div",11),e.\u0275\u0275elementStart(17,"div",12)(18,"form",13)(19,"div",14)(20,"div",15)(21,"div",16)(22,"label",17),e.\u0275\u0275text(23,"Tipo de Combustible:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"div",18),e.\u0275\u0275element(25,"input",19),e.\u0275\u0275template(26,w,2,1,"small",20),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(27,"div",21)(28,"div",16)(29,"label",17),e.\u0275\u0275text(30,"Costo del Galon:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"div",18),e.\u0275\u0275element(32,"input",22),e.\u0275\u0275template(33,O,2,1,"small",20),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(34,"div",23)(35,"button",24),e.\u0275\u0275listener("click",function(){return l.save()}),e.\u0275\u0275element(36,"i",25),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"button",26),e.\u0275\u0275listener("click",function(){return l.cancel()}),e.\u0275\u0275element(38,"i",27),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275element(39,"div",11),e.\u0275\u0275elementStart(40,"div",12)(41,"div",28)(42,"div",29),e.\u0275\u0275element(43,"div",30)(44,"div",31),e.\u0275\u0275elementStart(45,"div",16)(46,"label",17),e.\u0275\u0275text(47,"Buscar:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"div",18)(49,"input",32),e.\u0275\u0275listener("keyup",function(f){return l.applyFilter(f)}),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(50,"table",33),e.\u0275\u0275elementContainerStart(51,34),e.\u0275\u0275template(52,T,2,0,"th",35),e.\u0275\u0275template(53,k,2,1,"td",36),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(54,37),e.\u0275\u0275template(55,D,2,0,"th",35),e.\u0275\u0275element(56,"th"),e.\u0275\u0275template(57,I,2,1,"td",36),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(58,38),e.\u0275\u0275template(59,M,2,0,"th",35),e.\u0275\u0275element(60,"th"),e.\u0275\u0275template(61,j,2,1,"td",36),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(62,39),e.\u0275\u0275template(63,z,2,0,"th",35),e.\u0275\u0275element(64,"th"),e.\u0275\u0275template(65,N,2,1,"td",36),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(66,40),e.\u0275\u0275template(67,V,2,0,"th",35),e.\u0275\u0275template(68,R,6,0,"td",36),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275template(69,P,1,0,"tr",41),e.\u0275\u0275template(70,W,1,0,"tr",42),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(71,"mat-paginator",43,44),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275advance(4),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(15,B)),e.\u0275\u0275advance(3),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(16,L)),e.\u0275\u0275advance(11),e.\u0275\u0275property("formGroup",l.formfuel1.fuelform),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(17,C,l.checkField("type_fuel"),l.formfuel1.fuelform.get("type_fuel").valid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",l.checkField("type_fuel")||!1),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(20,C,l.checkField("performance"),l.formfuel1.fuelform.get("performance").valid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",l.checkField("performance")||!1),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!l.formfuel1.fuelform.valid),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!l.ed),e.\u0275\u0275advance(13),e.\u0275\u0275property("dataSource",l.dataSource),e.\u0275\u0275advance(19),e.\u0275\u0275property("matHeaderRowDef",l.displayedColumns),e.\u0275\u0275advance(1),e.\u0275\u0275property("matRowDefColumns",l.displayedColumns),e.\u0275\u0275advance(1),e.\u0275\u0275property("length",l.length)("pageSize",5)("pageSizeOptions",l.pageSizeOptions))},dependencies:[h.mk,h.O5,b.rH,o._Y,o.Fj,o.wV,o.JJ,o.JL,o.qQ,o.sg,o.u,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.XQ,s.Gk,F.NW,E.oO],styles:[".spacer[_ngcontent-%COMP%]{border:none}.spacer2[_ngcontent-%COMP%]{margin:10px}.spacer1[_ngcontent-%COMP%]{flex:1 1 auto;margin-left:40%}table[_ngcontent-%COMP%]{width:100%}.spacer1[_ngcontent-%COMP%]{flex:1 1 auto}"]});const $=[{path:"",component:d}];class u{}u.\u0275fac=function(t){return new(t||u)},u.\u0275mod=e.\u0275\u0275defineNgModule({type:u}),u.\u0275inj=e.\u0275\u0275defineInjector({imports:[b.Bz.forChild($),b.Bz]});var G=i(4738);class c{}c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=e.\u0275\u0275defineNgModule({type:c}),c.\u0275inj=e.\u0275\u0275defineInjector({imports:[h.ez,u,o.UX,G.q]})}}]);